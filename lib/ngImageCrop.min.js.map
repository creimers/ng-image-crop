{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///ngImageCrop.min.js","webpack:///webpack/bootstrap 8d957cc7ad9b6f32d107","webpack:///./src/index.js","webpack:///./~/croppie/croppie.css?ca64","webpack:///./~/croppie/croppie.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./~/croppie/croppie.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/process/browser.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","croppie","MODULE_NAME","_module","angular","ImageCropDirectiveCtrl","$scope","$element","_initCroppie","_this","_updateCallback","crop","result","then","img","$apply","croppedImage","croppieOptions","viewport","width","height","type","update","set","_this2","_originalImage","undefined","reader","FileReader","onload","bind","readAsDataURL","get","ImageCropDirective","restrict","scope","originalImage","bindToController","controller","controllerAs","directive","content","locals","push","list","toString","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","Error","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","document","createElement","createLinkElement","linkElement","rel","obj","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","window","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","setImmediate","vendorPrefix","prop","emptyStyles","capProp","toUpperCase","slice","cssPrefixes","deepExtend","destination","source","property","constructor","callee","debounce","func","wait","immediate","timeout","context","args","later","callNow","clearTimeout","setTimeout","dispatchChange","element","evt","createEvent","initEvent","dispatchEvent","fireEvent","el","val","tmp","style","addClass","classList","add","className","removeClass","replace","loadImage","src","imageEl","prom","Image","Promise","resolve","reject","substring","opacity","getExifOrientation","cb","EXIF","getData","orientation","getTag","drawCanvas","canvas","ctx","getContext","save","translate","scale","rotate","Math","PI","drawImage","restore","_create","boundary","overlay","self","contClass","customViewportClass","useCanvas","enableOrientation","_hasExif","data","elements","preview","customClass","_initDraggable","enableZoom","_initializeZoom","enableExif","exif","_setZoomerVal","v","zoomer","fix","change","_onZoom","parseFloat","origin","TransformOrigin","viewportRect","getBoundingClientRect","transform","Transform","parse","scroll","ev","delta","targetZoom","wheelDelta","deltaY","detail","_currentZoom","preventDefault","wrap","zoomerWrap","step","display","showZoomer","addEventListener","mouseWheelZoom","ui","vpRect","enforceBoundary","boundaries","_getVirtualBoundaries","transBoundaries","oBoundaries","x","maxX","minX","y","maxY","minY","transCss","CSS_TRANSFORM","CSS_TRANS_ORG","_debouncedOverlay","_triggerUpdate","vpWidth","vpHeight","centerFromBoundaryX","centerFromBoundaryY","imgRect","curImgWidth","curImgHeight","halfWidth","halfHeight","originMinX","originMaxX","originMinY","originMaxY","_updateCenterPoint","vpData","pc","top","left","center","adj","newCss","mouseDown","isDragging","originalX","pageX","originalY","pageY","touches","mouseMove","mouseUp","body","CSS_USERSELECT","deltaX","touch1","touch2","dist","sqrt","originalDistance","bottom","right","_updateOverlay","removeEventListener","boundRect","imgData","_isVisible","offsetHeight","offsetWidth","_updatePropertiesFromImage","boundaryData","minW","minH","minZoom","maxZoom","initialZoom","cssReset","transformReset","originReset","isVisible","bound","_originalImageWidth","_originalImageHeight","max","min","points","_bindPoints","_centerImage","pointsWidth","vpOffset","originTop","originLeft","transformTop","transformLeft","imgDim","vpDim","boundDim","vpLeft","vpTop","w","h","_transferImageToCanvas","customOrientation","clearRect","parseInt","_getHtmlResult","div","url","_getCanvasResult","circle","outWidth","outHeight","outputWidth","outputHeight","fillStyle","globalCompositeOperation","beginPath","arc","closePath","fill","toDataURL","format","quality","_bind","Array","isArray","map","exifdata","decimalPoints","toFixed","_get","x1","y1","x2","y2","Infinity","isNaN","Number","NEGATIVE_INFINITY","zoom","_result","opts","RESULT_DEFAULTS","size","ratio","RESULT_FORMATS","_refresh","_rotate","deg","copy","ornt","_destroy","Croppie","defaults","bindOpts","a","b","_state","_value","_deferreds","e","f","d","k","onFulfilled","onRejected","g","l","all","race","_setImmediateFn","_TRANSLATE","_TRANSLATE_SUFFIX","fromMatrix","fromString","vals","split","values","jQuery","$","ot","singleInst","each","method","isFunction","removeData","orientationControls","enabled","leftClass","rightClass","refresh","setZoom","destroy","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","Function","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","array","noop","process","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask"],"mappings":"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","file":"ngImageCrop.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ngImageCrop\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngImageCrop\"] = factory();\n\telse\n\t\troot[\"ngImageCrop\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ngImageCrop\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngImageCrop\"] = factory();\n\telse\n\t\troot[\"ngImageCrop\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar croppie = __webpack_require__(5);\n\t\n\tvar MODULE_NAME = 'ngImageCrop';\n\t\n\texports.default = MODULE_NAME;\n\t\n\t\n\tvar _module = angular.module(MODULE_NAME, []);\n\t\n\tvar ImageCropDirectiveCtrl = function () {\n\t  function ImageCropDirectiveCtrl($scope, $element) {\n\t    _classCallCheck(this, ImageCropDirectiveCtrl);\n\t\n\t    this.$element = $element;\n\t    this.$scope = $scope;\n\t    this._initCroppie();\n\t  }\n\t\n\t  _createClass(ImageCropDirectiveCtrl, [{\n\t    key: '_initCroppie',\n\t    value: function _initCroppie() {\n\t      var _this = this;\n\t\n\t      var _updateCallback = function _updateCallback(crop) {\n\t        _this.c.result('canvas').then(function (img) {\n\t          _this.$scope.$apply(function () {\n\t            _this.croppedImage = img;\n\t          });\n\t        });\n\t      };\n\t\n\t      this.croppieOptions = {\n\t        viewport: {\n\t          width: this.width,\n\t          height: this.height,\n\t          type: this.type\n\t        },\n\t        update: _updateCallback\n\t      };\n\t      this.c = new croppie(this.$element[0], this.croppieOptions);\n\t    }\n\t  }, {\n\t    key: 'originalImage',\n\t    set: function set(value) {\n\t      var _this2 = this;\n\t\n\t      this._originalImage = value;\n\t\n\t      if (this._originalImage !== undefined && this.c !== undefined) {\n\t        (function () {\n\t          var reader = new FileReader();\n\t\n\t          reader.onload = function () {\n\t            _this2.c.bind(reader.result);\n\t          };\n\t          reader.readAsDataURL(_this2._originalImage);\n\t        })();\n\t      }\n\t    },\n\t    get: function get() {\n\t      return this._originalImage;\n\t    }\n\t  }]);\n\t\n\t  return ImageCropDirectiveCtrl;\n\t}();\n\t\n\tvar ImageCropDirective = function ImageCropDirective() {\n\t  _classCallCheck(this, ImageCropDirective);\n\t\n\t  this.restrict = 'E';\n\t  this.scope = {\n\t    originalImage: '<',\n\t    croppedImage: '=',\n\t    type: '@',\n\t    height: '@',\n\t    width: '@'\n\t  };\n\t  this.bindToController = true;\n\t  this.controller = ImageCropDirectiveCtrl;\n\t  this.controllerAs = '$ctrl';\n\t};\n\t\n\t_module.directive('imageCrop', function () {\n\t  return new ImageCropDirective();\n\t});\n\t_module.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(2);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../css-loader/index.js!./croppie.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../css-loader/index.js!./croppie.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".croppie-container{padding:30px}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 0 899px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:0 auto;margin-top:25px;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'\\\\21BA'}.cr-rotate-r i:before{content:'\\\\21BB'}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate) {/*************************\r\n\t * Croppie\r\n\t * Copyright 2016\r\n\t * Foliotek\r\n\t * Version: 2.1.1\r\n\t *************************/\r\n\t(function (root, factory) {\r\n\t    if (true) {\r\n\t        // AMD. Register as an anonymous module.\r\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\r\n\t        // CommonJS\r\n\t        factory(exports);\r\n\t    } else {\r\n\t        // Browser globals\r\n\t        factory((root.commonJsStrict = {}));\r\n\t    }\r\n\t}(this, function (exports) {\r\n\t\r\n\t    if (typeof Promise !== 'function') {\r\n\t        /*! promise-polyfill 3.1.0 */\r\n\t        !function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k=\"function\"==typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\r\n\t    }\r\n\t\r\n\t    var cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n\t        emptyStyles = document.createElement('div').style,\r\n\t        CSS_TRANS_ORG,\r\n\t        CSS_TRANSFORM,\r\n\t        CSS_USERSELECT;\r\n\t\r\n\t    function vendorPrefix(prop) {\r\n\t        if (prop in emptyStyles) {\r\n\t            return prop;\r\n\t        }\r\n\t\r\n\t        var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n\t            i = cssPrefixes.length;\r\n\t\r\n\t        while (i--) {\r\n\t            prop = cssPrefixes[i] + capProp;\r\n\t            if (prop in emptyStyles) {\r\n\t                return prop;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    CSS_TRANSFORM = vendorPrefix('transform');\r\n\t    CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n\t    CSS_USERSELECT = vendorPrefix('userSelect');\r\n\t\r\n\t    // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/\r\n\t    function deepExtend(destination, source) {\r\n\t        destination = destination || {};\r\n\t        for (var property in source) {\r\n\t            if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n\t                destination[property] = destination[property] || {};\r\n\t                arguments.callee(destination[property], source[property]);\r\n\t            } else {\r\n\t                destination[property] = source[property];\r\n\t            }\r\n\t        }\r\n\t        return destination;\r\n\t    }\r\n\t\r\n\t    function debounce(func, wait, immediate) {\r\n\t        var timeout;\r\n\t        return function () {\r\n\t            var context = this, args = arguments;\r\n\t            var later = function () {\r\n\t                timeout = null;\r\n\t                if (!immediate) func.apply(context, args);\r\n\t            };\r\n\t            var callNow = immediate && !timeout;\r\n\t            clearTimeout(timeout);\r\n\t            timeout = setTimeout(later, wait);\r\n\t            if (callNow) func.apply(context, args);\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function dispatchChange(element) {\r\n\t        if (\"createEvent\" in document) {\r\n\t            var evt = document.createEvent(\"HTMLEvents\");\r\n\t            evt.initEvent(\"change\", false, true);\r\n\t            element.dispatchEvent(evt);\r\n\t        }\r\n\t        else {\r\n\t            element.fireEvent(\"onchange\");\r\n\t        }\r\n\t    }\r\n\t\r\n\t    //http://jsperf.com/vanilla-css\r\n\t    function css(el, styles, val) {\r\n\t        if (typeof (styles) === 'string') {\r\n\t            var tmp = styles;\r\n\t            styles = {};\r\n\t            styles[tmp] = val;\r\n\t        }\r\n\t\r\n\t        for (var prop in styles) {\r\n\t            el.style[prop] = styles[prop];\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function addClass(el, c) {\r\n\t        if (el.classList) {\r\n\t            el.classList.add(c);\r\n\t        }\r\n\t        else {\r\n\t            el.className += ' ' + c;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function removeClass(el, c) {\r\n\t        if (el.classList) {\r\n\t            el.classList.remove(c);\r\n\t        }\r\n\t        else {\r\n\t            el.className = el.className.replace(c, '');\r\n\t        }\r\n\t    }\r\n\t\r\n\t    /* Utilities */\r\n\t    function loadImage(src, imageEl) {\r\n\t        var img = imageEl || new Image(),\r\n\t            prom;\r\n\t\r\n\t        if (img.src === src) {\r\n\t            // If image source hasn't changed, return a promise that resolves immediately\r\n\t            prom = new Promise(function (resolve, reject) {\r\n\t                resolve(img);\r\n\t            });\r\n\t        } else {\r\n\t            prom = new Promise(function (resolve, reject) {\r\n\t                if (src.substring(0,4).toLowerCase() === 'http') {\r\n\t                    img.setAttribute('crossOrigin', 'anonymous');\r\n\t                }\r\n\t                img.onload = function () {\r\n\t                    setTimeout(function () {\r\n\t                        resolve(img);\r\n\t                    }, 1);\r\n\t                };\r\n\t            });\r\n\t\r\n\t            img.src = src;\r\n\t        }\r\n\t\r\n\t        img.style.opacity = 0;\r\n\t\r\n\t        return prom;\r\n\t    }\r\n\t\r\n\t    /* CSS Transform Prototype */\r\n\t    var _TRANSLATE = 'translate3d',\r\n\t        _TRANSLATE_SUFFIX = ', 0px';\r\n\t    var Transform = function (x, y, scale) {\r\n\t        this.x = parseFloat(x);\r\n\t        this.y = parseFloat(y);\r\n\t        this.scale = parseFloat(scale);\r\n\t    };\r\n\t\r\n\t    Transform.parse = function (v) {\r\n\t        if (v.style) {\r\n\t            return Transform.parse(v.style[CSS_TRANSFORM]);\r\n\t        }\r\n\t        else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n\t            return Transform.fromMatrix(v);\r\n\t        }\r\n\t        else {\r\n\t            return Transform.fromString(v);\r\n\t        }\r\n\t    };\r\n\t\r\n\t    Transform.fromMatrix = function (v) {\r\n\t        var vals = v.substring(7).split(',');\r\n\t        if (!vals.length || v === 'none') {\r\n\t            vals = [1, 0, 0, 1, 0, 0];\r\n\t        }\r\n\t\r\n\t        return new Transform(parseInt(vals[4], 10), parseInt(vals[5], 10), parseFloat(vals[0]));\r\n\t    };\r\n\t\r\n\t    Transform.fromString = function (v) {\r\n\t        var values = v.split(') '),\r\n\t            translate = values[0].substring(_TRANSLATE.length + 1).split(','),\r\n\t            scale = values.length > 1 ? values[1].substring(6) : 1,\r\n\t            x = translate.length > 1 ? translate[0] : 0,\r\n\t            y = translate.length > 1 ? translate[1] : 0;\r\n\t\r\n\t        return new Transform(x, y, scale);\r\n\t    };\r\n\t\r\n\t    Transform.prototype.toString = function () {\r\n\t        return _TRANSLATE + '(' + this.x + 'px, ' + this.y + 'px' + _TRANSLATE_SUFFIX + ') scale(' + this.scale + ')';\r\n\t    };\r\n\t\r\n\t    var TransformOrigin = function (el) {\r\n\t        if (!el || !el.style[CSS_TRANS_ORG]) {\r\n\t            this.x = 0;\r\n\t            this.y = 0;\r\n\t            return;\r\n\t        }\r\n\t        var css = el.style[CSS_TRANS_ORG].split(' ');\r\n\t        this.x = parseFloat(css[0]);\r\n\t        this.y = parseFloat(css[1]);\r\n\t    };\r\n\t\r\n\t    TransformOrigin.prototype.toString = function () {\r\n\t        return this.x + 'px ' + this.y + 'px';\r\n\t    };\r\n\t\r\n\t    function getExifOrientation (img, cb) {\r\n\t        if (!window.EXIF) {\r\n\t            cb(0);\r\n\t        }\r\n\t\r\n\t        EXIF.getData(img, function () { \r\n\t            var orientation = EXIF.getTag(this, 'Orientation');\r\n\t            cb(orientation);            \r\n\t        });\r\n\t    }\r\n\t\r\n\t    function drawCanvas(canvas, img, orientation) {\r\n\t        var width = img.width,\r\n\t            height = img.height,\r\n\t            ctx = canvas.getContext('2d');\r\n\t\r\n\t        canvas.width = img.width;\r\n\t        canvas.height = img.height;\r\n\t\r\n\t        ctx.save();\r\n\t        switch (orientation) {\r\n\t          case 2:\r\n\t             ctx.translate(width, 0);\r\n\t             ctx.scale(-1, 1);\r\n\t             break;\r\n\t\r\n\t          case 3:\r\n\t              ctx.translate(width, height);\r\n\t              ctx.rotate(180*Math.PI/180);\r\n\t              break;\r\n\t\r\n\t          case 4:\r\n\t              ctx.translate(0, height);\r\n\t              ctx.scale(1, -1);\r\n\t              break;\r\n\t\r\n\t          case 5:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.rotate(90*Math.PI/180);\r\n\t              ctx.scale(1, -1);\r\n\t              break;\r\n\t\r\n\t          case 6:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.rotate(90*Math.PI/180);\r\n\t              ctx.translate(0, -height);\r\n\t              break;\r\n\t\r\n\t          case 7:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.rotate(-90*Math.PI/180);\r\n\t              ctx.translate(-width, height);\r\n\t              ctx.scale(1, -1);\r\n\t              break;\r\n\t\r\n\t          case 8:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.translate(0, width);\r\n\t              ctx.rotate(-90*Math.PI/180);\r\n\t              break;\r\n\t        }\r\n\t        ctx.drawImage(img, 0,0, width, height);\r\n\t        ctx.restore();\r\n\t    }\r\n\t\r\n\t    /* Private Methods */\r\n\t    function _create() {\r\n\t        var self = this,\r\n\t            contClass = 'croppie-container',\r\n\t            customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,\r\n\t            boundary, img, viewport, overlay, canvas;\r\n\t\r\n\t        self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self);\r\n\t        // Properties on class\r\n\t        self.data = {};\r\n\t        self.elements = {};\r\n\t\r\n\t        // Generating Markup\r\n\t        boundary = self.elements.boundary = document.createElement('div');\r\n\t        viewport = self.elements.viewport = document.createElement('div');\r\n\t        img = self.elements.img = document.createElement('img');\r\n\t        overlay = self.elements.overlay = document.createElement('div');\r\n\t\r\n\t        if (self.options.useCanvas) {\r\n\t            self.elements.canvas = document.createElement('canvas');\r\n\t            self.elements.preview = self.elements.canvas;\r\n\t        }\r\n\t        else {\r\n\t            self.elements.preview = self.elements.img;\r\n\t        }\r\n\t\r\n\t        addClass(boundary, 'cr-boundary');\r\n\t        css(boundary, {\r\n\t            width: self.options.boundary.width + 'px',\r\n\t            height: self.options.boundary.height + 'px'\r\n\t        });\r\n\t\r\n\t        addClass(viewport, 'cr-viewport');\r\n\t        if (customViewportClass) {\r\n\t            addClass(viewport, customViewportClass);\r\n\t        }\r\n\t        css(viewport, {\r\n\t            width: self.options.viewport.width + 'px',\r\n\t            height: self.options.viewport.height + 'px'\r\n\t        });\r\n\t\r\n\t        addClass(self.elements.preview, 'cr-image');\r\n\t        addClass(overlay, 'cr-overlay');\r\n\t\r\n\t        self.element.appendChild(boundary);\r\n\t        boundary.appendChild(self.elements.preview);\r\n\t        boundary.appendChild(viewport);\r\n\t        boundary.appendChild(overlay);\r\n\t\r\n\t        addClass(self.element, contClass);\r\n\t        if (self.options.customClass) {\r\n\t            addClass(self.element, self.options.customClass);\r\n\t        }\r\n\t\r\n\t        // Initialize drag & zoom\r\n\t        _initDraggable.call(this);\r\n\t\r\n\t        if (self.options.enableZoom) {\r\n\t            _initializeZoom.call(self);\r\n\t        }\r\n\t\r\n\t        // if (self.options.enableOrientation) {\r\n\t        //     _initRotationControls.call(self);\r\n\t        // }\r\n\t    }\r\n\t\r\n\t    function _initRotationControls () {\r\n\t        // TODO - Not a fan of these controls\r\n\t        return;\r\n\t        var self = this,\r\n\t            wrap, btnLeft, btnRight, iLeft, iRight;\r\n\t\r\n\t        wrap = document.createElement('div');\r\n\t        self.elements.orientationBtnLeft = btnLeft = document.createElement('button');\r\n\t        self.elements.orientationBtnRight = btnRight = document.createElement('button');\r\n\t\r\n\t        wrap.appendChild(btnLeft);\r\n\t        wrap.appendChild(btnRight);\r\n\t\r\n\t        iLeft = document.createElement('i');\r\n\t        iRight = document.createElement('i');\r\n\t        btnLeft.appendChild(iLeft);\r\n\t        btnRight.appendChild(iRight);\r\n\t\r\n\t        addClass(wrap, 'cr-rotate-controls');\r\n\t        addClass(btnLeft, 'cr-rotate-l');\r\n\t        addClass(btnRight, 'cr-rotate-r');\r\n\t\r\n\t        self.elements.boundary.appendChild(wrap);\r\n\t\r\n\t        btnLeft.addEventListener('click', function () {\r\n\t            self.rotate(-90);\r\n\t        });\r\n\t        btnRight.addEventListener('click', function () {\r\n\t            self.rotate(90);\r\n\t        });\r\n\t    }\r\n\t\r\n\t    function _hasExif() {\r\n\t        // todo - remove options.exif after deprecation\r\n\t        return (this.options.enableExif || this.options.exif) && window.EXIF;\r\n\t    }\r\n\t\r\n\t    function _setZoomerVal(v) {\r\n\t        if (this.options.enableZoom) {\r\n\t            this.elements.zoomer.value = fix(v, 4);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _initializeZoom() {\r\n\t        var self = this,\r\n\t            wrap = self.elements.zoomerWrap = document.createElement('div'),\r\n\t            zoomer = self.elements.zoomer = document.createElement('input');\r\n\t\r\n\t        addClass(wrap, 'cr-slider-wrap');\r\n\t        addClass(zoomer, 'cr-slider');\r\n\t        zoomer.type = 'range';\r\n\t        zoomer.step = '0.01';\r\n\t        zoomer.value = 1;\r\n\t        zoomer.style.display = self.options.showZoomer ? '' : 'none';\r\n\t\r\n\t        self.element.appendChild(wrap);\r\n\t        wrap.appendChild(zoomer);\r\n\t\r\n\t        self._currentZoom = 1;\r\n\t\r\n\t        function change() {\r\n\t            _onZoom.call(self, {\r\n\t                value: parseFloat(zoomer.value),\r\n\t                origin: new TransformOrigin(self.elements.preview),\r\n\t                viewportRect: self.elements.viewport.getBoundingClientRect(),\r\n\t                transform: Transform.parse(self.elements.preview)\r\n\t            });\r\n\t        }\r\n\t\r\n\t        function scroll(ev) {\r\n\t            var delta, targetZoom;\r\n\t\r\n\t            if (ev.wheelDelta) {\r\n\t                delta = ev.wheelDelta / 1200; //wheelDelta min: -120 max: 120 // max x 10 x 2\r\n\t            } else if (ev.deltaY) {\r\n\t                delta = ev.deltaY / 1060; //deltaY min: -53 max: 53 // max x 10 x 2\r\n\t            } else if (ev.detail) {\r\n\t                delta = ev.detail / -60; //delta min: -3 max: 3 // max x 10 x 2\r\n\t            } else {\r\n\t                delta = 0;\r\n\t            }\r\n\t\r\n\t            targetZoom = self._currentZoom + delta;\r\n\t            \r\n\t            ev.preventDefault();\r\n\t            _setZoomerVal.call(self, targetZoom);\r\n\t            change();\r\n\t        }\r\n\t\r\n\t        self.elements.zoomer.addEventListener('input', change);// this is being fired twice on keypress\r\n\t        self.elements.zoomer.addEventListener('change', change);\r\n\t\r\n\t        if (self.options.mouseWheelZoom) {\r\n\t            self.elements.boundary.addEventListener('mousewheel', scroll);\r\n\t            self.elements.boundary.addEventListener('DOMMouseScroll', scroll);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _onZoom(ui) {\r\n\t        var self = this,\r\n\t            transform = ui ? ui.transform : Transform.parse(self.elements.preview),\r\n\t            vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),\r\n\t            origin = ui ? ui.origin : new TransformOrigin(self.elements.preview);\r\n\t\r\n\t        self._currentZoom = ui ? ui.value : self._currentZoom;\r\n\t        transform.scale = self._currentZoom;\r\n\t\r\n\t        if (self.options.enforceBoundary) {\r\n\t            var boundaries = _getVirtualBoundaries.call(self, vpRect),\r\n\t                transBoundaries = boundaries.translate,\r\n\t                oBoundaries = boundaries.origin;\r\n\t\r\n\t            if (transform.x >= transBoundaries.maxX) {\r\n\t                origin.x = oBoundaries.minX;\r\n\t                transform.x = transBoundaries.maxX;\r\n\t            }\r\n\t\r\n\t            if (transform.x <= transBoundaries.minX) {\r\n\t                origin.x = oBoundaries.maxX;\r\n\t                transform.x = transBoundaries.minX;\r\n\t            }\r\n\t\r\n\t            if (transform.y >= transBoundaries.maxY) {\r\n\t                origin.y = oBoundaries.minY;\r\n\t                transform.y = transBoundaries.maxY;\r\n\t            }\r\n\t\r\n\t            if (transform.y <= transBoundaries.minY) {\r\n\t                origin.y = oBoundaries.maxY;\r\n\t                transform.y = transBoundaries.minY;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        var transCss = {};\r\n\t        transCss[CSS_TRANSFORM] = transform.toString();\r\n\t        transCss[CSS_TRANS_ORG] = origin.toString();\r\n\t        css(self.elements.preview, transCss);\r\n\t\r\n\t        _debouncedOverlay.call(self);\r\n\t        _triggerUpdate.call(self);\r\n\t    }\r\n\t\r\n\t    function _getVirtualBoundaries(viewport) {\r\n\t        var self = this,\r\n\t            scale = self._currentZoom,\r\n\t            vpWidth = viewport.width,\r\n\t            vpHeight = viewport.height,\r\n\t            centerFromBoundaryX = self.options.boundary.width / 2,\r\n\t            centerFromBoundaryY = self.options.boundary.height / 2,\r\n\t            imgRect = self.elements.preview.getBoundingClientRect(),\r\n\t            curImgWidth = imgRect.width,\r\n\t            curImgHeight = imgRect.height,\r\n\t            halfWidth = vpWidth / 2,\r\n\t            halfHeight = vpHeight / 2;\r\n\t\r\n\t\r\n\t        var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1;\r\n\t        var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)));\r\n\t\r\n\t        var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1;\r\n\t        var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)));\r\n\t\r\n\t        var originMinX = (1 / scale) * halfWidth;\r\n\t        var originMaxX = (curImgWidth * (1 / scale)) - originMinX;\r\n\t\r\n\t        var originMinY = (1 / scale) * halfHeight;\r\n\t        var originMaxY = (curImgHeight * (1 / scale)) - originMinY;\r\n\t\r\n\t        return {\r\n\t            translate: {\r\n\t                maxX: maxX,\r\n\t                minX: minX,\r\n\t                maxY: maxY,\r\n\t                minY: minY\r\n\t            },\r\n\t            origin: {\r\n\t                maxX: originMaxX,\r\n\t                minX: originMinX,\r\n\t                maxY: originMaxY,\r\n\t                minY: originMinY\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function _updateCenterPoint() {\r\n\t        var self = this,\r\n\t            scale = self._currentZoom,\r\n\t            data = self.elements.preview.getBoundingClientRect(),\r\n\t            vpData = self.elements.viewport.getBoundingClientRect(),\r\n\t            transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),\r\n\t            pc = new TransformOrigin(self.elements.preview),\r\n\t            top = (vpData.top - data.top) + (vpData.height / 2),\r\n\t            left = (vpData.left - data.left) + (vpData.width / 2),\r\n\t            center = {},\r\n\t            adj = {};\r\n\t\r\n\t        center.y = top / scale;\r\n\t        center.x = left / scale;\r\n\t\r\n\t        adj.y = (center.y - pc.y) * (1 - scale);\r\n\t        adj.x = (center.x - pc.x) * (1 - scale);\r\n\t\r\n\t        transform.x -= adj.x;\r\n\t        transform.y -= adj.y;\r\n\t\r\n\t        var newCss = {};\r\n\t        newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px';\r\n\t        newCss[CSS_TRANSFORM] = transform.toString();\r\n\t        css(self.elements.preview, newCss);\r\n\t    }\r\n\t\r\n\t    function _initDraggable() {\r\n\t        var self = this,\r\n\t            isDragging = false,\r\n\t            originalX,\r\n\t            originalY,\r\n\t            originalDistance,\r\n\t            vpRect;\r\n\t\r\n\t        function mouseDown(ev) {\r\n\t            ev.preventDefault();\r\n\t            if (isDragging) return;\r\n\t            isDragging = true;\r\n\t            originalX = ev.pageX;\r\n\t            originalY = ev.pageY;\r\n\t\r\n\t            if (ev.touches) {\r\n\t                var touches = ev.touches[0];\r\n\t                originalX = touches.pageX;\r\n\t                originalY = touches.pageY;\r\n\t            }\r\n\t\r\n\t            transform = Transform.parse(self.elements.preview);\r\n\t            window.addEventListener('mousemove', mouseMove);\r\n\t            window.addEventListener('touchmove', mouseMove);\r\n\t            window.addEventListener('mouseup', mouseUp);\r\n\t            window.addEventListener('touchend', mouseUp);\r\n\t            document.body.style[CSS_USERSELECT] = 'none';\r\n\t            vpRect = self.elements.viewport.getBoundingClientRect();\r\n\t        }\r\n\t\r\n\t        function mouseMove(ev) {\r\n\t            ev.preventDefault();\r\n\t            var pageX = ev.pageX,\r\n\t                pageY = ev.pageY;\r\n\t\r\n\t            if (ev.touches) {\r\n\t                var touches = ev.touches[0];\r\n\t                pageX = touches.pageX;\r\n\t                pageY = touches.pageY;\r\n\t            }\r\n\t\r\n\t            var deltaX = pageX - originalX,\r\n\t                deltaY = pageY - originalY,\r\n\t                imgRect = self.elements.preview.getBoundingClientRect(),\r\n\t                top = transform.y + deltaY,\r\n\t                left = transform.x + deltaX,\r\n\t                newCss = {};\r\n\t\r\n\t            if (ev.type == 'touchmove') {\r\n\t                if (ev.touches.length > 1) {\r\n\t                    var touch1 = ev.touches[0];\r\n\t                    var touch2 = ev.touches[1];\r\n\t                    var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY));\r\n\t\r\n\t                    if (!originalDistance) {\r\n\t                        originalDistance = dist / self._currentZoom;\r\n\t                    }\r\n\t\r\n\t                    var scale = dist / originalDistance;\r\n\t\r\n\t                    _setZoomerVal.call(self, scale);\r\n\t                    dispatchChange(self.elements.zoomer);\r\n\t                    return;\r\n\t                }\r\n\t            }\r\n\t\r\n\t            if (self.options.enforceBoundary) {\r\n\t                if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {\r\n\t                    transform.y = top;\r\n\t                }\r\n\t\r\n\t                if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {\r\n\t                    transform.x = left;\r\n\t                }\r\n\t            }\r\n\t            else {\r\n\t                transform.y = top;\r\n\t                transform.x = left;\r\n\t            }\r\n\t\r\n\t            newCss[CSS_TRANSFORM] = transform.toString();\r\n\t            css(self.elements.preview, newCss);\r\n\t            _updateOverlay.call(self);\r\n\t            originalY = pageY;\r\n\t            originalX = pageX;\r\n\t        }\r\n\t\r\n\t        function mouseUp() {\r\n\t            isDragging = false;\r\n\t            window.removeEventListener('mousemove', mouseMove);\r\n\t            window.removeEventListener('touchmove', mouseMove);\r\n\t            window.removeEventListener('mouseup', mouseUp);\r\n\t            window.removeEventListener('touchend', mouseUp);\r\n\t            document.body.style[CSS_USERSELECT] = '';\r\n\t            _updateCenterPoint.call(self);\r\n\t            _triggerUpdate.call(self);\r\n\t            originalDistance = 0;\r\n\t        }\r\n\t\r\n\t        self.elements.overlay.addEventListener('mousedown', mouseDown);\r\n\t        self.elements.overlay.addEventListener('touchstart', mouseDown);\r\n\t    }\r\n\t\r\n\t    function _updateOverlay() {\r\n\t        var self = this,\r\n\t            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n\t            imgData = self.elements.preview.getBoundingClientRect();\r\n\t\r\n\t        css(self.elements.overlay, {\r\n\t            width: imgData.width + 'px',\r\n\t            height: imgData.height + 'px',\r\n\t            top: (imgData.top - boundRect.top) + 'px',\r\n\t            left: (imgData.left - boundRect.left) + 'px'\r\n\t        });\r\n\t    }\r\n\t    var _debouncedOverlay = debounce(_updateOverlay, 500);\r\n\t\r\n\t    function _triggerUpdate() {\r\n\t        var self = this;\r\n\t        if (_isVisible.call(self)) {\r\n\t            self.options.update.call(self, self.get());\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _isVisible() {\r\n\t        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0;\r\n\t    }\r\n\t\r\n\t    function _updatePropertiesFromImage() {\r\n\t        var self = this,\r\n\t            minZoom = 0,\r\n\t            maxZoom = 1.5,\r\n\t            initialZoom = 1,\r\n\t            cssReset = {},\r\n\t            img = self.elements.preview,\r\n\t            zoomer = self.elements.zoomer,\r\n\t            transformReset = new Transform(0, 0, initialZoom),\r\n\t            originReset = new TransformOrigin(),\r\n\t            isVisible = _isVisible.call(self),\r\n\t            imgData,\r\n\t            vpData,\r\n\t            boundaryData,\r\n\t            minW,\r\n\t            minH;\r\n\t\r\n\t        if (!isVisible || self.data.bound) {\r\n\t            // if the croppie isn't visible or it doesn't need binding\r\n\t            return;\r\n\t        }\r\n\t\r\n\t        self.data.bound = true;\r\n\t        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n\t        cssReset[CSS_TRANS_ORG] = originReset.toString();\r\n\t        cssReset['opacity'] = 1;\r\n\t        css(img, cssReset);\r\n\t\r\n\t        imgData = img.getBoundingClientRect();\r\n\t        vpData = self.elements.viewport.getBoundingClientRect();\r\n\t        boundaryData = self.elements.boundary.getBoundingClientRect();\r\n\t        self._originalImageWidth = imgData.width;\r\n\t        self._originalImageHeight = imgData.height;\r\n\t\r\n\t        if (self.options.enableZoom) {\r\n\t            if (self.options.enforceBoundary) {\r\n\t                minW = vpData.width / imgData.width;\r\n\t                minH = vpData.height / imgData.height;\r\n\t                minZoom = Math.max(minW, minH);\r\n\t            }\r\n\t\r\n\t            if (minZoom >= maxZoom) {\r\n\t                maxZoom = minZoom + 1;\r\n\t            }\r\n\t\r\n\t            zoomer.min = fix(minZoom, 4);\r\n\t            zoomer.max = fix(maxZoom, 4);\r\n\t            initialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height));\r\n\t            _setZoomerVal.call(self, initialZoom);\r\n\t            dispatchChange(zoomer);\r\n\t        }\r\n\t\r\n\t        self._currentZoom = transformReset.scale = initialZoom;\r\n\t        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n\t        css(img, cssReset);\r\n\t\r\n\t        if (self.data.points.length) {\r\n\t            _bindPoints.call(self, self.data.points);\r\n\t        }\r\n\t        else {\r\n\t            _centerImage.call(self);\r\n\t        }\r\n\t\r\n\t        _updateCenterPoint.call(self);\r\n\t        _updateOverlay.call(self);\r\n\t    }\r\n\t\r\n\t    function _bindPoints(points) {\r\n\t        if (points.length != 4) {\r\n\t            throw \"Croppie - Invalid number of points supplied: \" + points;\r\n\t        }\r\n\t        var self = this,\r\n\t            pointsWidth = points[2] - points[0],\r\n\t            // pointsHeight = points[3] - points[1],\r\n\t            vpData = self.elements.viewport.getBoundingClientRect(),\r\n\t            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n\t            vpOffset = {\r\n\t                left: vpData.left - boundRect.left,\r\n\t                top: vpData.top - boundRect.top\r\n\t            },\r\n\t            scale = vpData.width / pointsWidth,\r\n\t            originTop = points[1],\r\n\t            originLeft = points[0],\r\n\t            transformTop = (-1 * points[1]) + vpOffset.top,\r\n\t            transformLeft = (-1 * points[0]) + vpOffset.left,\r\n\t            newCss = {};\r\n\t\r\n\t        newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px';\r\n\t        newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString();\r\n\t        css(self.elements.preview, newCss);\r\n\t\r\n\t        _setZoomerVal.call(self, scale);\r\n\t        self._currentZoom = scale;\r\n\t    }\r\n\t\r\n\t    function _centerImage() {\r\n\t        var self = this,\r\n\t            imgDim = self.elements.preview.getBoundingClientRect(),\r\n\t            vpDim = self.elements.viewport.getBoundingClientRect(),\r\n\t            boundDim = self.elements.boundary.getBoundingClientRect(),\r\n\t            vpLeft = vpDim.left - boundDim.left,\r\n\t            vpTop = vpDim.top - boundDim.top,\r\n\t            w = vpLeft - ((imgDim.width - vpDim.width) / 2),\r\n\t            h = vpTop - ((imgDim.height - vpDim.height) / 2),\r\n\t            transform = new Transform(w, h, self._currentZoom);\r\n\t\r\n\t        css(self.elements.preview, CSS_TRANSFORM, transform.toString());\r\n\t    }\r\n\t\r\n\t    function _transferImageToCanvas(customOrientation) {\r\n\t        var self = this,\r\n\t            canvas = self.elements.canvas,\r\n\t            img = self.elements.img,\r\n\t            ctx = canvas.getContext('2d'),\r\n\t            exif = _hasExif.call(self),\r\n\t            customOrientation = self.options.enableOrientation && customOrientation;\r\n\t\r\n\t        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\t        canvas.width = img.width;\r\n\t        canvas.height = img.height;\r\n\t\r\n\t        if (exif) {\r\n\t            getExifOrientation(img, function (orientation) {\r\n\t                drawCanvas(canvas, img, parseInt(orientation));\r\n\t                if (customOrientation) {\r\n\t                    drawCanvas(canvas, img, customOrientation);\r\n\t                }\r\n\t            });\r\n\t        } else if (customOrientation) {\r\n\t            drawCanvas(canvas, img, customOrientation);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _getHtmlResult(data) {\r\n\t        var points = data.points,\r\n\t            div = document.createElement('div'),\r\n\t            img = document.createElement('img'),\r\n\t            width = points[2] - points[0],\r\n\t            height = points[3] - points[1];\r\n\t\r\n\t        addClass(div, 'croppie-result');\r\n\t        div.appendChild(img);\r\n\t        css(img, {\r\n\t            left: (-1 * points[0]) + 'px',\r\n\t            top: (-1 * points[1]) + 'px'\r\n\t        });\r\n\t        img.src = data.url;\r\n\t        css(div, {\r\n\t            width: width + 'px',\r\n\t            height: height + 'px'\r\n\t        });\r\n\t\r\n\t        return div;\r\n\t    }\r\n\t\r\n\t    function _getCanvasResult(img, data) {\r\n\t        var points = data.points,\r\n\t            left = points[0],\r\n\t            top = points[1],\r\n\t            width = (points[2] - points[0]),\r\n\t            height = (points[3] - points[1]),\r\n\t            circle = data.circle,\r\n\t            canvas = document.createElement('canvas'),\r\n\t            ctx = canvas.getContext('2d'),\r\n\t            outWidth = width,\r\n\t            outHeight = height;\r\n\t\r\n\t        if (data.outputWidth && data.outputHeight) {\r\n\t            outWidth = data.outputWidth;\r\n\t            outHeight = data.outputHeight;\r\n\t        }\r\n\t\r\n\t        canvas.width = outWidth;\r\n\t        canvas.height = outHeight;\r\n\t\r\n\t        ctx.drawImage(img, left, top, width, height, 0, 0, outWidth, outHeight);\r\n\t        if (circle) {\r\n\t            ctx.fillStyle = '#fff';\r\n\t            ctx.globalCompositeOperation = 'destination-in';\r\n\t            ctx.beginPath();\r\n\t            ctx.arc(outWidth / 2, outHeight / 2, outWidth / 2, 0, Math.PI * 2, true);\r\n\t            ctx.closePath();\r\n\t            ctx.fill();\r\n\t        }\r\n\t        return canvas.toDataURL(data.format, data.quality);\r\n\t    }\r\n\t\r\n\t    function _bind(options, cb) {\r\n\t        var self = this,\r\n\t            url,\r\n\t            points = [];\r\n\t\r\n\t        if (typeof (options) === 'string') {\r\n\t            url = options;\r\n\t            options = {};\r\n\t        }\r\n\t        else if (Array.isArray(options)) {\r\n\t            points = options.slice();\r\n\t        }\r\n\t        else if (typeof (options) == 'undefined' && self.data.url) { //refreshing\r\n\t            _updatePropertiesFromImage.call(self);\r\n\t            _triggerUpdate.call(self);\r\n\t            return null;\r\n\t        }\r\n\t        else {\r\n\t            url = options.url;\r\n\t            points = options.points || [];\r\n\t        }\r\n\t\r\n\t        self.data.bound = false;\r\n\t        self.data.url = url || self.data.url;\r\n\t        self.data.points = (points || self.data.points).map(function (p) {\r\n\t            return parseFloat(p);\r\n\t        });\r\n\t        var prom = loadImage(url, self.elements.img);\r\n\t        prom.then(function () {\r\n\t            if (self.options.useCanvas) {\r\n\t                self.elements.img.exifdata = null;\r\n\t                _transferImageToCanvas.call(self, options.orientation || 1);\r\n\t            }\r\n\t            _updatePropertiesFromImage.call(self);\r\n\t            _triggerUpdate.call(self);\r\n\t            if (cb) {\r\n\t                cb();\r\n\t            }\r\n\t        });\r\n\t        return prom;\r\n\t    }\r\n\t\r\n\t    function fix(v, decimalPoints) {\r\n\t        return parseFloat(v).toFixed(decimalPoints || 0);\r\n\t    }\r\n\t\r\n\t    function _get() {\r\n\t        var self = this,\r\n\t            imgData = self.elements.preview.getBoundingClientRect(),\r\n\t            vpData = self.elements.viewport.getBoundingClientRect(),\r\n\t            x1 = vpData.left - imgData.left,\r\n\t            y1 = vpData.top - imgData.top,\r\n\t            x2 = x1 + vpData.width,\r\n\t            y2 = y1 + vpData.height,\r\n\t            scale = self._currentZoom;\r\n\t\r\n\t        if (scale === Infinity || isNaN(scale)) {\r\n\t            scale = 1;\r\n\t        }\r\n\t\r\n\t        var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;\r\n\t        x1 = Math.max(max, x1 / scale);\r\n\t        y1 = Math.max(max, y1 / scale);\r\n\t        x2 = Math.max(max, x2 / scale);\r\n\t        y2 = Math.max(max, y2 / scale);\r\n\t\r\n\t        return {\r\n\t            points: [fix(x1), fix(y1), fix(x2), fix(y2)],\r\n\t            zoom: scale\r\n\t        };\r\n\t    }\r\n\t\r\n\t    var RESULT_DEFAULTS = {\r\n\t            type: 'canvas', \r\n\t            format: 'png', \r\n\t            quality: 1\r\n\t        },\r\n\t        RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\t\r\n\t    function _result(options) {\r\n\t        var self = this,\r\n\t            data = _get.call(self),\r\n\t            opts = deepExtend(RESULT_DEFAULTS, deepExtend({}, options)),\r\n\t            type = (typeof (options) === 'string' ? options : (opts.type || 'viewport')),\r\n\t            size = opts.size,\r\n\t            format = opts.format,\r\n\t            quality = opts.quality,\r\n\t            vpRect = self.elements.viewport.getBoundingClientRect(),\r\n\t            ratio = vpRect.width / vpRect.height,\r\n\t            prom;\r\n\t\r\n\t        if (size === 'viewport') {\r\n\t            data.outputWidth = vpRect.width;\r\n\t            data.outputHeight = vpRect.height;\r\n\t        } else if (typeof size === 'object') {\r\n\t            if (size.width && size.height) {\r\n\t                data.outputWidth = size.width;\r\n\t                data.outputHeight = size.height;\r\n\t            } else if (size.width) {\r\n\t                data.outputWidth = size.width;\r\n\t                data.outputHeight = size.width / ratio;\r\n\t            } else if (size.height) {\r\n\t                data.outputWidth = size.height * ratio;\r\n\t                data.outputHeight = size.height;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        if (RESULT_FORMATS.indexOf(format) > -1) {\r\n\t            data.format = 'image/' + format;\r\n\t            data.quality = quality;\r\n\t        }\r\n\t\r\n\t        data.circle = self.options.viewport.type === 'circle';\r\n\t        data.url = self.data.url;\r\n\t\r\n\t        prom = new Promise(function (resolve, reject) {\r\n\t            if (type === 'canvas') {\r\n\t                resolve(_getCanvasResult.call(self, self.elements.preview, data));\r\n\t            }\r\n\t            else {\r\n\t                resolve(_getHtmlResult.call(self, data));\r\n\t            }\r\n\t        });\r\n\t        return prom;\r\n\t    }\r\n\t\r\n\t    function _refresh() {\r\n\t        _updatePropertiesFromImage.call(this);\r\n\t    }\r\n\t\r\n\t    function _rotate(deg) {\r\n\t        if (!this.options.useCanvas) {\r\n\t            throw 'Croppie: Cannot rotate without enableOrientation';\r\n\t        }\r\n\t\r\n\t        var self = this,\r\n\t            canvas = self.elements.canvas,\r\n\t            img = self.elements.img,\r\n\t            copy = document.createElement('canvas'),\r\n\t            ornt = 1;\r\n\t\r\n\t        copy.width = canvas.width;\r\n\t        copy.height = canvas.height;\r\n\t        var ctx = copy.getContext('2d');\r\n\t        ctx.drawImage(canvas, 0, 0);\r\n\t\r\n\t        if (deg === 90 || deg === -270) ornt = 6;\r\n\t        if (deg === -90 || deg === 270) ornt = 8;\r\n\t        if (deg === 180 || deg === -180) ornt = 3;\r\n\t\r\n\t        drawCanvas(canvas, copy, ornt);\r\n\t        _onZoom.call(self);\r\n\t    }\r\n\t\r\n\t    function _destroy() {\r\n\t        var self = this;\r\n\t        self.element.removeChild(self.elements.boundary);\r\n\t        removeClass(self.element, 'croppie-container');\r\n\t        if (self.options.enableZoom) {\r\n\t            self.element.removeChild(self.elements.zoomerWrap);\r\n\t        }\r\n\t        delete self.elements;\r\n\t    }\r\n\t\r\n\t    if (window.jQuery) {\r\n\t        var $ = window.jQuery;\r\n\t        $.fn.croppie = function (opts) {\r\n\t            var ot = typeof opts;\r\n\t\r\n\t            if (ot === 'string') {\r\n\t                var args = Array.prototype.slice.call(arguments, 1);\r\n\t                var singleInst = $(this).data('croppie');\r\n\t\r\n\t                if (opts === 'get') {\r\n\t                    return singleInst.get();\r\n\t                }\r\n\t                else if (opts === 'result') {\r\n\t                    return singleInst.result.apply(singleInst, args);\r\n\t                }\r\n\t\r\n\t                return this.each(function () {\r\n\t                    var i = $(this).data('croppie');\r\n\t                    if (!i) return;\r\n\t\r\n\t                    var method = i[opts];\r\n\t                    if ($.isFunction(method)) {\r\n\t                        method.apply(i, args);\r\n\t                        if (opts === 'destroy') {\r\n\t                            $(this).removeData('croppie');\r\n\t                        }\r\n\t                    }\r\n\t                    else {\r\n\t                        throw 'Croppie ' + opts + ' method not found';\r\n\t                    }\r\n\t                });\r\n\t            }\r\n\t            else {\r\n\t                return this.each(function () {\r\n\t                    var i = new Croppie(this, opts);\r\n\t                    $(this).data('croppie', i);\r\n\t                });\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function Croppie(element, opts) {\r\n\t        this.element = element;\r\n\t        this.options = deepExtend(deepExtend({}, Croppie.defaults), opts);\r\n\t\r\n\t        _create.call(this);\r\n\t        if (this.options.url) {\r\n\t            var bindOpts = {\r\n\t                url: this.options.url,\r\n\t                points: this.options.points\r\n\t            };\r\n\t            delete this.options['url'];\r\n\t            delete this.options['points'];\r\n\t            _bind.call(this, bindOpts);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    Croppie.defaults = {\r\n\t        viewport: {\r\n\t            width: 100,\r\n\t            height: 100,\r\n\t            type: 'square'\r\n\t        },\r\n\t        boundary: {\r\n\t            width: 300,\r\n\t            height: 300\r\n\t        },\r\n\t        orientationControls: {\r\n\t            enabled: true,\r\n\t            leftClass: '',\r\n\t            rightClass: ''\r\n\t        },\r\n\t        customClass: '',\r\n\t        showZoomer: true,\r\n\t        enableZoom: true,\r\n\t        mouseWheelZoom: true,\r\n\t        enableExif: false,\r\n\t        enforceBoundary: true,\r\n\t        enableOrientation: false,\r\n\t        update: function () { }\r\n\t    };\r\n\t\r\n\t    deepExtend(Croppie.prototype, {\r\n\t        bind: function (options, cb) {\r\n\t            return _bind.call(this, options, cb);\r\n\t        },\r\n\t        get: function () {\r\n\t            return _get.call(this);\r\n\t        },\r\n\t        result: function (type) {\r\n\t            return _result.call(this, type);\r\n\t        },\r\n\t        refresh: function () {\r\n\t            return _refresh.call(this);\r\n\t        },\r\n\t        setZoom: function (v) {\r\n\t            _setZoomerVal.call(this, v);\r\n\t            dispatchChange(this.elements.zoomer);\r\n\t        },\r\n\t        rotate: function (deg) {\r\n\t            _rotate.call(this, deg);\r\n\t        },\r\n\t        destroy: function () {\r\n\t            return _destroy.call(this);\r\n\t        }\r\n\t    });\r\n\t\r\n\t    exports.Croppie = window.Croppie = Croppie;\r\n\t\r\n\t    if (typeof module === 'object' && !!module.exports) {\r\n\t        module.exports = Croppie;    \r\n\t    }\r\n\t}));\r\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(7).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate, __webpack_require__(6).clearImmediate))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** ngImageCrop.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8d957cc7ad9b6f32d107\n **/","import 'croppie/croppie.css';\nlet croppie = require('croppie/croppie.js');\n\nconst MODULE_NAME = 'ngImageCrop';\n\nexport default MODULE_NAME;\n\nconst module = angular.module(MODULE_NAME, []);\n\nclass ImageCropDirectiveCtrl {\n  constructor($scope, $element) {\n    this.$element = $element;\n    this.$scope = $scope;\n    this._initCroppie();\n  }\n\n  _initCroppie() {\n    let _updateCallback = (crop)=> {\n      this.c.result('canvas').then((img)=> {\n        this.$scope.$apply(()=> {\n          this.croppedImage = img;\n        });\n      });\n    }\n\n    this.croppieOptions = {\n      viewport: {\n          width: this.width,\n          height: this.height,\n          type: this.type,\n      },\n      update: _updateCallback\n    }\n    this.c = new croppie(this.$element[0], this.croppieOptions);\n  }\n\n  set originalImage(value) {\n    this._originalImage = value;\n\n    if (this._originalImage !== undefined && this.c !== undefined) {\n      let reader = new FileReader();\n\n      reader.onload = ()=> {\n        this.c.bind(reader.result);\n      };\n      reader.readAsDataURL(this._originalImage);\n    }\n  }\n\n  get originalImage() {\n    return this._originalImage;\n  }\n\n}\n\nclass ImageCropDirective {\n\n  constructor() {\n    this.restrict = 'E';\n    this.scope = {\n      originalImage: '<',\n      croppedImage: '=',\n      type: '@',\n      height: '@',\n      width: '@',\n    };\n    this.bindToController = true;\n    this.controller = ImageCropDirectiveCtrl;\n    this.controllerAs = '$ctrl';\n  }\n\n}\n\nmodule.directive('imageCrop', () => new ImageCropDirective());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../css-loader/index.js!./croppie.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../css-loader/index.js!./croppie.css\", function() {\n\t\t\tvar newContent = require(\"!!./../css-loader/index.js!./croppie.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/croppie/croppie.css\n ** module id = 1\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".croppie-container{padding:30px}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 0 899px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:0 auto;margin-top:25px;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'\\\\21BA'}.cr-rotate-r i:before{content:'\\\\21BB'}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/croppie/croppie.css\n ** module id = 2\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 4\n ** module chunks = 0\n **/","/*************************\r\n * Croppie\r\n * Copyright 2016\r\n * Foliotek\r\n * Version: 2.1.1\r\n *************************/\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['exports'], factory);\r\n    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\r\n        // CommonJS\r\n        factory(exports);\r\n    } else {\r\n        // Browser globals\r\n        factory((root.commonJsStrict = {}));\r\n    }\r\n}(this, function (exports) {\r\n\r\n    if (typeof Promise !== 'function') {\r\n        /*! promise-polyfill 3.1.0 */\r\n        !function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k=\"function\"==typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\r\n    }\r\n\r\n    var cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n        emptyStyles = document.createElement('div').style,\r\n        CSS_TRANS_ORG,\r\n        CSS_TRANSFORM,\r\n        CSS_USERSELECT;\r\n\r\n    function vendorPrefix(prop) {\r\n        if (prop in emptyStyles) {\r\n            return prop;\r\n        }\r\n\r\n        var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n            i = cssPrefixes.length;\r\n\r\n        while (i--) {\r\n            prop = cssPrefixes[i] + capProp;\r\n            if (prop in emptyStyles) {\r\n                return prop;\r\n            }\r\n        }\r\n    }\r\n\r\n    CSS_TRANSFORM = vendorPrefix('transform');\r\n    CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n    CSS_USERSELECT = vendorPrefix('userSelect');\r\n\r\n    // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/\r\n    function deepExtend(destination, source) {\r\n        destination = destination || {};\r\n        for (var property in source) {\r\n            if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n                destination[property] = destination[property] || {};\r\n                arguments.callee(destination[property], source[property]);\r\n            } else {\r\n                destination[property] = source[property];\r\n            }\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    function debounce(func, wait, immediate) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            var later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            var callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    function dispatchChange(element) {\r\n        if (\"createEvent\" in document) {\r\n            var evt = document.createEvent(\"HTMLEvents\");\r\n            evt.initEvent(\"change\", false, true);\r\n            element.dispatchEvent(evt);\r\n        }\r\n        else {\r\n            element.fireEvent(\"onchange\");\r\n        }\r\n    }\r\n\r\n    //http://jsperf.com/vanilla-css\r\n    function css(el, styles, val) {\r\n        if (typeof (styles) === 'string') {\r\n            var tmp = styles;\r\n            styles = {};\r\n            styles[tmp] = val;\r\n        }\r\n\r\n        for (var prop in styles) {\r\n            el.style[prop] = styles[prop];\r\n        }\r\n    }\r\n\r\n    function addClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.add(c);\r\n        }\r\n        else {\r\n            el.className += ' ' + c;\r\n        }\r\n    }\r\n\r\n    function removeClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.remove(c);\r\n        }\r\n        else {\r\n            el.className = el.className.replace(c, '');\r\n        }\r\n    }\r\n\r\n    /* Utilities */\r\n    function loadImage(src, imageEl) {\r\n        var img = imageEl || new Image(),\r\n            prom;\r\n\r\n        if (img.src === src) {\r\n            // If image source hasn't changed, return a promise that resolves immediately\r\n            prom = new Promise(function (resolve, reject) {\r\n                resolve(img);\r\n            });\r\n        } else {\r\n            prom = new Promise(function (resolve, reject) {\r\n                if (src.substring(0,4).toLowerCase() === 'http') {\r\n                    img.setAttribute('crossOrigin', 'anonymous');\r\n                }\r\n                img.onload = function () {\r\n                    setTimeout(function () {\r\n                        resolve(img);\r\n                    }, 1);\r\n                };\r\n            });\r\n\r\n            img.src = src;\r\n        }\r\n\r\n        img.style.opacity = 0;\r\n\r\n        return prom;\r\n    }\r\n\r\n    /* CSS Transform Prototype */\r\n    var _TRANSLATE = 'translate3d',\r\n        _TRANSLATE_SUFFIX = ', 0px';\r\n    var Transform = function (x, y, scale) {\r\n        this.x = parseFloat(x);\r\n        this.y = parseFloat(y);\r\n        this.scale = parseFloat(scale);\r\n    };\r\n\r\n    Transform.parse = function (v) {\r\n        if (v.style) {\r\n            return Transform.parse(v.style[CSS_TRANSFORM]);\r\n        }\r\n        else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n            return Transform.fromMatrix(v);\r\n        }\r\n        else {\r\n            return Transform.fromString(v);\r\n        }\r\n    };\r\n\r\n    Transform.fromMatrix = function (v) {\r\n        var vals = v.substring(7).split(',');\r\n        if (!vals.length || v === 'none') {\r\n            vals = [1, 0, 0, 1, 0, 0];\r\n        }\r\n\r\n        return new Transform(parseInt(vals[4], 10), parseInt(vals[5], 10), parseFloat(vals[0]));\r\n    };\r\n\r\n    Transform.fromString = function (v) {\r\n        var values = v.split(') '),\r\n            translate = values[0].substring(_TRANSLATE.length + 1).split(','),\r\n            scale = values.length > 1 ? values[1].substring(6) : 1,\r\n            x = translate.length > 1 ? translate[0] : 0,\r\n            y = translate.length > 1 ? translate[1] : 0;\r\n\r\n        return new Transform(x, y, scale);\r\n    };\r\n\r\n    Transform.prototype.toString = function () {\r\n        return _TRANSLATE + '(' + this.x + 'px, ' + this.y + 'px' + _TRANSLATE_SUFFIX + ') scale(' + this.scale + ')';\r\n    };\r\n\r\n    var TransformOrigin = function (el) {\r\n        if (!el || !el.style[CSS_TRANS_ORG]) {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            return;\r\n        }\r\n        var css = el.style[CSS_TRANS_ORG].split(' ');\r\n        this.x = parseFloat(css[0]);\r\n        this.y = parseFloat(css[1]);\r\n    };\r\n\r\n    TransformOrigin.prototype.toString = function () {\r\n        return this.x + 'px ' + this.y + 'px';\r\n    };\r\n\r\n    function getExifOrientation (img, cb) {\r\n        if (!window.EXIF) {\r\n            cb(0);\r\n        }\r\n\r\n        EXIF.getData(img, function () { \r\n            var orientation = EXIF.getTag(this, 'Orientation');\r\n            cb(orientation);            \r\n        });\r\n    }\r\n\r\n    function drawCanvas(canvas, img, orientation) {\r\n        var width = img.width,\r\n            height = img.height,\r\n            ctx = canvas.getContext('2d');\r\n\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        ctx.save();\r\n        switch (orientation) {\r\n          case 2:\r\n             ctx.translate(width, 0);\r\n             ctx.scale(-1, 1);\r\n             break;\r\n\r\n          case 3:\r\n              ctx.translate(width, height);\r\n              ctx.rotate(180*Math.PI/180);\r\n              break;\r\n\r\n          case 4:\r\n              ctx.translate(0, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 5:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 6:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.translate(0, -height);\r\n              break;\r\n\r\n          case 7:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(-90*Math.PI/180);\r\n              ctx.translate(-width, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 8:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.translate(0, width);\r\n              ctx.rotate(-90*Math.PI/180);\r\n              break;\r\n        }\r\n        ctx.drawImage(img, 0,0, width, height);\r\n        ctx.restore();\r\n    }\r\n\r\n    /* Private Methods */\r\n    function _create() {\r\n        var self = this,\r\n            contClass = 'croppie-container',\r\n            customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,\r\n            boundary, img, viewport, overlay, canvas;\r\n\r\n        self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self);\r\n        // Properties on class\r\n        self.data = {};\r\n        self.elements = {};\r\n\r\n        // Generating Markup\r\n        boundary = self.elements.boundary = document.createElement('div');\r\n        viewport = self.elements.viewport = document.createElement('div');\r\n        img = self.elements.img = document.createElement('img');\r\n        overlay = self.elements.overlay = document.createElement('div');\r\n\r\n        if (self.options.useCanvas) {\r\n            self.elements.canvas = document.createElement('canvas');\r\n            self.elements.preview = self.elements.canvas;\r\n        }\r\n        else {\r\n            self.elements.preview = self.elements.img;\r\n        }\r\n\r\n        addClass(boundary, 'cr-boundary');\r\n        css(boundary, {\r\n            width: self.options.boundary.width + 'px',\r\n            height: self.options.boundary.height + 'px'\r\n        });\r\n\r\n        addClass(viewport, 'cr-viewport');\r\n        if (customViewportClass) {\r\n            addClass(viewport, customViewportClass);\r\n        }\r\n        css(viewport, {\r\n            width: self.options.viewport.width + 'px',\r\n            height: self.options.viewport.height + 'px'\r\n        });\r\n\r\n        addClass(self.elements.preview, 'cr-image');\r\n        addClass(overlay, 'cr-overlay');\r\n\r\n        self.element.appendChild(boundary);\r\n        boundary.appendChild(self.elements.preview);\r\n        boundary.appendChild(viewport);\r\n        boundary.appendChild(overlay);\r\n\r\n        addClass(self.element, contClass);\r\n        if (self.options.customClass) {\r\n            addClass(self.element, self.options.customClass);\r\n        }\r\n\r\n        // Initialize drag & zoom\r\n        _initDraggable.call(this);\r\n\r\n        if (self.options.enableZoom) {\r\n            _initializeZoom.call(self);\r\n        }\r\n\r\n        // if (self.options.enableOrientation) {\r\n        //     _initRotationControls.call(self);\r\n        // }\r\n    }\r\n\r\n    function _initRotationControls () {\r\n        // TODO - Not a fan of these controls\r\n        return;\r\n        var self = this,\r\n            wrap, btnLeft, btnRight, iLeft, iRight;\r\n\r\n        wrap = document.createElement('div');\r\n        self.elements.orientationBtnLeft = btnLeft = document.createElement('button');\r\n        self.elements.orientationBtnRight = btnRight = document.createElement('button');\r\n\r\n        wrap.appendChild(btnLeft);\r\n        wrap.appendChild(btnRight);\r\n\r\n        iLeft = document.createElement('i');\r\n        iRight = document.createElement('i');\r\n        btnLeft.appendChild(iLeft);\r\n        btnRight.appendChild(iRight);\r\n\r\n        addClass(wrap, 'cr-rotate-controls');\r\n        addClass(btnLeft, 'cr-rotate-l');\r\n        addClass(btnRight, 'cr-rotate-r');\r\n\r\n        self.elements.boundary.appendChild(wrap);\r\n\r\n        btnLeft.addEventListener('click', function () {\r\n            self.rotate(-90);\r\n        });\r\n        btnRight.addEventListener('click', function () {\r\n            self.rotate(90);\r\n        });\r\n    }\r\n\r\n    function _hasExif() {\r\n        // todo - remove options.exif after deprecation\r\n        return (this.options.enableExif || this.options.exif) && window.EXIF;\r\n    }\r\n\r\n    function _setZoomerVal(v) {\r\n        if (this.options.enableZoom) {\r\n            this.elements.zoomer.value = fix(v, 4);\r\n        }\r\n    }\r\n\r\n    function _initializeZoom() {\r\n        var self = this,\r\n            wrap = self.elements.zoomerWrap = document.createElement('div'),\r\n            zoomer = self.elements.zoomer = document.createElement('input');\r\n\r\n        addClass(wrap, 'cr-slider-wrap');\r\n        addClass(zoomer, 'cr-slider');\r\n        zoomer.type = 'range';\r\n        zoomer.step = '0.01';\r\n        zoomer.value = 1;\r\n        zoomer.style.display = self.options.showZoomer ? '' : 'none';\r\n\r\n        self.element.appendChild(wrap);\r\n        wrap.appendChild(zoomer);\r\n\r\n        self._currentZoom = 1;\r\n\r\n        function change() {\r\n            _onZoom.call(self, {\r\n                value: parseFloat(zoomer.value),\r\n                origin: new TransformOrigin(self.elements.preview),\r\n                viewportRect: self.elements.viewport.getBoundingClientRect(),\r\n                transform: Transform.parse(self.elements.preview)\r\n            });\r\n        }\r\n\r\n        function scroll(ev) {\r\n            var delta, targetZoom;\r\n\r\n            if (ev.wheelDelta) {\r\n                delta = ev.wheelDelta / 1200; //wheelDelta min: -120 max: 120 // max x 10 x 2\r\n            } else if (ev.deltaY) {\r\n                delta = ev.deltaY / 1060; //deltaY min: -53 max: 53 // max x 10 x 2\r\n            } else if (ev.detail) {\r\n                delta = ev.detail / -60; //delta min: -3 max: 3 // max x 10 x 2\r\n            } else {\r\n                delta = 0;\r\n            }\r\n\r\n            targetZoom = self._currentZoom + delta;\r\n            \r\n            ev.preventDefault();\r\n            _setZoomerVal.call(self, targetZoom);\r\n            change();\r\n        }\r\n\r\n        self.elements.zoomer.addEventListener('input', change);// this is being fired twice on keypress\r\n        self.elements.zoomer.addEventListener('change', change);\r\n\r\n        if (self.options.mouseWheelZoom) {\r\n            self.elements.boundary.addEventListener('mousewheel', scroll);\r\n            self.elements.boundary.addEventListener('DOMMouseScroll', scroll);\r\n        }\r\n    }\r\n\r\n    function _onZoom(ui) {\r\n        var self = this,\r\n            transform = ui ? ui.transform : Transform.parse(self.elements.preview),\r\n            vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),\r\n            origin = ui ? ui.origin : new TransformOrigin(self.elements.preview);\r\n\r\n        self._currentZoom = ui ? ui.value : self._currentZoom;\r\n        transform.scale = self._currentZoom;\r\n\r\n        if (self.options.enforceBoundary) {\r\n            var boundaries = _getVirtualBoundaries.call(self, vpRect),\r\n                transBoundaries = boundaries.translate,\r\n                oBoundaries = boundaries.origin;\r\n\r\n            if (transform.x >= transBoundaries.maxX) {\r\n                origin.x = oBoundaries.minX;\r\n                transform.x = transBoundaries.maxX;\r\n            }\r\n\r\n            if (transform.x <= transBoundaries.minX) {\r\n                origin.x = oBoundaries.maxX;\r\n                transform.x = transBoundaries.minX;\r\n            }\r\n\r\n            if (transform.y >= transBoundaries.maxY) {\r\n                origin.y = oBoundaries.minY;\r\n                transform.y = transBoundaries.maxY;\r\n            }\r\n\r\n            if (transform.y <= transBoundaries.minY) {\r\n                origin.y = oBoundaries.maxY;\r\n                transform.y = transBoundaries.minY;\r\n            }\r\n        }\r\n\r\n        var transCss = {};\r\n        transCss[CSS_TRANSFORM] = transform.toString();\r\n        transCss[CSS_TRANS_ORG] = origin.toString();\r\n        css(self.elements.preview, transCss);\r\n\r\n        _debouncedOverlay.call(self);\r\n        _triggerUpdate.call(self);\r\n    }\r\n\r\n    function _getVirtualBoundaries(viewport) {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            vpWidth = viewport.width,\r\n            vpHeight = viewport.height,\r\n            centerFromBoundaryX = self.options.boundary.width / 2,\r\n            centerFromBoundaryY = self.options.boundary.height / 2,\r\n            imgRect = self.elements.preview.getBoundingClientRect(),\r\n            curImgWidth = imgRect.width,\r\n            curImgHeight = imgRect.height,\r\n            halfWidth = vpWidth / 2,\r\n            halfHeight = vpHeight / 2;\r\n\r\n\r\n        var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1;\r\n        var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)));\r\n\r\n        var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1;\r\n        var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)));\r\n\r\n        var originMinX = (1 / scale) * halfWidth;\r\n        var originMaxX = (curImgWidth * (1 / scale)) - originMinX;\r\n\r\n        var originMinY = (1 / scale) * halfHeight;\r\n        var originMaxY = (curImgHeight * (1 / scale)) - originMinY;\r\n\r\n        return {\r\n            translate: {\r\n                maxX: maxX,\r\n                minX: minX,\r\n                maxY: maxY,\r\n                minY: minY\r\n            },\r\n            origin: {\r\n                maxX: originMaxX,\r\n                minX: originMinX,\r\n                maxY: originMaxY,\r\n                minY: originMinY\r\n            }\r\n        };\r\n    }\r\n\r\n    function _updateCenterPoint() {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            data = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),\r\n            pc = new TransformOrigin(self.elements.preview),\r\n            top = (vpData.top - data.top) + (vpData.height / 2),\r\n            left = (vpData.left - data.left) + (vpData.width / 2),\r\n            center = {},\r\n            adj = {};\r\n\r\n        center.y = top / scale;\r\n        center.x = left / scale;\r\n\r\n        adj.y = (center.y - pc.y) * (1 - scale);\r\n        adj.x = (center.x - pc.x) * (1 - scale);\r\n\r\n        transform.x -= adj.x;\r\n        transform.y -= adj.y;\r\n\r\n        var newCss = {};\r\n        newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px';\r\n        newCss[CSS_TRANSFORM] = transform.toString();\r\n        css(self.elements.preview, newCss);\r\n    }\r\n\r\n    function _initDraggable() {\r\n        var self = this,\r\n            isDragging = false,\r\n            originalX,\r\n            originalY,\r\n            originalDistance,\r\n            vpRect;\r\n\r\n        function mouseDown(ev) {\r\n            ev.preventDefault();\r\n            if (isDragging) return;\r\n            isDragging = true;\r\n            originalX = ev.pageX;\r\n            originalY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                originalX = touches.pageX;\r\n                originalY = touches.pageY;\r\n            }\r\n\r\n            transform = Transform.parse(self.elements.preview);\r\n            window.addEventListener('mousemove', mouseMove);\r\n            window.addEventListener('touchmove', mouseMove);\r\n            window.addEventListener('mouseup', mouseUp);\r\n            window.addEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = 'none';\r\n            vpRect = self.elements.viewport.getBoundingClientRect();\r\n        }\r\n\r\n        function mouseMove(ev) {\r\n            ev.preventDefault();\r\n            var pageX = ev.pageX,\r\n                pageY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                pageX = touches.pageX;\r\n                pageY = touches.pageY;\r\n            }\r\n\r\n            var deltaX = pageX - originalX,\r\n                deltaY = pageY - originalY,\r\n                imgRect = self.elements.preview.getBoundingClientRect(),\r\n                top = transform.y + deltaY,\r\n                left = transform.x + deltaX,\r\n                newCss = {};\r\n\r\n            if (ev.type == 'touchmove') {\r\n                if (ev.touches.length > 1) {\r\n                    var touch1 = ev.touches[0];\r\n                    var touch2 = ev.touches[1];\r\n                    var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY));\r\n\r\n                    if (!originalDistance) {\r\n                        originalDistance = dist / self._currentZoom;\r\n                    }\r\n\r\n                    var scale = dist / originalDistance;\r\n\r\n                    _setZoomerVal.call(self, scale);\r\n                    dispatchChange(self.elements.zoomer);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (self.options.enforceBoundary) {\r\n                if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {\r\n                    transform.y = top;\r\n                }\r\n\r\n                if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {\r\n                    transform.x = left;\r\n                }\r\n            }\r\n            else {\r\n                transform.y = top;\r\n                transform.x = left;\r\n            }\r\n\r\n            newCss[CSS_TRANSFORM] = transform.toString();\r\n            css(self.elements.preview, newCss);\r\n            _updateOverlay.call(self);\r\n            originalY = pageY;\r\n            originalX = pageX;\r\n        }\r\n\r\n        function mouseUp() {\r\n            isDragging = false;\r\n            window.removeEventListener('mousemove', mouseMove);\r\n            window.removeEventListener('touchmove', mouseMove);\r\n            window.removeEventListener('mouseup', mouseUp);\r\n            window.removeEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalDistance = 0;\r\n        }\r\n\r\n        self.elements.overlay.addEventListener('mousedown', mouseDown);\r\n        self.elements.overlay.addEventListener('touchstart', mouseDown);\r\n    }\r\n\r\n    function _updateOverlay() {\r\n        var self = this,\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            imgData = self.elements.preview.getBoundingClientRect();\r\n\r\n        css(self.elements.overlay, {\r\n            width: imgData.width + 'px',\r\n            height: imgData.height + 'px',\r\n            top: (imgData.top - boundRect.top) + 'px',\r\n            left: (imgData.left - boundRect.left) + 'px'\r\n        });\r\n    }\r\n    var _debouncedOverlay = debounce(_updateOverlay, 500);\r\n\r\n    function _triggerUpdate() {\r\n        var self = this;\r\n        if (_isVisible.call(self)) {\r\n            self.options.update.call(self, self.get());\r\n        }\r\n    }\r\n\r\n    function _isVisible() {\r\n        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0;\r\n    }\r\n\r\n    function _updatePropertiesFromImage() {\r\n        var self = this,\r\n            minZoom = 0,\r\n            maxZoom = 1.5,\r\n            initialZoom = 1,\r\n            cssReset = {},\r\n            img = self.elements.preview,\r\n            zoomer = self.elements.zoomer,\r\n            transformReset = new Transform(0, 0, initialZoom),\r\n            originReset = new TransformOrigin(),\r\n            isVisible = _isVisible.call(self),\r\n            imgData,\r\n            vpData,\r\n            boundaryData,\r\n            minW,\r\n            minH;\r\n\r\n        if (!isVisible || self.data.bound) {\r\n            // if the croppie isn't visible or it doesn't need binding\r\n            return;\r\n        }\r\n\r\n        self.data.bound = true;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        cssReset[CSS_TRANS_ORG] = originReset.toString();\r\n        cssReset['opacity'] = 1;\r\n        css(img, cssReset);\r\n\r\n        imgData = img.getBoundingClientRect();\r\n        vpData = self.elements.viewport.getBoundingClientRect();\r\n        boundaryData = self.elements.boundary.getBoundingClientRect();\r\n        self._originalImageWidth = imgData.width;\r\n        self._originalImageHeight = imgData.height;\r\n\r\n        if (self.options.enableZoom) {\r\n            if (self.options.enforceBoundary) {\r\n                minW = vpData.width / imgData.width;\r\n                minH = vpData.height / imgData.height;\r\n                minZoom = Math.max(minW, minH);\r\n            }\r\n\r\n            if (minZoom >= maxZoom) {\r\n                maxZoom = minZoom + 1;\r\n            }\r\n\r\n            zoomer.min = fix(minZoom, 4);\r\n            zoomer.max = fix(maxZoom, 4);\r\n            initialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height));\r\n            _setZoomerVal.call(self, initialZoom);\r\n            dispatchChange(zoomer);\r\n        }\r\n\r\n        self._currentZoom = transformReset.scale = initialZoom;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        css(img, cssReset);\r\n\r\n        if (self.data.points.length) {\r\n            _bindPoints.call(self, self.data.points);\r\n        }\r\n        else {\r\n            _centerImage.call(self);\r\n        }\r\n\r\n        _updateCenterPoint.call(self);\r\n        _updateOverlay.call(self);\r\n    }\r\n\r\n    function _bindPoints(points) {\r\n        if (points.length != 4) {\r\n            throw \"Croppie - Invalid number of points supplied: \" + points;\r\n        }\r\n        var self = this,\r\n            pointsWidth = points[2] - points[0],\r\n            // pointsHeight = points[3] - points[1],\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            vpOffset = {\r\n                left: vpData.left - boundRect.left,\r\n                top: vpData.top - boundRect.top\r\n            },\r\n            scale = vpData.width / pointsWidth,\r\n            originTop = points[1],\r\n            originLeft = points[0],\r\n            transformTop = (-1 * points[1]) + vpOffset.top,\r\n            transformLeft = (-1 * points[0]) + vpOffset.left,\r\n            newCss = {};\r\n\r\n        newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px';\r\n        newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString();\r\n        css(self.elements.preview, newCss);\r\n\r\n        _setZoomerVal.call(self, scale);\r\n        self._currentZoom = scale;\r\n    }\r\n\r\n    function _centerImage() {\r\n        var self = this,\r\n            imgDim = self.elements.preview.getBoundingClientRect(),\r\n            vpDim = self.elements.viewport.getBoundingClientRect(),\r\n            boundDim = self.elements.boundary.getBoundingClientRect(),\r\n            vpLeft = vpDim.left - boundDim.left,\r\n            vpTop = vpDim.top - boundDim.top,\r\n            w = vpLeft - ((imgDim.width - vpDim.width) / 2),\r\n            h = vpTop - ((imgDim.height - vpDim.height) / 2),\r\n            transform = new Transform(w, h, self._currentZoom);\r\n\r\n        css(self.elements.preview, CSS_TRANSFORM, transform.toString());\r\n    }\r\n\r\n    function _transferImageToCanvas(customOrientation) {\r\n        var self = this,\r\n            canvas = self.elements.canvas,\r\n            img = self.elements.img,\r\n            ctx = canvas.getContext('2d'),\r\n            exif = _hasExif.call(self),\r\n            customOrientation = self.options.enableOrientation && customOrientation;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        if (exif) {\r\n            getExifOrientation(img, function (orientation) {\r\n                drawCanvas(canvas, img, parseInt(orientation));\r\n                if (customOrientation) {\r\n                    drawCanvas(canvas, img, customOrientation);\r\n                }\r\n            });\r\n        } else if (customOrientation) {\r\n            drawCanvas(canvas, img, customOrientation);\r\n        }\r\n    }\r\n\r\n    function _getHtmlResult(data) {\r\n        var points = data.points,\r\n            div = document.createElement('div'),\r\n            img = document.createElement('img'),\r\n            width = points[2] - points[0],\r\n            height = points[3] - points[1];\r\n\r\n        addClass(div, 'croppie-result');\r\n        div.appendChild(img);\r\n        css(img, {\r\n            left: (-1 * points[0]) + 'px',\r\n            top: (-1 * points[1]) + 'px'\r\n        });\r\n        img.src = data.url;\r\n        css(div, {\r\n            width: width + 'px',\r\n            height: height + 'px'\r\n        });\r\n\r\n        return div;\r\n    }\r\n\r\n    function _getCanvasResult(img, data) {\r\n        var points = data.points,\r\n            left = points[0],\r\n            top = points[1],\r\n            width = (points[2] - points[0]),\r\n            height = (points[3] - points[1]),\r\n            circle = data.circle,\r\n            canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            outWidth = width,\r\n            outHeight = height;\r\n\r\n        if (data.outputWidth && data.outputHeight) {\r\n            outWidth = data.outputWidth;\r\n            outHeight = data.outputHeight;\r\n        }\r\n\r\n        canvas.width = outWidth;\r\n        canvas.height = outHeight;\r\n\r\n        ctx.drawImage(img, left, top, width, height, 0, 0, outWidth, outHeight);\r\n        if (circle) {\r\n            ctx.fillStyle = '#fff';\r\n            ctx.globalCompositeOperation = 'destination-in';\r\n            ctx.beginPath();\r\n            ctx.arc(outWidth / 2, outHeight / 2, outWidth / 2, 0, Math.PI * 2, true);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n        }\r\n        return canvas.toDataURL(data.format, data.quality);\r\n    }\r\n\r\n    function _bind(options, cb) {\r\n        var self = this,\r\n            url,\r\n            points = [];\r\n\r\n        if (typeof (options) === 'string') {\r\n            url = options;\r\n            options = {};\r\n        }\r\n        else if (Array.isArray(options)) {\r\n            points = options.slice();\r\n        }\r\n        else if (typeof (options) == 'undefined' && self.data.url) { //refreshing\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            return null;\r\n        }\r\n        else {\r\n            url = options.url;\r\n            points = options.points || [];\r\n        }\r\n\r\n        self.data.bound = false;\r\n        self.data.url = url || self.data.url;\r\n        self.data.points = (points || self.data.points).map(function (p) {\r\n            return parseFloat(p);\r\n        });\r\n        var prom = loadImage(url, self.elements.img);\r\n        prom.then(function () {\r\n            if (self.options.useCanvas) {\r\n                self.elements.img.exifdata = null;\r\n                _transferImageToCanvas.call(self, options.orientation || 1);\r\n            }\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            if (cb) {\r\n                cb();\r\n            }\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    function fix(v, decimalPoints) {\r\n        return parseFloat(v).toFixed(decimalPoints || 0);\r\n    }\r\n\r\n    function _get() {\r\n        var self = this,\r\n            imgData = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            x1 = vpData.left - imgData.left,\r\n            y1 = vpData.top - imgData.top,\r\n            x2 = x1 + vpData.width,\r\n            y2 = y1 + vpData.height,\r\n            scale = self._currentZoom;\r\n\r\n        if (scale === Infinity || isNaN(scale)) {\r\n            scale = 1;\r\n        }\r\n\r\n        var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;\r\n        x1 = Math.max(max, x1 / scale);\r\n        y1 = Math.max(max, y1 / scale);\r\n        x2 = Math.max(max, x2 / scale);\r\n        y2 = Math.max(max, y2 / scale);\r\n\r\n        return {\r\n            points: [fix(x1), fix(y1), fix(x2), fix(y2)],\r\n            zoom: scale\r\n        };\r\n    }\r\n\r\n    var RESULT_DEFAULTS = {\r\n            type: 'canvas', \r\n            format: 'png', \r\n            quality: 1\r\n        },\r\n        RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\r\n    function _result(options) {\r\n        var self = this,\r\n            data = _get.call(self),\r\n            opts = deepExtend(RESULT_DEFAULTS, deepExtend({}, options)),\r\n            type = (typeof (options) === 'string' ? options : (opts.type || 'viewport')),\r\n            size = opts.size,\r\n            format = opts.format,\r\n            quality = opts.quality,\r\n            vpRect = self.elements.viewport.getBoundingClientRect(),\r\n            ratio = vpRect.width / vpRect.height,\r\n            prom;\r\n\r\n        if (size === 'viewport') {\r\n            data.outputWidth = vpRect.width;\r\n            data.outputHeight = vpRect.height;\r\n        } else if (typeof size === 'object') {\r\n            if (size.width && size.height) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.height;\r\n            } else if (size.width) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.width / ratio;\r\n            } else if (size.height) {\r\n                data.outputWidth = size.height * ratio;\r\n                data.outputHeight = size.height;\r\n            }\r\n        }\r\n\r\n        if (RESULT_FORMATS.indexOf(format) > -1) {\r\n            data.format = 'image/' + format;\r\n            data.quality = quality;\r\n        }\r\n\r\n        data.circle = self.options.viewport.type === 'circle';\r\n        data.url = self.data.url;\r\n\r\n        prom = new Promise(function (resolve, reject) {\r\n            if (type === 'canvas') {\r\n                resolve(_getCanvasResult.call(self, self.elements.preview, data));\r\n            }\r\n            else {\r\n                resolve(_getHtmlResult.call(self, data));\r\n            }\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    function _refresh() {\r\n        _updatePropertiesFromImage.call(this);\r\n    }\r\n\r\n    function _rotate(deg) {\r\n        if (!this.options.useCanvas) {\r\n            throw 'Croppie: Cannot rotate without enableOrientation';\r\n        }\r\n\r\n        var self = this,\r\n            canvas = self.elements.canvas,\r\n            img = self.elements.img,\r\n            copy = document.createElement('canvas'),\r\n            ornt = 1;\r\n\r\n        copy.width = canvas.width;\r\n        copy.height = canvas.height;\r\n        var ctx = copy.getContext('2d');\r\n        ctx.drawImage(canvas, 0, 0);\r\n\r\n        if (deg === 90 || deg === -270) ornt = 6;\r\n        if (deg === -90 || deg === 270) ornt = 8;\r\n        if (deg === 180 || deg === -180) ornt = 3;\r\n\r\n        drawCanvas(canvas, copy, ornt);\r\n        _onZoom.call(self);\r\n    }\r\n\r\n    function _destroy() {\r\n        var self = this;\r\n        self.element.removeChild(self.elements.boundary);\r\n        removeClass(self.element, 'croppie-container');\r\n        if (self.options.enableZoom) {\r\n            self.element.removeChild(self.elements.zoomerWrap);\r\n        }\r\n        delete self.elements;\r\n    }\r\n\r\n    if (window.jQuery) {\r\n        var $ = window.jQuery;\r\n        $.fn.croppie = function (opts) {\r\n            var ot = typeof opts;\r\n\r\n            if (ot === 'string') {\r\n                var args = Array.prototype.slice.call(arguments, 1);\r\n                var singleInst = $(this).data('croppie');\r\n\r\n                if (opts === 'get') {\r\n                    return singleInst.get();\r\n                }\r\n                else if (opts === 'result') {\r\n                    return singleInst.result.apply(singleInst, args);\r\n                }\r\n\r\n                return this.each(function () {\r\n                    var i = $(this).data('croppie');\r\n                    if (!i) return;\r\n\r\n                    var method = i[opts];\r\n                    if ($.isFunction(method)) {\r\n                        method.apply(i, args);\r\n                        if (opts === 'destroy') {\r\n                            $(this).removeData('croppie');\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw 'Croppie ' + opts + ' method not found';\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                return this.each(function () {\r\n                    var i = new Croppie(this, opts);\r\n                    $(this).data('croppie', i);\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    function Croppie(element, opts) {\r\n        this.element = element;\r\n        this.options = deepExtend(deepExtend({}, Croppie.defaults), opts);\r\n\r\n        _create.call(this);\r\n        if (this.options.url) {\r\n            var bindOpts = {\r\n                url: this.options.url,\r\n                points: this.options.points\r\n            };\r\n            delete this.options['url'];\r\n            delete this.options['points'];\r\n            _bind.call(this, bindOpts);\r\n        }\r\n    }\r\n\r\n    Croppie.defaults = {\r\n        viewport: {\r\n            width: 100,\r\n            height: 100,\r\n            type: 'square'\r\n        },\r\n        boundary: {\r\n            width: 300,\r\n            height: 300\r\n        },\r\n        orientationControls: {\r\n            enabled: true,\r\n            leftClass: '',\r\n            rightClass: ''\r\n        },\r\n        customClass: '',\r\n        showZoomer: true,\r\n        enableZoom: true,\r\n        mouseWheelZoom: true,\r\n        enableExif: false,\r\n        enforceBoundary: true,\r\n        enableOrientation: false,\r\n        update: function () { }\r\n    };\r\n\r\n    deepExtend(Croppie.prototype, {\r\n        bind: function (options, cb) {\r\n            return _bind.call(this, options, cb);\r\n        },\r\n        get: function () {\r\n            return _get.call(this);\r\n        },\r\n        result: function (type) {\r\n            return _result.call(this, type);\r\n        },\r\n        refresh: function () {\r\n            return _refresh.call(this);\r\n        },\r\n        setZoom: function (v) {\r\n            _setZoomerVal.call(this, v);\r\n            dispatchChange(this.elements.zoomer);\r\n        },\r\n        rotate: function (deg) {\r\n            _rotate.call(this, deg);\r\n        },\r\n        destroy: function () {\r\n            return _destroy.call(this);\r\n        }\r\n    });\r\n\r\n    exports.Croppie = window.Croppie = Croppie;\r\n\r\n    if (typeof module === 'object' && !!module.exports) {\r\n        module.exports = Croppie;    \r\n    }\r\n}));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/croppie/croppie.js\n ** module id = 5\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 6\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}