{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///ngImageCrop.min.js","webpack:///webpack/bootstrap 9dfc2c922159565eb5a6","webpack:///./src/index.js","webpack:///./~/croppie/croppie.css?ca64","webpack:///./~/croppie/croppie.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./~/croppie/croppie.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/process/browser.js","webpack:///./~/exif-js/exif.js","webpack:///./src/template.jade","webpack:///./~/jade/lib/runtime.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","croppie","EXIF","MODULE_NAME","_module","angular","ImageCropDirectiveCtrl","$scope","$document","$element","$timeout","$window","initialized","_initCroppie","_this","result","type","quality","size","width","options","viewport","height","then","img","$apply","regex","base64String","exec","croppedImage","_b64ToBlob","onApply","image","_this2","reader","FileReader","onload","bind","readAsDataURL","_originalImage","find","_bindImage","b64Data","byteCharacters","atob","byteArrays","contentType","sliceSize","offset","slice","byteNumbers","Array","charCodeAt","byteArray","Uint8Array","push","blob","Blob","name","set","undefined","get","ImageCropDirective","restrict","scope","originalImage","onCancel","bindToController","controller","controllerAs","template","directive","content","locals","list","toString","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","Error","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","document","createElement","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","btoa","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","window","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","setImmediate","__webpack_provided_window_dot_EXIF","vendorPrefix","prop","emptyStyles","capProp","toUpperCase","cssPrefixes","deepExtend","destination","source","property","constructor","callee","debounce","func","wait","immediate","timeout","context","args","later","callNow","clearTimeout","setTimeout","dispatchChange","element","evt","createEvent","initEvent","dispatchEvent","fireEvent","el","val","tmp","style","addClass","classList","add","className","removeClass","replace","loadImage","src","imageEl","prom","Image","Promise","resolve","reject","substring","opacity","getExifOrientation","cb","getData","orientation","getTag","drawCanvas","canvas","ctx","getContext","save","translate","scale","rotate","Math","PI","drawImage","restore","_create","boundary","overlay","self","contClass","customViewportClass","useCanvas","enableOrientation","_hasExif","data","elements","preview","customClass","_initDraggable","enableZoom","_initializeZoom","enableExif","exif","_setZoomerVal","v","zoomer","fix","change","_onZoom","parseFloat","origin","TransformOrigin","viewportRect","getBoundingClientRect","transform","Transform","parse","scroll","ev","delta","targetZoom","wheelDelta","deltaY","detail","_currentZoom","preventDefault","wrap","zoomerWrap","step","display","showZoomer","addEventListener","mouseWheelZoom","ui","vpRect","enforceBoundary","boundaries","_getVirtualBoundaries","transBoundaries","oBoundaries","x","maxX","minX","y","maxY","minY","transCss","CSS_TRANSFORM","CSS_TRANS_ORG","_debouncedOverlay","_triggerUpdate","vpWidth","vpHeight","centerFromBoundaryX","centerFromBoundaryY","imgRect","curImgWidth","curImgHeight","halfWidth","halfHeight","originMinX","originMaxX","originMinY","originMaxY","_updateCenterPoint","vpData","pc","top","left","center","adj","newCss","mouseDown","isDragging","originalX","pageX","originalY","pageY","touches","mouseMove","mouseUp","body","CSS_USERSELECT","deltaX","touch1","touch2","dist","sqrt","originalDistance","bottom","right","_updateOverlay","removeEventListener","boundRect","imgData","_isVisible","offsetHeight","offsetWidth","_updatePropertiesFromImage","boundaryData","minW","minH","minZoom","maxZoom","initialZoom","cssReset","transformReset","originReset","isVisible","bound","_originalImageWidth","_originalImageHeight","max","min","points","_bindPoints","_centerImage","pointsWidth","vpOffset","originTop","originLeft","transformTop","transformLeft","imgDim","vpDim","boundDim","vpLeft","vpTop","w","h","_transferImageToCanvas","customOrientation","clearRect","parseInt","_getHtmlResult","div","url","_getCanvasResult","circle","outWidth","outHeight","outputWidth","outputHeight","fillStyle","globalCompositeOperation","beginPath","arc","closePath","fill","toDataURL","format","_bind","isArray","map","exifdata","decimalPoints","toFixed","_get","x1","y1","x2","y2","Infinity","isNaN","Number","NEGATIVE_INFINITY","zoom","_result","opts","RESULT_DEFAULTS","ratio","RESULT_FORMATS","_refresh","_rotate","deg","copy","ornt","_destroy","Croppie","defaults","bindOpts","a","b","_state","_value","_deferreds","e","f","d","k","onFulfilled","onRejected","g","l","all","race","_setImmediateFn","_TRANSLATE","_TRANSLATE_SUFFIX","fromMatrix","fromString","vals","split","values","jQuery","$","ot","singleInst","each","method","isFunction","removeData","orientationControls","enabled","leftClass","rightClass","refresh","setZoom","destroy","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","Function","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","array","noop","process","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","imageHasData","base64ToArrayBuffer","base64","match","binary","buffer","ArrayBuffer","view","objectURLToBlob","callback","http","XMLHttpRequest","open","responseType","status","response","send","getImageData","handleBinaryFile","binFile","findEXIFinJPEG","iptcdata","findIPTCinJPEG","arrayBuffer","fileReader","readAsArrayBuffer","File","debug","console","log","byteLength","file","dataView","DataView","getUint8","marker","readEXIFData","getUint16","isFieldSegmentStart","nameHeaderLength","startOffset","sectionLength","readIPTCData","fieldValue","fieldName","dataSize","segmentType","segmentSize","segmentStartPos","IptcFieldMap","getInt16","getStringFromDB","hasOwnProperty","readTags","tiffStart","dirStart","strings","bigEnd","entryOffset","tag","entries","tags","readTagValue","n","numerator","denominator","numValues","getUint32","valueOffset","getInt32","start","outstr","String","fromCharCode","exifData","gpsData","tiffOffset","firstIFDOffset","TiffTags","ExifIFDPointer","ExifTags","StringValues","Components","GPSInfoIFDPointer","GPSTags","EXIFwrapped","Tags","36864","40960","40961","40962","40963","37121","37122","37500","37510","40964","36867","36868","37520","37521","37522","33434","33437","34850","34852","34855","34856","37377","37378","37379","37380","37381","37382","37383","37384","37385","37396","37386","41483","41484","41486","41487","41488","41492","41493","41495","41728","41729","41730","41985","41986","41987","41988","41989","41990","41991","41992","41993","41994","41995","41996","40965","42016","256","257","34665","34853","258","259","262","274","277","284","530","531","282","283","296","273","278","279","513","514","301","318","319","529","532","306","270","271","272","305","315","33432","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","ExposureProgram","MeteringMode","255","LightSource","Flash","31","32","65","69","71","73","77","79","89","93","95","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","120","110","55","80","85","122","105","116","HTMLImageElement","complete","getAllTags","pretty","strPretty","readFromBinaryFile","buf","nulls","joinClasses","keys","jade_encode_char","jade_encode_html_rules","jade_escape","html","jade_match_html","merge","attrs","ac","bc","cls","classes","escaped","escape","text","attr","terse","warn","toISOString","&","<",">","\"","rethrow","err","filename","lineno","str","message","readFileSync","ex","lines","end","line","curr","path","DebugItem"],"mappings":"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","file":"ngImageCrop.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ngImageCrop\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngImageCrop\"] = factory();\n\telse\n\t\troot[\"ngImageCrop\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ngImageCrop\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngImageCrop\"] = factory();\n\telse\n\t\troot[\"ngImageCrop\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar croppie = __webpack_require__(5);\n\tvar EXIF = __webpack_require__(8);\n\t\n\tvar MODULE_NAME = 'ngImageCrop';\n\t\n\texports.default = MODULE_NAME;\n\t\n\t\n\tvar _module = angular.module(MODULE_NAME, []);\n\t\n\tvar ImageCropDirectiveCtrl = function () {\n\t  function ImageCropDirectiveCtrl($scope, $document, $element, $timeout, $window) {\n\t    _classCallCheck(this, ImageCropDirectiveCtrl);\n\t\n\t    this.$document = $document;\n\t    this.$element = $element;\n\t    this.$scope = $scope;\n\t    this.$timeout = $timeout;\n\t    this.$window = $window;\n\t    this.$window.EXIF = EXIF;\n\t    this.initialized = false;\n\t    this._initCroppie();\n\t  }\n\t\n\t  _createClass(ImageCropDirectiveCtrl, [{\n\t    key: 'saveCrop',\n\t    value: function saveCrop() {\n\t      var _this = this;\n\t\n\t      // returns a blob of the cropped image\n\t      this.c.result({\n\t        type: 'canvas',\n\t        quality: 1,\n\t        size: { width: this.options.viewport.width * 2, height: this.options.viewport.height * 2 }\n\t      }).then(function (img) {\n\t        _this.$scope.$apply(function () {\n\t          var regex = /^data:[a-z]+\\/[a-z]+;base64,(.+)/;\n\t          var base64String = regex.exec(img);\n\t          var croppedImage = _this._b64ToBlob(base64String[base64String.length - 1]);\n\t          // call apply callback\n\t          _this.onApply({ image: croppedImage });\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_bindImage',\n\t    value: function _bindImage() {\n\t      var _this2 = this;\n\t\n\t      // binds image to croppie instance\n\t      var reader = new FileReader();\n\t\n\t      reader.onload = function () {\n\t        _this2.c.bind(reader.result);\n\t      };\n\t      reader.readAsDataURL(this._originalImage);\n\t    }\n\t  }, {\n\t    key: '_initCroppie',\n\t    value: function _initCroppie() {\n\t      // initializes a croppie instance\n\t      this.c = new croppie(this.$element.find('.cropper')[0], this.options);\n\t      if (this._originalImage) {\n\t        this._bindImage();\n\t      }\n\t    }\n\t  }, {\n\t    key: '_b64ToBlob',\n\t    value: function _b64ToBlob(b64Data) {\n\t      var byteCharacters = atob(b64Data);\n\t      var byteArrays = [];\n\t      var contentType = this._originalImage.type;\n\t      var sliceSize = 512;\n\t\n\t      for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n\t        var slice = byteCharacters.slice(offset, offset + sliceSize);\n\t\n\t        var byteNumbers = new Array(slice.length);\n\t        for (var i = 0; i < slice.length; i++) {\n\t          byteNumbers[i] = slice.charCodeAt(i);\n\t        }\n\t\n\t        var byteArray = new Uint8Array(byteNumbers);\n\t\n\t        byteArrays.push(byteArray);\n\t      }\n\t\n\t      var blob = new Blob(byteArrays, { type: contentType });\n\t      var width = this.c.options.viewport.width;\n\t      var height = this.c.options.viewport.height;\n\t      blob.name = width + '_' + height + '_' + this._originalImage.name;\n\t      return blob;\n\t    }\n\t  }, {\n\t    key: 'originalImage',\n\t    set: function set(value) {\n\t      this._originalImage = value;\n\t      if (this.c !== undefined) {\n\t        this._bindImage();\n\t      }\n\t    },\n\t    get: function get() {\n\t      return this._originalImage;\n\t    }\n\t  }]);\n\t\n\t  return ImageCropDirectiveCtrl;\n\t}();\n\t\n\tvar ImageCropDirective = function ImageCropDirective() {\n\t  _classCallCheck(this, ImageCropDirective);\n\t\n\t  this.restrict = 'E';\n\t  this.scope = {\n\t    originalImage: '<',\n\t    options: '<',\n\t    onApply: \"&\",\n\t    onCancel: \"&\"\n\t  };\n\t  this.bindToController = true;\n\t  this.controller = ImageCropDirectiveCtrl;\n\t  this.controllerAs = '$ctrl';\n\t  this.template = __webpack_require__(9)();\n\t};\n\t\n\t_module.directive('imageCrop', function () {\n\t  return new ImageCropDirective();\n\t});\n\t_module.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(2);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../css-loader/index.js!./croppie.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../css-loader/index.js!./croppie.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".croppie-container{padding:30px}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 0 899px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:0 auto;margin-top:25px;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'\\\\21BA'}.cr-rotate-r i:before{content:'\\\\21BB'}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate, __webpack_provided_window_dot_EXIF) {/*************************\r\n\t * Croppie\r\n\t * Copyright 2016\r\n\t * Foliotek\r\n\t * Version: 2.1.1\r\n\t *************************/\r\n\t(function (root, factory) {\r\n\t    if (true) {\r\n\t        // AMD. Register as an anonymous module.\r\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\r\n\t        // CommonJS\r\n\t        factory(exports);\r\n\t    } else {\r\n\t        // Browser globals\r\n\t        factory((root.commonJsStrict = {}));\r\n\t    }\r\n\t}(this, function (exports) {\r\n\t\r\n\t    if (typeof Promise !== 'function') {\r\n\t        /*! promise-polyfill 3.1.0 */\r\n\t        !function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k=\"function\"==typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\r\n\t    }\r\n\t\r\n\t    var cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n\t        emptyStyles = document.createElement('div').style,\r\n\t        CSS_TRANS_ORG,\r\n\t        CSS_TRANSFORM,\r\n\t        CSS_USERSELECT;\r\n\t\r\n\t    function vendorPrefix(prop) {\r\n\t        if (prop in emptyStyles) {\r\n\t            return prop;\r\n\t        }\r\n\t\r\n\t        var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n\t            i = cssPrefixes.length;\r\n\t\r\n\t        while (i--) {\r\n\t            prop = cssPrefixes[i] + capProp;\r\n\t            if (prop in emptyStyles) {\r\n\t                return prop;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    CSS_TRANSFORM = vendorPrefix('transform');\r\n\t    CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n\t    CSS_USERSELECT = vendorPrefix('userSelect');\r\n\t\r\n\t    // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/\r\n\t    function deepExtend(destination, source) {\r\n\t        destination = destination || {};\r\n\t        for (var property in source) {\r\n\t            if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n\t                destination[property] = destination[property] || {};\r\n\t                arguments.callee(destination[property], source[property]);\r\n\t            } else {\r\n\t                destination[property] = source[property];\r\n\t            }\r\n\t        }\r\n\t        return destination;\r\n\t    }\r\n\t\r\n\t    function debounce(func, wait, immediate) {\r\n\t        var timeout;\r\n\t        return function () {\r\n\t            var context = this, args = arguments;\r\n\t            var later = function () {\r\n\t                timeout = null;\r\n\t                if (!immediate) func.apply(context, args);\r\n\t            };\r\n\t            var callNow = immediate && !timeout;\r\n\t            clearTimeout(timeout);\r\n\t            timeout = setTimeout(later, wait);\r\n\t            if (callNow) func.apply(context, args);\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function dispatchChange(element) {\r\n\t        if (\"createEvent\" in document) {\r\n\t            var evt = document.createEvent(\"HTMLEvents\");\r\n\t            evt.initEvent(\"change\", false, true);\r\n\t            element.dispatchEvent(evt);\r\n\t        }\r\n\t        else {\r\n\t            element.fireEvent(\"onchange\");\r\n\t        }\r\n\t    }\r\n\t\r\n\t    //http://jsperf.com/vanilla-css\r\n\t    function css(el, styles, val) {\r\n\t        if (typeof (styles) === 'string') {\r\n\t            var tmp = styles;\r\n\t            styles = {};\r\n\t            styles[tmp] = val;\r\n\t        }\r\n\t\r\n\t        for (var prop in styles) {\r\n\t            el.style[prop] = styles[prop];\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function addClass(el, c) {\r\n\t        if (el.classList) {\r\n\t            el.classList.add(c);\r\n\t        }\r\n\t        else {\r\n\t            el.className += ' ' + c;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function removeClass(el, c) {\r\n\t        if (el.classList) {\r\n\t            el.classList.remove(c);\r\n\t        }\r\n\t        else {\r\n\t            el.className = el.className.replace(c, '');\r\n\t        }\r\n\t    }\r\n\t\r\n\t    /* Utilities */\r\n\t    function loadImage(src, imageEl) {\r\n\t        var img = imageEl || new Image(),\r\n\t            prom;\r\n\t\r\n\t        if (img.src === src) {\r\n\t            // If image source hasn't changed, return a promise that resolves immediately\r\n\t            prom = new Promise(function (resolve, reject) {\r\n\t                resolve(img);\r\n\t            });\r\n\t        } else {\r\n\t            prom = new Promise(function (resolve, reject) {\r\n\t                if (src.substring(0,4).toLowerCase() === 'http') {\r\n\t                    img.setAttribute('crossOrigin', 'anonymous');\r\n\t                }\r\n\t                img.onload = function () {\r\n\t                    setTimeout(function () {\r\n\t                        resolve(img);\r\n\t                    }, 1);\r\n\t                };\r\n\t            });\r\n\t\r\n\t            img.src = src;\r\n\t        }\r\n\t\r\n\t        img.style.opacity = 0;\r\n\t\r\n\t        return prom;\r\n\t    }\r\n\t\r\n\t    /* CSS Transform Prototype */\r\n\t    var _TRANSLATE = 'translate3d',\r\n\t        _TRANSLATE_SUFFIX = ', 0px';\r\n\t    var Transform = function (x, y, scale) {\r\n\t        this.x = parseFloat(x);\r\n\t        this.y = parseFloat(y);\r\n\t        this.scale = parseFloat(scale);\r\n\t    };\r\n\t\r\n\t    Transform.parse = function (v) {\r\n\t        if (v.style) {\r\n\t            return Transform.parse(v.style[CSS_TRANSFORM]);\r\n\t        }\r\n\t        else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n\t            return Transform.fromMatrix(v);\r\n\t        }\r\n\t        else {\r\n\t            return Transform.fromString(v);\r\n\t        }\r\n\t    };\r\n\t\r\n\t    Transform.fromMatrix = function (v) {\r\n\t        var vals = v.substring(7).split(',');\r\n\t        if (!vals.length || v === 'none') {\r\n\t            vals = [1, 0, 0, 1, 0, 0];\r\n\t        }\r\n\t\r\n\t        return new Transform(parseInt(vals[4], 10), parseInt(vals[5], 10), parseFloat(vals[0]));\r\n\t    };\r\n\t\r\n\t    Transform.fromString = function (v) {\r\n\t        var values = v.split(') '),\r\n\t            translate = values[0].substring(_TRANSLATE.length + 1).split(','),\r\n\t            scale = values.length > 1 ? values[1].substring(6) : 1,\r\n\t            x = translate.length > 1 ? translate[0] : 0,\r\n\t            y = translate.length > 1 ? translate[1] : 0;\r\n\t\r\n\t        return new Transform(x, y, scale);\r\n\t    };\r\n\t\r\n\t    Transform.prototype.toString = function () {\r\n\t        return _TRANSLATE + '(' + this.x + 'px, ' + this.y + 'px' + _TRANSLATE_SUFFIX + ') scale(' + this.scale + ')';\r\n\t    };\r\n\t\r\n\t    var TransformOrigin = function (el) {\r\n\t        if (!el || !el.style[CSS_TRANS_ORG]) {\r\n\t            this.x = 0;\r\n\t            this.y = 0;\r\n\t            return;\r\n\t        }\r\n\t        var css = el.style[CSS_TRANS_ORG].split(' ');\r\n\t        this.x = parseFloat(css[0]);\r\n\t        this.y = parseFloat(css[1]);\r\n\t    };\r\n\t\r\n\t    TransformOrigin.prototype.toString = function () {\r\n\t        return this.x + 'px ' + this.y + 'px';\r\n\t    };\r\n\t\r\n\t    function getExifOrientation (img, cb) {\r\n\t        if (!__webpack_provided_window_dot_EXIF) {\r\n\t            cb(0);\r\n\t        }\r\n\t\r\n\t        EXIF.getData(img, function () { \r\n\t            var orientation = EXIF.getTag(this, 'Orientation');\r\n\t            cb(orientation);            \r\n\t        });\r\n\t    }\r\n\t\r\n\t    function drawCanvas(canvas, img, orientation) {\r\n\t        var width = img.width,\r\n\t            height = img.height,\r\n\t            ctx = canvas.getContext('2d');\r\n\t\r\n\t        canvas.width = img.width;\r\n\t        canvas.height = img.height;\r\n\t\r\n\t        ctx.save();\r\n\t        switch (orientation) {\r\n\t          case 2:\r\n\t             ctx.translate(width, 0);\r\n\t             ctx.scale(-1, 1);\r\n\t             break;\r\n\t\r\n\t          case 3:\r\n\t              ctx.translate(width, height);\r\n\t              ctx.rotate(180*Math.PI/180);\r\n\t              break;\r\n\t\r\n\t          case 4:\r\n\t              ctx.translate(0, height);\r\n\t              ctx.scale(1, -1);\r\n\t              break;\r\n\t\r\n\t          case 5:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.rotate(90*Math.PI/180);\r\n\t              ctx.scale(1, -1);\r\n\t              break;\r\n\t\r\n\t          case 6:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.rotate(90*Math.PI/180);\r\n\t              ctx.translate(0, -height);\r\n\t              break;\r\n\t\r\n\t          case 7:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.rotate(-90*Math.PI/180);\r\n\t              ctx.translate(-width, height);\r\n\t              ctx.scale(1, -1);\r\n\t              break;\r\n\t\r\n\t          case 8:\r\n\t              canvas.width = height;\r\n\t              canvas.height = width;\r\n\t              ctx.translate(0, width);\r\n\t              ctx.rotate(-90*Math.PI/180);\r\n\t              break;\r\n\t        }\r\n\t        ctx.drawImage(img, 0,0, width, height);\r\n\t        ctx.restore();\r\n\t    }\r\n\t\r\n\t    /* Private Methods */\r\n\t    function _create() {\r\n\t        var self = this,\r\n\t            contClass = 'croppie-container',\r\n\t            customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,\r\n\t            boundary, img, viewport, overlay, canvas;\r\n\t\r\n\t        self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self);\r\n\t        // Properties on class\r\n\t        self.data = {};\r\n\t        self.elements = {};\r\n\t\r\n\t        // Generating Markup\r\n\t        boundary = self.elements.boundary = document.createElement('div');\r\n\t        viewport = self.elements.viewport = document.createElement('div');\r\n\t        img = self.elements.img = document.createElement('img');\r\n\t        overlay = self.elements.overlay = document.createElement('div');\r\n\t\r\n\t        if (self.options.useCanvas) {\r\n\t            self.elements.canvas = document.createElement('canvas');\r\n\t            self.elements.preview = self.elements.canvas;\r\n\t        }\r\n\t        else {\r\n\t            self.elements.preview = self.elements.img;\r\n\t        }\r\n\t\r\n\t        addClass(boundary, 'cr-boundary');\r\n\t        css(boundary, {\r\n\t            width: self.options.boundary.width + 'px',\r\n\t            height: self.options.boundary.height + 'px'\r\n\t        });\r\n\t\r\n\t        addClass(viewport, 'cr-viewport');\r\n\t        if (customViewportClass) {\r\n\t            addClass(viewport, customViewportClass);\r\n\t        }\r\n\t        css(viewport, {\r\n\t            width: self.options.viewport.width + 'px',\r\n\t            height: self.options.viewport.height + 'px'\r\n\t        });\r\n\t\r\n\t        addClass(self.elements.preview, 'cr-image');\r\n\t        addClass(overlay, 'cr-overlay');\r\n\t\r\n\t        self.element.appendChild(boundary);\r\n\t        boundary.appendChild(self.elements.preview);\r\n\t        boundary.appendChild(viewport);\r\n\t        boundary.appendChild(overlay);\r\n\t\r\n\t        addClass(self.element, contClass);\r\n\t        if (self.options.customClass) {\r\n\t            addClass(self.element, self.options.customClass);\r\n\t        }\r\n\t\r\n\t        // Initialize drag & zoom\r\n\t        _initDraggable.call(this);\r\n\t\r\n\t        if (self.options.enableZoom) {\r\n\t            _initializeZoom.call(self);\r\n\t        }\r\n\t\r\n\t        // if (self.options.enableOrientation) {\r\n\t        //     _initRotationControls.call(self);\r\n\t        // }\r\n\t    }\r\n\t\r\n\t    function _initRotationControls () {\r\n\t        // TODO - Not a fan of these controls\r\n\t        return;\r\n\t        var self = this,\r\n\t            wrap, btnLeft, btnRight, iLeft, iRight;\r\n\t\r\n\t        wrap = document.createElement('div');\r\n\t        self.elements.orientationBtnLeft = btnLeft = document.createElement('button');\r\n\t        self.elements.orientationBtnRight = btnRight = document.createElement('button');\r\n\t\r\n\t        wrap.appendChild(btnLeft);\r\n\t        wrap.appendChild(btnRight);\r\n\t\r\n\t        iLeft = document.createElement('i');\r\n\t        iRight = document.createElement('i');\r\n\t        btnLeft.appendChild(iLeft);\r\n\t        btnRight.appendChild(iRight);\r\n\t\r\n\t        addClass(wrap, 'cr-rotate-controls');\r\n\t        addClass(btnLeft, 'cr-rotate-l');\r\n\t        addClass(btnRight, 'cr-rotate-r');\r\n\t\r\n\t        self.elements.boundary.appendChild(wrap);\r\n\t\r\n\t        btnLeft.addEventListener('click', function () {\r\n\t            self.rotate(-90);\r\n\t        });\r\n\t        btnRight.addEventListener('click', function () {\r\n\t            self.rotate(90);\r\n\t        });\r\n\t    }\r\n\t\r\n\t    function _hasExif() {\r\n\t        // todo - remove options.exif after deprecation\r\n\t        return (this.options.enableExif || this.options.exif) && __webpack_provided_window_dot_EXIF;\r\n\t    }\r\n\t\r\n\t    function _setZoomerVal(v) {\r\n\t        if (this.options.enableZoom) {\r\n\t            this.elements.zoomer.value = fix(v, 4);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _initializeZoom() {\r\n\t        var self = this,\r\n\t            wrap = self.elements.zoomerWrap = document.createElement('div'),\r\n\t            zoomer = self.elements.zoomer = document.createElement('input');\r\n\t\r\n\t        addClass(wrap, 'cr-slider-wrap');\r\n\t        addClass(zoomer, 'cr-slider');\r\n\t        zoomer.type = 'range';\r\n\t        zoomer.step = '0.01';\r\n\t        zoomer.value = 1;\r\n\t        zoomer.style.display = self.options.showZoomer ? '' : 'none';\r\n\t\r\n\t        self.element.appendChild(wrap);\r\n\t        wrap.appendChild(zoomer);\r\n\t\r\n\t        self._currentZoom = 1;\r\n\t\r\n\t        function change() {\r\n\t            _onZoom.call(self, {\r\n\t                value: parseFloat(zoomer.value),\r\n\t                origin: new TransformOrigin(self.elements.preview),\r\n\t                viewportRect: self.elements.viewport.getBoundingClientRect(),\r\n\t                transform: Transform.parse(self.elements.preview)\r\n\t            });\r\n\t        }\r\n\t\r\n\t        function scroll(ev) {\r\n\t            var delta, targetZoom;\r\n\t\r\n\t            if (ev.wheelDelta) {\r\n\t                delta = ev.wheelDelta / 1200; //wheelDelta min: -120 max: 120 // max x 10 x 2\r\n\t            } else if (ev.deltaY) {\r\n\t                delta = ev.deltaY / 1060; //deltaY min: -53 max: 53 // max x 10 x 2\r\n\t            } else if (ev.detail) {\r\n\t                delta = ev.detail / -60; //delta min: -3 max: 3 // max x 10 x 2\r\n\t            } else {\r\n\t                delta = 0;\r\n\t            }\r\n\t\r\n\t            targetZoom = self._currentZoom + delta;\r\n\t            \r\n\t            ev.preventDefault();\r\n\t            _setZoomerVal.call(self, targetZoom);\r\n\t            change();\r\n\t        }\r\n\t\r\n\t        self.elements.zoomer.addEventListener('input', change);// this is being fired twice on keypress\r\n\t        self.elements.zoomer.addEventListener('change', change);\r\n\t\r\n\t        if (self.options.mouseWheelZoom) {\r\n\t            self.elements.boundary.addEventListener('mousewheel', scroll);\r\n\t            self.elements.boundary.addEventListener('DOMMouseScroll', scroll);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _onZoom(ui) {\r\n\t        var self = this,\r\n\t            transform = ui ? ui.transform : Transform.parse(self.elements.preview),\r\n\t            vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),\r\n\t            origin = ui ? ui.origin : new TransformOrigin(self.elements.preview);\r\n\t\r\n\t        self._currentZoom = ui ? ui.value : self._currentZoom;\r\n\t        transform.scale = self._currentZoom;\r\n\t\r\n\t        if (self.options.enforceBoundary) {\r\n\t            var boundaries = _getVirtualBoundaries.call(self, vpRect),\r\n\t                transBoundaries = boundaries.translate,\r\n\t                oBoundaries = boundaries.origin;\r\n\t\r\n\t            if (transform.x >= transBoundaries.maxX) {\r\n\t                origin.x = oBoundaries.minX;\r\n\t                transform.x = transBoundaries.maxX;\r\n\t            }\r\n\t\r\n\t            if (transform.x <= transBoundaries.minX) {\r\n\t                origin.x = oBoundaries.maxX;\r\n\t                transform.x = transBoundaries.minX;\r\n\t            }\r\n\t\r\n\t            if (transform.y >= transBoundaries.maxY) {\r\n\t                origin.y = oBoundaries.minY;\r\n\t                transform.y = transBoundaries.maxY;\r\n\t            }\r\n\t\r\n\t            if (transform.y <= transBoundaries.minY) {\r\n\t                origin.y = oBoundaries.maxY;\r\n\t                transform.y = transBoundaries.minY;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        var transCss = {};\r\n\t        transCss[CSS_TRANSFORM] = transform.toString();\r\n\t        transCss[CSS_TRANS_ORG] = origin.toString();\r\n\t        css(self.elements.preview, transCss);\r\n\t\r\n\t        _debouncedOverlay.call(self);\r\n\t        _triggerUpdate.call(self);\r\n\t    }\r\n\t\r\n\t    function _getVirtualBoundaries(viewport) {\r\n\t        var self = this,\r\n\t            scale = self._currentZoom,\r\n\t            vpWidth = viewport.width,\r\n\t            vpHeight = viewport.height,\r\n\t            centerFromBoundaryX = self.options.boundary.width / 2,\r\n\t            centerFromBoundaryY = self.options.boundary.height / 2,\r\n\t            imgRect = self.elements.preview.getBoundingClientRect(),\r\n\t            curImgWidth = imgRect.width,\r\n\t            curImgHeight = imgRect.height,\r\n\t            halfWidth = vpWidth / 2,\r\n\t            halfHeight = vpHeight / 2;\r\n\t\r\n\t\r\n\t        var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1;\r\n\t        var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)));\r\n\t\r\n\t        var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1;\r\n\t        var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)));\r\n\t\r\n\t        var originMinX = (1 / scale) * halfWidth;\r\n\t        var originMaxX = (curImgWidth * (1 / scale)) - originMinX;\r\n\t\r\n\t        var originMinY = (1 / scale) * halfHeight;\r\n\t        var originMaxY = (curImgHeight * (1 / scale)) - originMinY;\r\n\t\r\n\t        return {\r\n\t            translate: {\r\n\t                maxX: maxX,\r\n\t                minX: minX,\r\n\t                maxY: maxY,\r\n\t                minY: minY\r\n\t            },\r\n\t            origin: {\r\n\t                maxX: originMaxX,\r\n\t                minX: originMinX,\r\n\t                maxY: originMaxY,\r\n\t                minY: originMinY\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function _updateCenterPoint() {\r\n\t        var self = this,\r\n\t            scale = self._currentZoom,\r\n\t            data = self.elements.preview.getBoundingClientRect(),\r\n\t            vpData = self.elements.viewport.getBoundingClientRect(),\r\n\t            transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),\r\n\t            pc = new TransformOrigin(self.elements.preview),\r\n\t            top = (vpData.top - data.top) + (vpData.height / 2),\r\n\t            left = (vpData.left - data.left) + (vpData.width / 2),\r\n\t            center = {},\r\n\t            adj = {};\r\n\t\r\n\t        center.y = top / scale;\r\n\t        center.x = left / scale;\r\n\t\r\n\t        adj.y = (center.y - pc.y) * (1 - scale);\r\n\t        adj.x = (center.x - pc.x) * (1 - scale);\r\n\t\r\n\t        transform.x -= adj.x;\r\n\t        transform.y -= adj.y;\r\n\t\r\n\t        var newCss = {};\r\n\t        newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px';\r\n\t        newCss[CSS_TRANSFORM] = transform.toString();\r\n\t        css(self.elements.preview, newCss);\r\n\t    }\r\n\t\r\n\t    function _initDraggable() {\r\n\t        var self = this,\r\n\t            isDragging = false,\r\n\t            originalX,\r\n\t            originalY,\r\n\t            originalDistance,\r\n\t            vpRect;\r\n\t\r\n\t        function mouseDown(ev) {\r\n\t            ev.preventDefault();\r\n\t            if (isDragging) return;\r\n\t            isDragging = true;\r\n\t            originalX = ev.pageX;\r\n\t            originalY = ev.pageY;\r\n\t\r\n\t            if (ev.touches) {\r\n\t                var touches = ev.touches[0];\r\n\t                originalX = touches.pageX;\r\n\t                originalY = touches.pageY;\r\n\t            }\r\n\t\r\n\t            transform = Transform.parse(self.elements.preview);\r\n\t            window.addEventListener('mousemove', mouseMove);\r\n\t            window.addEventListener('touchmove', mouseMove);\r\n\t            window.addEventListener('mouseup', mouseUp);\r\n\t            window.addEventListener('touchend', mouseUp);\r\n\t            document.body.style[CSS_USERSELECT] = 'none';\r\n\t            vpRect = self.elements.viewport.getBoundingClientRect();\r\n\t        }\r\n\t\r\n\t        function mouseMove(ev) {\r\n\t            ev.preventDefault();\r\n\t            var pageX = ev.pageX,\r\n\t                pageY = ev.pageY;\r\n\t\r\n\t            if (ev.touches) {\r\n\t                var touches = ev.touches[0];\r\n\t                pageX = touches.pageX;\r\n\t                pageY = touches.pageY;\r\n\t            }\r\n\t\r\n\t            var deltaX = pageX - originalX,\r\n\t                deltaY = pageY - originalY,\r\n\t                imgRect = self.elements.preview.getBoundingClientRect(),\r\n\t                top = transform.y + deltaY,\r\n\t                left = transform.x + deltaX,\r\n\t                newCss = {};\r\n\t\r\n\t            if (ev.type == 'touchmove') {\r\n\t                if (ev.touches.length > 1) {\r\n\t                    var touch1 = ev.touches[0];\r\n\t                    var touch2 = ev.touches[1];\r\n\t                    var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY));\r\n\t\r\n\t                    if (!originalDistance) {\r\n\t                        originalDistance = dist / self._currentZoom;\r\n\t                    }\r\n\t\r\n\t                    var scale = dist / originalDistance;\r\n\t\r\n\t                    _setZoomerVal.call(self, scale);\r\n\t                    dispatchChange(self.elements.zoomer);\r\n\t                    return;\r\n\t                }\r\n\t            }\r\n\t\r\n\t            if (self.options.enforceBoundary) {\r\n\t                if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {\r\n\t                    transform.y = top;\r\n\t                }\r\n\t\r\n\t                if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {\r\n\t                    transform.x = left;\r\n\t                }\r\n\t            }\r\n\t            else {\r\n\t                transform.y = top;\r\n\t                transform.x = left;\r\n\t            }\r\n\t\r\n\t            newCss[CSS_TRANSFORM] = transform.toString();\r\n\t            css(self.elements.preview, newCss);\r\n\t            _updateOverlay.call(self);\r\n\t            originalY = pageY;\r\n\t            originalX = pageX;\r\n\t        }\r\n\t\r\n\t        function mouseUp() {\r\n\t            isDragging = false;\r\n\t            window.removeEventListener('mousemove', mouseMove);\r\n\t            window.removeEventListener('touchmove', mouseMove);\r\n\t            window.removeEventListener('mouseup', mouseUp);\r\n\t            window.removeEventListener('touchend', mouseUp);\r\n\t            document.body.style[CSS_USERSELECT] = '';\r\n\t            _updateCenterPoint.call(self);\r\n\t            _triggerUpdate.call(self);\r\n\t            originalDistance = 0;\r\n\t        }\r\n\t\r\n\t        self.elements.overlay.addEventListener('mousedown', mouseDown);\r\n\t        self.elements.overlay.addEventListener('touchstart', mouseDown);\r\n\t    }\r\n\t\r\n\t    function _updateOverlay() {\r\n\t        var self = this,\r\n\t            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n\t            imgData = self.elements.preview.getBoundingClientRect();\r\n\t\r\n\t        css(self.elements.overlay, {\r\n\t            width: imgData.width + 'px',\r\n\t            height: imgData.height + 'px',\r\n\t            top: (imgData.top - boundRect.top) + 'px',\r\n\t            left: (imgData.left - boundRect.left) + 'px'\r\n\t        });\r\n\t    }\r\n\t    var _debouncedOverlay = debounce(_updateOverlay, 500);\r\n\t\r\n\t    function _triggerUpdate() {\r\n\t        var self = this;\r\n\t        if (_isVisible.call(self)) {\r\n\t            self.options.update.call(self, self.get());\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _isVisible() {\r\n\t        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0;\r\n\t    }\r\n\t\r\n\t    function _updatePropertiesFromImage() {\r\n\t        var self = this,\r\n\t            minZoom = 0,\r\n\t            maxZoom = 1.5,\r\n\t            initialZoom = 1,\r\n\t            cssReset = {},\r\n\t            img = self.elements.preview,\r\n\t            zoomer = self.elements.zoomer,\r\n\t            transformReset = new Transform(0, 0, initialZoom),\r\n\t            originReset = new TransformOrigin(),\r\n\t            isVisible = _isVisible.call(self),\r\n\t            imgData,\r\n\t            vpData,\r\n\t            boundaryData,\r\n\t            minW,\r\n\t            minH;\r\n\t\r\n\t        if (!isVisible || self.data.bound) {\r\n\t            // if the croppie isn't visible or it doesn't need binding\r\n\t            return;\r\n\t        }\r\n\t\r\n\t        self.data.bound = true;\r\n\t        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n\t        cssReset[CSS_TRANS_ORG] = originReset.toString();\r\n\t        cssReset['opacity'] = 1;\r\n\t        css(img, cssReset);\r\n\t\r\n\t        imgData = img.getBoundingClientRect();\r\n\t        vpData = self.elements.viewport.getBoundingClientRect();\r\n\t        boundaryData = self.elements.boundary.getBoundingClientRect();\r\n\t        self._originalImageWidth = imgData.width;\r\n\t        self._originalImageHeight = imgData.height;\r\n\t\r\n\t        if (self.options.enableZoom) {\r\n\t            if (self.options.enforceBoundary) {\r\n\t                minW = vpData.width / imgData.width;\r\n\t                minH = vpData.height / imgData.height;\r\n\t                minZoom = Math.max(minW, minH);\r\n\t            }\r\n\t\r\n\t            if (minZoom >= maxZoom) {\r\n\t                maxZoom = minZoom + 1;\r\n\t            }\r\n\t\r\n\t            zoomer.min = fix(minZoom, 4);\r\n\t            zoomer.max = fix(maxZoom, 4);\r\n\t            initialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height));\r\n\t            _setZoomerVal.call(self, initialZoom);\r\n\t            dispatchChange(zoomer);\r\n\t        }\r\n\t\r\n\t        self._currentZoom = transformReset.scale = initialZoom;\r\n\t        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n\t        css(img, cssReset);\r\n\t\r\n\t        if (self.data.points.length) {\r\n\t            _bindPoints.call(self, self.data.points);\r\n\t        }\r\n\t        else {\r\n\t            _centerImage.call(self);\r\n\t        }\r\n\t\r\n\t        _updateCenterPoint.call(self);\r\n\t        _updateOverlay.call(self);\r\n\t    }\r\n\t\r\n\t    function _bindPoints(points) {\r\n\t        if (points.length != 4) {\r\n\t            throw \"Croppie - Invalid number of points supplied: \" + points;\r\n\t        }\r\n\t        var self = this,\r\n\t            pointsWidth = points[2] - points[0],\r\n\t            // pointsHeight = points[3] - points[1],\r\n\t            vpData = self.elements.viewport.getBoundingClientRect(),\r\n\t            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n\t            vpOffset = {\r\n\t                left: vpData.left - boundRect.left,\r\n\t                top: vpData.top - boundRect.top\r\n\t            },\r\n\t            scale = vpData.width / pointsWidth,\r\n\t            originTop = points[1],\r\n\t            originLeft = points[0],\r\n\t            transformTop = (-1 * points[1]) + vpOffset.top,\r\n\t            transformLeft = (-1 * points[0]) + vpOffset.left,\r\n\t            newCss = {};\r\n\t\r\n\t        newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px';\r\n\t        newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString();\r\n\t        css(self.elements.preview, newCss);\r\n\t\r\n\t        _setZoomerVal.call(self, scale);\r\n\t        self._currentZoom = scale;\r\n\t    }\r\n\t\r\n\t    function _centerImage() {\r\n\t        var self = this,\r\n\t            imgDim = self.elements.preview.getBoundingClientRect(),\r\n\t            vpDim = self.elements.viewport.getBoundingClientRect(),\r\n\t            boundDim = self.elements.boundary.getBoundingClientRect(),\r\n\t            vpLeft = vpDim.left - boundDim.left,\r\n\t            vpTop = vpDim.top - boundDim.top,\r\n\t            w = vpLeft - ((imgDim.width - vpDim.width) / 2),\r\n\t            h = vpTop - ((imgDim.height - vpDim.height) / 2),\r\n\t            transform = new Transform(w, h, self._currentZoom);\r\n\t\r\n\t        css(self.elements.preview, CSS_TRANSFORM, transform.toString());\r\n\t    }\r\n\t\r\n\t    function _transferImageToCanvas(customOrientation) {\r\n\t        var self = this,\r\n\t            canvas = self.elements.canvas,\r\n\t            img = self.elements.img,\r\n\t            ctx = canvas.getContext('2d'),\r\n\t            exif = _hasExif.call(self),\r\n\t            customOrientation = self.options.enableOrientation && customOrientation;\r\n\t\r\n\t        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\t        canvas.width = img.width;\r\n\t        canvas.height = img.height;\r\n\t\r\n\t        if (exif) {\r\n\t            getExifOrientation(img, function (orientation) {\r\n\t                drawCanvas(canvas, img, parseInt(orientation));\r\n\t                if (customOrientation) {\r\n\t                    drawCanvas(canvas, img, customOrientation);\r\n\t                }\r\n\t            });\r\n\t        } else if (customOrientation) {\r\n\t            drawCanvas(canvas, img, customOrientation);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function _getHtmlResult(data) {\r\n\t        var points = data.points,\r\n\t            div = document.createElement('div'),\r\n\t            img = document.createElement('img'),\r\n\t            width = points[2] - points[0],\r\n\t            height = points[3] - points[1];\r\n\t\r\n\t        addClass(div, 'croppie-result');\r\n\t        div.appendChild(img);\r\n\t        css(img, {\r\n\t            left: (-1 * points[0]) + 'px',\r\n\t            top: (-1 * points[1]) + 'px'\r\n\t        });\r\n\t        img.src = data.url;\r\n\t        css(div, {\r\n\t            width: width + 'px',\r\n\t            height: height + 'px'\r\n\t        });\r\n\t\r\n\t        return div;\r\n\t    }\r\n\t\r\n\t    function _getCanvasResult(img, data) {\r\n\t        var points = data.points,\r\n\t            left = points[0],\r\n\t            top = points[1],\r\n\t            width = (points[2] - points[0]),\r\n\t            height = (points[3] - points[1]),\r\n\t            circle = data.circle,\r\n\t            canvas = document.createElement('canvas'),\r\n\t            ctx = canvas.getContext('2d'),\r\n\t            outWidth = width,\r\n\t            outHeight = height;\r\n\t\r\n\t        if (data.outputWidth && data.outputHeight) {\r\n\t            outWidth = data.outputWidth;\r\n\t            outHeight = data.outputHeight;\r\n\t        }\r\n\t\r\n\t        canvas.width = outWidth;\r\n\t        canvas.height = outHeight;\r\n\t\r\n\t        ctx.drawImage(img, left, top, width, height, 0, 0, outWidth, outHeight);\r\n\t        if (circle) {\r\n\t            ctx.fillStyle = '#fff';\r\n\t            ctx.globalCompositeOperation = 'destination-in';\r\n\t            ctx.beginPath();\r\n\t            ctx.arc(outWidth / 2, outHeight / 2, outWidth / 2, 0, Math.PI * 2, true);\r\n\t            ctx.closePath();\r\n\t            ctx.fill();\r\n\t        }\r\n\t        return canvas.toDataURL(data.format, data.quality);\r\n\t    }\r\n\t\r\n\t    function _bind(options, cb) {\r\n\t        var self = this,\r\n\t            url,\r\n\t            points = [];\r\n\t\r\n\t        if (typeof (options) === 'string') {\r\n\t            url = options;\r\n\t            options = {};\r\n\t        }\r\n\t        else if (Array.isArray(options)) {\r\n\t            points = options.slice();\r\n\t        }\r\n\t        else if (typeof (options) == 'undefined' && self.data.url) { //refreshing\r\n\t            _updatePropertiesFromImage.call(self);\r\n\t            _triggerUpdate.call(self);\r\n\t            return null;\r\n\t        }\r\n\t        else {\r\n\t            url = options.url;\r\n\t            points = options.points || [];\r\n\t        }\r\n\t\r\n\t        self.data.bound = false;\r\n\t        self.data.url = url || self.data.url;\r\n\t        self.data.points = (points || self.data.points).map(function (p) {\r\n\t            return parseFloat(p);\r\n\t        });\r\n\t        var prom = loadImage(url, self.elements.img);\r\n\t        prom.then(function () {\r\n\t            if (self.options.useCanvas) {\r\n\t                self.elements.img.exifdata = null;\r\n\t                _transferImageToCanvas.call(self, options.orientation || 1);\r\n\t            }\r\n\t            _updatePropertiesFromImage.call(self);\r\n\t            _triggerUpdate.call(self);\r\n\t            if (cb) {\r\n\t                cb();\r\n\t            }\r\n\t        });\r\n\t        return prom;\r\n\t    }\r\n\t\r\n\t    function fix(v, decimalPoints) {\r\n\t        return parseFloat(v).toFixed(decimalPoints || 0);\r\n\t    }\r\n\t\r\n\t    function _get() {\r\n\t        var self = this,\r\n\t            imgData = self.elements.preview.getBoundingClientRect(),\r\n\t            vpData = self.elements.viewport.getBoundingClientRect(),\r\n\t            x1 = vpData.left - imgData.left,\r\n\t            y1 = vpData.top - imgData.top,\r\n\t            x2 = x1 + vpData.width,\r\n\t            y2 = y1 + vpData.height,\r\n\t            scale = self._currentZoom;\r\n\t\r\n\t        if (scale === Infinity || isNaN(scale)) {\r\n\t            scale = 1;\r\n\t        }\r\n\t\r\n\t        var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;\r\n\t        x1 = Math.max(max, x1 / scale);\r\n\t        y1 = Math.max(max, y1 / scale);\r\n\t        x2 = Math.max(max, x2 / scale);\r\n\t        y2 = Math.max(max, y2 / scale);\r\n\t\r\n\t        return {\r\n\t            points: [fix(x1), fix(y1), fix(x2), fix(y2)],\r\n\t            zoom: scale\r\n\t        };\r\n\t    }\r\n\t\r\n\t    var RESULT_DEFAULTS = {\r\n\t            type: 'canvas', \r\n\t            format: 'png', \r\n\t            quality: 1\r\n\t        },\r\n\t        RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\t\r\n\t    function _result(options) {\r\n\t        var self = this,\r\n\t            data = _get.call(self),\r\n\t            opts = deepExtend(RESULT_DEFAULTS, deepExtend({}, options)),\r\n\t            type = (typeof (options) === 'string' ? options : (opts.type || 'viewport')),\r\n\t            size = opts.size,\r\n\t            format = opts.format,\r\n\t            quality = opts.quality,\r\n\t            vpRect = self.elements.viewport.getBoundingClientRect(),\r\n\t            ratio = vpRect.width / vpRect.height,\r\n\t            prom;\r\n\t\r\n\t        if (size === 'viewport') {\r\n\t            data.outputWidth = vpRect.width;\r\n\t            data.outputHeight = vpRect.height;\r\n\t        } else if (typeof size === 'object') {\r\n\t            if (size.width && size.height) {\r\n\t                data.outputWidth = size.width;\r\n\t                data.outputHeight = size.height;\r\n\t            } else if (size.width) {\r\n\t                data.outputWidth = size.width;\r\n\t                data.outputHeight = size.width / ratio;\r\n\t            } else if (size.height) {\r\n\t                data.outputWidth = size.height * ratio;\r\n\t                data.outputHeight = size.height;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        if (RESULT_FORMATS.indexOf(format) > -1) {\r\n\t            data.format = 'image/' + format;\r\n\t            data.quality = quality;\r\n\t        }\r\n\t\r\n\t        data.circle = self.options.viewport.type === 'circle';\r\n\t        data.url = self.data.url;\r\n\t\r\n\t        prom = new Promise(function (resolve, reject) {\r\n\t            if (type === 'canvas') {\r\n\t                resolve(_getCanvasResult.call(self, self.elements.preview, data));\r\n\t            }\r\n\t            else {\r\n\t                resolve(_getHtmlResult.call(self, data));\r\n\t            }\r\n\t        });\r\n\t        return prom;\r\n\t    }\r\n\t\r\n\t    function _refresh() {\r\n\t        _updatePropertiesFromImage.call(this);\r\n\t    }\r\n\t\r\n\t    function _rotate(deg) {\r\n\t        if (!this.options.useCanvas) {\r\n\t            throw 'Croppie: Cannot rotate without enableOrientation';\r\n\t        }\r\n\t\r\n\t        var self = this,\r\n\t            canvas = self.elements.canvas,\r\n\t            img = self.elements.img,\r\n\t            copy = document.createElement('canvas'),\r\n\t            ornt = 1;\r\n\t\r\n\t        copy.width = canvas.width;\r\n\t        copy.height = canvas.height;\r\n\t        var ctx = copy.getContext('2d');\r\n\t        ctx.drawImage(canvas, 0, 0);\r\n\t\r\n\t        if (deg === 90 || deg === -270) ornt = 6;\r\n\t        if (deg === -90 || deg === 270) ornt = 8;\r\n\t        if (deg === 180 || deg === -180) ornt = 3;\r\n\t\r\n\t        drawCanvas(canvas, copy, ornt);\r\n\t        _onZoom.call(self);\r\n\t    }\r\n\t\r\n\t    function _destroy() {\r\n\t        var self = this;\r\n\t        self.element.removeChild(self.elements.boundary);\r\n\t        removeClass(self.element, 'croppie-container');\r\n\t        if (self.options.enableZoom) {\r\n\t            self.element.removeChild(self.elements.zoomerWrap);\r\n\t        }\r\n\t        delete self.elements;\r\n\t    }\r\n\t\r\n\t    if (window.jQuery) {\r\n\t        var $ = window.jQuery;\r\n\t        $.fn.croppie = function (opts) {\r\n\t            var ot = typeof opts;\r\n\t\r\n\t            if (ot === 'string') {\r\n\t                var args = Array.prototype.slice.call(arguments, 1);\r\n\t                var singleInst = $(this).data('croppie');\r\n\t\r\n\t                if (opts === 'get') {\r\n\t                    return singleInst.get();\r\n\t                }\r\n\t                else if (opts === 'result') {\r\n\t                    return singleInst.result.apply(singleInst, args);\r\n\t                }\r\n\t\r\n\t                return this.each(function () {\r\n\t                    var i = $(this).data('croppie');\r\n\t                    if (!i) return;\r\n\t\r\n\t                    var method = i[opts];\r\n\t                    if ($.isFunction(method)) {\r\n\t                        method.apply(i, args);\r\n\t                        if (opts === 'destroy') {\r\n\t                            $(this).removeData('croppie');\r\n\t                        }\r\n\t                    }\r\n\t                    else {\r\n\t                        throw 'Croppie ' + opts + ' method not found';\r\n\t                    }\r\n\t                });\r\n\t            }\r\n\t            else {\r\n\t                return this.each(function () {\r\n\t                    var i = new Croppie(this, opts);\r\n\t                    $(this).data('croppie', i);\r\n\t                });\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function Croppie(element, opts) {\r\n\t        this.element = element;\r\n\t        this.options = deepExtend(deepExtend({}, Croppie.defaults), opts);\r\n\t\r\n\t        _create.call(this);\r\n\t        if (this.options.url) {\r\n\t            var bindOpts = {\r\n\t                url: this.options.url,\r\n\t                points: this.options.points\r\n\t            };\r\n\t            delete this.options['url'];\r\n\t            delete this.options['points'];\r\n\t            _bind.call(this, bindOpts);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    Croppie.defaults = {\r\n\t        viewport: {\r\n\t            width: 100,\r\n\t            height: 100,\r\n\t            type: 'square'\r\n\t        },\r\n\t        boundary: {\r\n\t            width: 300,\r\n\t            height: 300\r\n\t        },\r\n\t        orientationControls: {\r\n\t            enabled: true,\r\n\t            leftClass: '',\r\n\t            rightClass: ''\r\n\t        },\r\n\t        customClass: '',\r\n\t        showZoomer: true,\r\n\t        enableZoom: true,\r\n\t        mouseWheelZoom: true,\r\n\t        enableExif: false,\r\n\t        enforceBoundary: true,\r\n\t        enableOrientation: false,\r\n\t        update: function () { }\r\n\t    };\r\n\t\r\n\t    deepExtend(Croppie.prototype, {\r\n\t        bind: function (options, cb) {\r\n\t            return _bind.call(this, options, cb);\r\n\t        },\r\n\t        get: function () {\r\n\t            return _get.call(this);\r\n\t        },\r\n\t        result: function (type) {\r\n\t            return _result.call(this, type);\r\n\t        },\r\n\t        refresh: function () {\r\n\t            return _refresh.call(this);\r\n\t        },\r\n\t        setZoom: function (v) {\r\n\t            _setZoomerVal.call(this, v);\r\n\t            dispatchChange(this.elements.zoomer);\r\n\t        },\r\n\t        rotate: function (deg) {\r\n\t            _rotate.call(this, deg);\r\n\t        },\r\n\t        destroy: function () {\r\n\t            return _destroy.call(this);\r\n\t        }\r\n\t    });\r\n\t\r\n\t    exports.Croppie = window.Croppie = Croppie;\r\n\t\r\n\t    if (typeof module === 'object' && !!module.exports) {\r\n\t        module.exports = Croppie;    \r\n\t    }\r\n\t}));\r\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate, __webpack_require__(8)))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(7).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate, __webpack_require__(6).clearImmediate))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function() {\n\t\n\t    var debug = false;\n\t\n\t    var root = this;\n\t\n\t    var EXIF = function(obj) {\n\t        if (obj instanceof EXIF) return obj;\n\t        if (!(this instanceof EXIF)) return new EXIF(obj);\n\t        this.EXIFwrapped = obj;\n\t    };\n\t\n\t    if (true) {\n\t        if (typeof module !== 'undefined' && module.exports) {\n\t            exports = module.exports = EXIF;\n\t        }\n\t        exports.EXIF = EXIF;\n\t    } else {\n\t        root.EXIF = EXIF;\n\t    }\n\t\n\t    var ExifTags = EXIF.Tags = {\n\t\n\t        // version tags\n\t        0x9000 : \"ExifVersion\",             // EXIF version\n\t        0xA000 : \"FlashpixVersion\",         // Flashpix format version\n\t\n\t        // colorspace tags\n\t        0xA001 : \"ColorSpace\",              // Color space information tag\n\t\n\t        // image configuration\n\t        0xA002 : \"PixelXDimension\",         // Valid width of meaningful image\n\t        0xA003 : \"PixelYDimension\",         // Valid height of meaningful image\n\t        0x9101 : \"ComponentsConfiguration\", // Information about channels\n\t        0x9102 : \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\t\n\t        // user information\n\t        0x927C : \"MakerNote\",               // Any desired information written by the manufacturer\n\t        0x9286 : \"UserComment\",             // Comments by user\n\t\n\t        // related file\n\t        0xA004 : \"RelatedSoundFile\",        // Name of related sound file\n\t\n\t        // date and time\n\t        0x9003 : \"DateTimeOriginal\",        // Date and time when the original image was generated\n\t        0x9004 : \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n\t        0x9290 : \"SubsecTime\",              // Fractions of seconds for DateTime\n\t        0x9291 : \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n\t        0x9292 : \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\t\n\t        // picture-taking conditions\n\t        0x829A : \"ExposureTime\",            // Exposure time (in seconds)\n\t        0x829D : \"FNumber\",                 // F number\n\t        0x8822 : \"ExposureProgram\",         // Exposure program\n\t        0x8824 : \"SpectralSensitivity\",     // Spectral sensitivity\n\t        0x8827 : \"ISOSpeedRatings\",         // ISO speed rating\n\t        0x8828 : \"OECF\",                    // Optoelectric conversion factor\n\t        0x9201 : \"ShutterSpeedValue\",       // Shutter speed\n\t        0x9202 : \"ApertureValue\",           // Lens aperture\n\t        0x9203 : \"BrightnessValue\",         // Value of brightness\n\t        0x9204 : \"ExposureBias\",            // Exposure bias\n\t        0x9205 : \"MaxApertureValue\",        // Smallest F number of lens\n\t        0x9206 : \"SubjectDistance\",         // Distance to subject in meters\n\t        0x9207 : \"MeteringMode\",            // Metering mode\n\t        0x9208 : \"LightSource\",             // Kind of light source\n\t        0x9209 : \"Flash\",                   // Flash status\n\t        0x9214 : \"SubjectArea\",             // Location and area of main subject\n\t        0x920A : \"FocalLength\",             // Focal length of the lens in mm\n\t        0xA20B : \"FlashEnergy\",             // Strobe energy in BCPS\n\t        0xA20C : \"SpatialFrequencyResponse\",    //\n\t        0xA20E : \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n\t        0xA20F : \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n\t        0xA210 : \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n\t        0xA214 : \"SubjectLocation\",         // Location of subject in image\n\t        0xA215 : \"ExposureIndex\",           // Exposure index selected on camera\n\t        0xA217 : \"SensingMethod\",           // Image sensor type\n\t        0xA300 : \"FileSource\",              // Image source (3 == DSC)\n\t        0xA301 : \"SceneType\",               // Scene type (1 == directly photographed)\n\t        0xA302 : \"CFAPattern\",              // Color filter array geometric pattern\n\t        0xA401 : \"CustomRendered\",          // Special processing\n\t        0xA402 : \"ExposureMode\",            // Exposure mode\n\t        0xA403 : \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n\t        0xA404 : \"DigitalZoomRation\",       // Digital zoom ratio\n\t        0xA405 : \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n\t        0xA406 : \"SceneCaptureType\",        // Type of scene\n\t        0xA407 : \"GainControl\",             // Degree of overall image gain adjustment\n\t        0xA408 : \"Contrast\",                // Direction of contrast processing applied by camera\n\t        0xA409 : \"Saturation\",              // Direction of saturation processing applied by camera\n\t        0xA40A : \"Sharpness\",               // Direction of sharpness processing applied by camera\n\t        0xA40B : \"DeviceSettingDescription\",    //\n\t        0xA40C : \"SubjectDistanceRange\",    // Distance to subject\n\t\n\t        // other tags\n\t        0xA005 : \"InteroperabilityIFDPointer\",\n\t        0xA420 : \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n\t    };\n\t\n\t    var TiffTags = EXIF.TiffTags = {\n\t        0x0100 : \"ImageWidth\",\n\t        0x0101 : \"ImageHeight\",\n\t        0x8769 : \"ExifIFDPointer\",\n\t        0x8825 : \"GPSInfoIFDPointer\",\n\t        0xA005 : \"InteroperabilityIFDPointer\",\n\t        0x0102 : \"BitsPerSample\",\n\t        0x0103 : \"Compression\",\n\t        0x0106 : \"PhotometricInterpretation\",\n\t        0x0112 : \"Orientation\",\n\t        0x0115 : \"SamplesPerPixel\",\n\t        0x011C : \"PlanarConfiguration\",\n\t        0x0212 : \"YCbCrSubSampling\",\n\t        0x0213 : \"YCbCrPositioning\",\n\t        0x011A : \"XResolution\",\n\t        0x011B : \"YResolution\",\n\t        0x0128 : \"ResolutionUnit\",\n\t        0x0111 : \"StripOffsets\",\n\t        0x0116 : \"RowsPerStrip\",\n\t        0x0117 : \"StripByteCounts\",\n\t        0x0201 : \"JPEGInterchangeFormat\",\n\t        0x0202 : \"JPEGInterchangeFormatLength\",\n\t        0x012D : \"TransferFunction\",\n\t        0x013E : \"WhitePoint\",\n\t        0x013F : \"PrimaryChromaticities\",\n\t        0x0211 : \"YCbCrCoefficients\",\n\t        0x0214 : \"ReferenceBlackWhite\",\n\t        0x0132 : \"DateTime\",\n\t        0x010E : \"ImageDescription\",\n\t        0x010F : \"Make\",\n\t        0x0110 : \"Model\",\n\t        0x0131 : \"Software\",\n\t        0x013B : \"Artist\",\n\t        0x8298 : \"Copyright\"\n\t    };\n\t\n\t    var GPSTags = EXIF.GPSTags = {\n\t        0x0000 : \"GPSVersionID\",\n\t        0x0001 : \"GPSLatitudeRef\",\n\t        0x0002 : \"GPSLatitude\",\n\t        0x0003 : \"GPSLongitudeRef\",\n\t        0x0004 : \"GPSLongitude\",\n\t        0x0005 : \"GPSAltitudeRef\",\n\t        0x0006 : \"GPSAltitude\",\n\t        0x0007 : \"GPSTimeStamp\",\n\t        0x0008 : \"GPSSatellites\",\n\t        0x0009 : \"GPSStatus\",\n\t        0x000A : \"GPSMeasureMode\",\n\t        0x000B : \"GPSDOP\",\n\t        0x000C : \"GPSSpeedRef\",\n\t        0x000D : \"GPSSpeed\",\n\t        0x000E : \"GPSTrackRef\",\n\t        0x000F : \"GPSTrack\",\n\t        0x0010 : \"GPSImgDirectionRef\",\n\t        0x0011 : \"GPSImgDirection\",\n\t        0x0012 : \"GPSMapDatum\",\n\t        0x0013 : \"GPSDestLatitudeRef\",\n\t        0x0014 : \"GPSDestLatitude\",\n\t        0x0015 : \"GPSDestLongitudeRef\",\n\t        0x0016 : \"GPSDestLongitude\",\n\t        0x0017 : \"GPSDestBearingRef\",\n\t        0x0018 : \"GPSDestBearing\",\n\t        0x0019 : \"GPSDestDistanceRef\",\n\t        0x001A : \"GPSDestDistance\",\n\t        0x001B : \"GPSProcessingMethod\",\n\t        0x001C : \"GPSAreaInformation\",\n\t        0x001D : \"GPSDateStamp\",\n\t        0x001E : \"GPSDifferential\"\n\t    };\n\t\n\t    var StringValues = EXIF.StringValues = {\n\t        ExposureProgram : {\n\t            0 : \"Not defined\",\n\t            1 : \"Manual\",\n\t            2 : \"Normal program\",\n\t            3 : \"Aperture priority\",\n\t            4 : \"Shutter priority\",\n\t            5 : \"Creative program\",\n\t            6 : \"Action program\",\n\t            7 : \"Portrait mode\",\n\t            8 : \"Landscape mode\"\n\t        },\n\t        MeteringMode : {\n\t            0 : \"Unknown\",\n\t            1 : \"Average\",\n\t            2 : \"CenterWeightedAverage\",\n\t            3 : \"Spot\",\n\t            4 : \"MultiSpot\",\n\t            5 : \"Pattern\",\n\t            6 : \"Partial\",\n\t            255 : \"Other\"\n\t        },\n\t        LightSource : {\n\t            0 : \"Unknown\",\n\t            1 : \"Daylight\",\n\t            2 : \"Fluorescent\",\n\t            3 : \"Tungsten (incandescent light)\",\n\t            4 : \"Flash\",\n\t            9 : \"Fine weather\",\n\t            10 : \"Cloudy weather\",\n\t            11 : \"Shade\",\n\t            12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n\t            13 : \"Day white fluorescent (N 4600 - 5400K)\",\n\t            14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n\t            15 : \"White fluorescent (WW 3200 - 3700K)\",\n\t            17 : \"Standard light A\",\n\t            18 : \"Standard light B\",\n\t            19 : \"Standard light C\",\n\t            20 : \"D55\",\n\t            21 : \"D65\",\n\t            22 : \"D75\",\n\t            23 : \"D50\",\n\t            24 : \"ISO studio tungsten\",\n\t            255 : \"Other\"\n\t        },\n\t        Flash : {\n\t            0x0000 : \"Flash did not fire\",\n\t            0x0001 : \"Flash fired\",\n\t            0x0005 : \"Strobe return light not detected\",\n\t            0x0007 : \"Strobe return light detected\",\n\t            0x0009 : \"Flash fired, compulsory flash mode\",\n\t            0x000D : \"Flash fired, compulsory flash mode, return light not detected\",\n\t            0x000F : \"Flash fired, compulsory flash mode, return light detected\",\n\t            0x0010 : \"Flash did not fire, compulsory flash mode\",\n\t            0x0018 : \"Flash did not fire, auto mode\",\n\t            0x0019 : \"Flash fired, auto mode\",\n\t            0x001D : \"Flash fired, auto mode, return light not detected\",\n\t            0x001F : \"Flash fired, auto mode, return light detected\",\n\t            0x0020 : \"No flash function\",\n\t            0x0041 : \"Flash fired, red-eye reduction mode\",\n\t            0x0045 : \"Flash fired, red-eye reduction mode, return light not detected\",\n\t            0x0047 : \"Flash fired, red-eye reduction mode, return light detected\",\n\t            0x0049 : \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n\t            0x004D : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n\t            0x004F : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n\t            0x0059 : \"Flash fired, auto mode, red-eye reduction mode\",\n\t            0x005D : \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n\t            0x005F : \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n\t        },\n\t        SensingMethod : {\n\t            1 : \"Not defined\",\n\t            2 : \"One-chip color area sensor\",\n\t            3 : \"Two-chip color area sensor\",\n\t            4 : \"Three-chip color area sensor\",\n\t            5 : \"Color sequential area sensor\",\n\t            7 : \"Trilinear sensor\",\n\t            8 : \"Color sequential linear sensor\"\n\t        },\n\t        SceneCaptureType : {\n\t            0 : \"Standard\",\n\t            1 : \"Landscape\",\n\t            2 : \"Portrait\",\n\t            3 : \"Night scene\"\n\t        },\n\t        SceneType : {\n\t            1 : \"Directly photographed\"\n\t        },\n\t        CustomRendered : {\n\t            0 : \"Normal process\",\n\t            1 : \"Custom process\"\n\t        },\n\t        WhiteBalance : {\n\t            0 : \"Auto white balance\",\n\t            1 : \"Manual white balance\"\n\t        },\n\t        GainControl : {\n\t            0 : \"None\",\n\t            1 : \"Low gain up\",\n\t            2 : \"High gain up\",\n\t            3 : \"Low gain down\",\n\t            4 : \"High gain down\"\n\t        },\n\t        Contrast : {\n\t            0 : \"Normal\",\n\t            1 : \"Soft\",\n\t            2 : \"Hard\"\n\t        },\n\t        Saturation : {\n\t            0 : \"Normal\",\n\t            1 : \"Low saturation\",\n\t            2 : \"High saturation\"\n\t        },\n\t        Sharpness : {\n\t            0 : \"Normal\",\n\t            1 : \"Soft\",\n\t            2 : \"Hard\"\n\t        },\n\t        SubjectDistanceRange : {\n\t            0 : \"Unknown\",\n\t            1 : \"Macro\",\n\t            2 : \"Close view\",\n\t            3 : \"Distant view\"\n\t        },\n\t        FileSource : {\n\t            3 : \"DSC\"\n\t        },\n\t\n\t        Components : {\n\t            0 : \"\",\n\t            1 : \"Y\",\n\t            2 : \"Cb\",\n\t            3 : \"Cr\",\n\t            4 : \"R\",\n\t            5 : \"G\",\n\t            6 : \"B\"\n\t        }\n\t    };\n\t\n\t    function addEvent(element, event, handler) {\n\t        if (element.addEventListener) {\n\t            element.addEventListener(event, handler, false);\n\t        } else if (element.attachEvent) {\n\t            element.attachEvent(\"on\" + event, handler);\n\t        }\n\t    }\n\t\n\t    function imageHasData(img) {\n\t        return !!(img.exifdata);\n\t    }\n\t\n\t\n\t    function base64ToArrayBuffer(base64, contentType) {\n\t        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n\t        base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n\t        var binary = atob(base64);\n\t        var len = binary.length;\n\t        var buffer = new ArrayBuffer(len);\n\t        var view = new Uint8Array(buffer);\n\t        for (var i = 0; i < len; i++) {\n\t            view[i] = binary.charCodeAt(i);\n\t        }\n\t        return buffer;\n\t    }\n\t\n\t    function objectURLToBlob(url, callback) {\n\t        var http = new XMLHttpRequest();\n\t        http.open(\"GET\", url, true);\n\t        http.responseType = \"blob\";\n\t        http.onload = function(e) {\n\t            if (this.status == 200 || this.status === 0) {\n\t                callback(this.response);\n\t            }\n\t        };\n\t        http.send();\n\t    }\n\t\n\t    function getImageData(img, callback) {\n\t        function handleBinaryFile(binFile) {\n\t            var data = findEXIFinJPEG(binFile);\n\t            var iptcdata = findIPTCinJPEG(binFile);\n\t            img.exifdata = data || {};\n\t            img.iptcdata = iptcdata || {};\n\t            if (callback) {\n\t                callback.call(img);\n\t            }\n\t        }\n\t\n\t        if (img.src) {\n\t            if (/^data\\:/i.test(img.src)) { // Data URI\n\t                var arrayBuffer = base64ToArrayBuffer(img.src);\n\t                handleBinaryFile(arrayBuffer);\n\t\n\t            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n\t                var fileReader = new FileReader();\n\t                fileReader.onload = function(e) {\n\t                    handleBinaryFile(e.target.result);\n\t                };\n\t                objectURLToBlob(img.src, function (blob) {\n\t                    fileReader.readAsArrayBuffer(blob);\n\t                });\n\t            } else {\n\t                var http = new XMLHttpRequest();\n\t                http.onload = function() {\n\t                    if (this.status == 200 || this.status === 0) {\n\t                        handleBinaryFile(http.response);\n\t                    } else {\n\t                        throw \"Could not load image\";\n\t                    }\n\t                    http = null;\n\t                };\n\t                http.open(\"GET\", img.src, true);\n\t                http.responseType = \"arraybuffer\";\n\t                http.send(null);\n\t            }\n\t        } else if (window.FileReader && (img instanceof window.Blob || img instanceof window.File)) {\n\t            var fileReader = new FileReader();\n\t            fileReader.onload = function(e) {\n\t                if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n\t                handleBinaryFile(e.target.result);\n\t            };\n\t\n\t            fileReader.readAsArrayBuffer(img);\n\t        }\n\t    }\n\t\n\t    function findEXIFinJPEG(file) {\n\t        var dataView = new DataView(file);\n\t\n\t        if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t            if (debug) console.log(\"Not a valid JPEG\");\n\t            return false; // not a valid jpeg\n\t        }\n\t\n\t        var offset = 2,\n\t            length = file.byteLength,\n\t            marker;\n\t\n\t        while (offset < length) {\n\t            if (dataView.getUint8(offset) != 0xFF) {\n\t                if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n\t                return false; // not a valid marker, something is wrong\n\t            }\n\t\n\t            marker = dataView.getUint8(offset + 1);\n\t            if (debug) console.log(marker);\n\t\n\t            // we could implement handling for other markers here,\n\t            // but we're only looking for 0xFFE1 for EXIF data\n\t\n\t            if (marker == 225) {\n\t                if (debug) console.log(\"Found 0xFFE1 marker\");\n\t\n\t                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\t\n\t                // offset += 2 + file.getShortAt(offset+2, true);\n\t\n\t            } else {\n\t                offset += 2 + dataView.getUint16(offset+2);\n\t            }\n\t\n\t        }\n\t\n\t    }\n\t\n\t    function findIPTCinJPEG(file) {\n\t        var dataView = new DataView(file);\n\t\n\t        if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t            if (debug) console.log(\"Not a valid JPEG\");\n\t            return false; // not a valid jpeg\n\t        }\n\t\n\t        var offset = 2,\n\t            length = file.byteLength;\n\t\n\t\n\t        var isFieldSegmentStart = function(dataView, offset){\n\t            return (\n\t                dataView.getUint8(offset) === 0x38 &&\n\t                dataView.getUint8(offset+1) === 0x42 &&\n\t                dataView.getUint8(offset+2) === 0x49 &&\n\t                dataView.getUint8(offset+3) === 0x4D &&\n\t                dataView.getUint8(offset+4) === 0x04 &&\n\t                dataView.getUint8(offset+5) === 0x04\n\t            );\n\t        };\n\t\n\t        while (offset < length) {\n\t\n\t            if ( isFieldSegmentStart(dataView, offset )){\n\t\n\t                // Get the length of the name header (which is padded to an even number of bytes)\n\t                var nameHeaderLength = dataView.getUint8(offset+7);\n\t                if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n\t                // Check for pre photoshop 6 format\n\t                if(nameHeaderLength === 0) {\n\t                    // Always 4\n\t                    nameHeaderLength = 4;\n\t                }\n\t\n\t                var startOffset = offset + 8 + nameHeaderLength;\n\t                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\t\n\t                return readIPTCData(file, startOffset, sectionLength);\n\t\n\t                break;\n\t\n\t            }\n\t\n\t\n\t            // Not the marker, continue searching\n\t            offset++;\n\t\n\t        }\n\t\n\t    }\n\t    var IptcFieldMap = {\n\t        0x78 : 'caption',\n\t        0x6E : 'credit',\n\t        0x19 : 'keywords',\n\t        0x37 : 'dateCreated',\n\t        0x50 : 'byline',\n\t        0x55 : 'bylineTitle',\n\t        0x7A : 'captionWriter',\n\t        0x69 : 'headline',\n\t        0x74 : 'copyright',\n\t        0x0F : 'category'\n\t    };\n\t    function readIPTCData(file, startOffset, sectionLength){\n\t        var dataView = new DataView(file);\n\t        var data = {};\n\t        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n\t        var segmentStartPos = startOffset;\n\t        while(segmentStartPos < startOffset+sectionLength) {\n\t            if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n\t                segmentType = dataView.getUint8(segmentStartPos+2);\n\t                if(segmentType in IptcFieldMap) {\n\t                    dataSize = dataView.getInt16(segmentStartPos+3);\n\t                    segmentSize = dataSize + 5;\n\t                    fieldName = IptcFieldMap[segmentType];\n\t                    fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n\t                    // Check if we already stored a value with this name\n\t                    if(data.hasOwnProperty(fieldName)) {\n\t                        // Value already stored with this name, create multivalue field\n\t                        if(data[fieldName] instanceof Array) {\n\t                            data[fieldName].push(fieldValue);\n\t                        }\n\t                        else {\n\t                            data[fieldName] = [data[fieldName], fieldValue];\n\t                        }\n\t                    }\n\t                    else {\n\t                        data[fieldName] = fieldValue;\n\t                    }\n\t                }\n\t\n\t            }\n\t            segmentStartPos++;\n\t        }\n\t        return data;\n\t    }\n\t\n\t\n\t\n\t    function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n\t        var entries = file.getUint16(dirStart, !bigEnd),\n\t            tags = {},\n\t            entryOffset, tag,\n\t            i;\n\t\n\t        for (i=0;i<entries;i++) {\n\t            entryOffset = dirStart + i*12 + 2;\n\t            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n\t            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n\t            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n\t        }\n\t        return tags;\n\t    }\n\t\n\t\n\t    function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n\t        var type = file.getUint16(entryOffset+2, !bigEnd),\n\t            numValues = file.getUint32(entryOffset+4, !bigEnd),\n\t            valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n\t            offset,\n\t            vals, val, n,\n\t            numerator, denominator;\n\t\n\t        switch (type) {\n\t            case 1: // byte, 8-bit unsigned int\n\t            case 7: // undefined, 8-bit byte, value depending on field\n\t                if (numValues == 1) {\n\t                    return file.getUint8(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n\t                    vals = [];\n\t                    for (n=0;n<numValues;n++) {\n\t                        vals[n] = file.getUint8(offset + n);\n\t                    }\n\t                    return vals;\n\t                }\n\t\n\t            case 2: // ascii, 8-bit byte\n\t                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n\t                return getStringFromDB(file, offset, numValues-1);\n\t\n\t            case 3: // short, 16 bit int\n\t                if (numValues == 1) {\n\t                    return file.getUint16(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n\t                    vals = [];\n\t                    for (n=0;n<numValues;n++) {\n\t                        vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\t\n\t            case 4: // long, 32 bit int\n\t                if (numValues == 1) {\n\t                    return file.getUint32(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    vals = [];\n\t                    for (n=0;n<numValues;n++) {\n\t                        vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\t\n\t            case 5:    // rational = two long values, first is numerator, second is denominator\n\t                if (numValues == 1) {\n\t                    numerator = file.getUint32(valueOffset, !bigEnd);\n\t                    denominator = file.getUint32(valueOffset+4, !bigEnd);\n\t                    val = new Number(numerator / denominator);\n\t                    val.numerator = numerator;\n\t                    val.denominator = denominator;\n\t                    return val;\n\t                } else {\n\t                    vals = [];\n\t                    for (n=0;n<numValues;n++) {\n\t                        numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n\t                        denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n\t                        vals[n] = new Number(numerator / denominator);\n\t                        vals[n].numerator = numerator;\n\t                        vals[n].denominator = denominator;\n\t                    }\n\t                    return vals;\n\t                }\n\t\n\t            case 9: // slong, 32 bit signed int\n\t                if (numValues == 1) {\n\t                    return file.getInt32(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    vals = [];\n\t                    for (n=0;n<numValues;n++) {\n\t                        vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\t\n\t            case 10: // signed rational, two slongs, first is numerator, second is denominator\n\t                if (numValues == 1) {\n\t                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n\t                } else {\n\t                    vals = [];\n\t                    for (n=0;n<numValues;n++) {\n\t                        vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\t        }\n\t    }\n\t\n\t    function getStringFromDB(buffer, start, length) {\n\t        var outstr = \"\";\n\t        for (n = start; n < start+length; n++) {\n\t            outstr += String.fromCharCode(buffer.getUint8(n));\n\t        }\n\t        return outstr;\n\t    }\n\t\n\t    function readEXIFData(file, start) {\n\t        if (getStringFromDB(file, start, 4) != \"Exif\") {\n\t            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n\t            return false;\n\t        }\n\t\n\t        var bigEnd,\n\t            tags, tag,\n\t            exifData, gpsData,\n\t            tiffOffset = start + 6;\n\t\n\t        // test for TIFF validity and endianness\n\t        if (file.getUint16(tiffOffset) == 0x4949) {\n\t            bigEnd = false;\n\t        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n\t            bigEnd = true;\n\t        } else {\n\t            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n\t            return false;\n\t        }\n\t\n\t        if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n\t            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n\t            return false;\n\t        }\n\t\n\t        var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\t\n\t        if (firstIFDOffset < 0x00000008) {\n\t            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset+4, !bigEnd));\n\t            return false;\n\t        }\n\t\n\t        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\t\n\t        if (tags.ExifIFDPointer) {\n\t            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n\t            for (tag in exifData) {\n\t                switch (tag) {\n\t                    case \"LightSource\" :\n\t                    case \"Flash\" :\n\t                    case \"MeteringMode\" :\n\t                    case \"ExposureProgram\" :\n\t                    case \"SensingMethod\" :\n\t                    case \"SceneCaptureType\" :\n\t                    case \"SceneType\" :\n\t                    case \"CustomRendered\" :\n\t                    case \"WhiteBalance\" :\n\t                    case \"GainControl\" :\n\t                    case \"Contrast\" :\n\t                    case \"Saturation\" :\n\t                    case \"Sharpness\" :\n\t                    case \"SubjectDistanceRange\" :\n\t                    case \"FileSource\" :\n\t                        exifData[tag] = StringValues[tag][exifData[tag]];\n\t                        break;\n\t\n\t                    case \"ExifVersion\" :\n\t                    case \"FlashpixVersion\" :\n\t                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n\t                        break;\n\t\n\t                    case \"ComponentsConfiguration\" :\n\t                        exifData[tag] =\n\t                            StringValues.Components[exifData[tag][0]] +\n\t                            StringValues.Components[exifData[tag][1]] +\n\t                            StringValues.Components[exifData[tag][2]] +\n\t                            StringValues.Components[exifData[tag][3]];\n\t                        break;\n\t                }\n\t                tags[tag] = exifData[tag];\n\t            }\n\t        }\n\t\n\t        if (tags.GPSInfoIFDPointer) {\n\t            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n\t            for (tag in gpsData) {\n\t                switch (tag) {\n\t                    case \"GPSVersionID\" :\n\t                        gpsData[tag] = gpsData[tag][0] +\n\t                            \".\" + gpsData[tag][1] +\n\t                            \".\" + gpsData[tag][2] +\n\t                            \".\" + gpsData[tag][3];\n\t                        break;\n\t                }\n\t                tags[tag] = gpsData[tag];\n\t            }\n\t        }\n\t\n\t        return tags;\n\t    }\n\t\n\t    EXIF.getData = function(img, callback) {\n\t        if ((img instanceof Image || img instanceof HTMLImageElement) && !img.complete) return false;\n\t\n\t        if (!imageHasData(img)) {\n\t            getImageData(img, callback);\n\t        } else {\n\t            if (callback) {\n\t                callback.call(img);\n\t            }\n\t        }\n\t        return true;\n\t    }\n\t\n\t    EXIF.getTag = function(img, tag) {\n\t        if (!imageHasData(img)) return;\n\t        return img.exifdata[tag];\n\t    }\n\t\n\t    EXIF.getAllTags = function(img) {\n\t        if (!imageHasData(img)) return {};\n\t        var a,\n\t            data = img.exifdata,\n\t            tags = {};\n\t        for (a in data) {\n\t            if (data.hasOwnProperty(a)) {\n\t                tags[a] = data[a];\n\t            }\n\t        }\n\t        return tags;\n\t    }\n\t\n\t    EXIF.pretty = function(img) {\n\t        if (!imageHasData(img)) return \"\";\n\t        var a,\n\t            data = img.exifdata,\n\t            strPretty = \"\";\n\t        for (a in data) {\n\t            if (data.hasOwnProperty(a)) {\n\t                if (typeof data[a] == \"object\") {\n\t                    if (data[a] instanceof Number) {\n\t                        strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n\t                    } else {\n\t                        strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n\t                    }\n\t                } else {\n\t                    strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n\t                }\n\t            }\n\t        }\n\t        return strPretty;\n\t    }\n\t\n\t    EXIF.readFromBinaryFile = function(file) {\n\t        return findEXIFinJPEG(file);\n\t    }\n\t\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t            return EXIF;\n\t        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t}.call(this));\n\t\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar jade = __webpack_require__(10);\n\t\n\tmodule.exports = function template(locals) {\n\tvar buf = [];\n\tvar jade_mixins = {};\n\tvar jade_interp;\n\t\n\tbuf.push(\"<div class=\\\"cropper\\\"></div><div layout=\\\"row\\\" layout-align=\\\"end\\\"><md-button ng-click=\\\"$ctrl.onCancel()\\\" class=\\\"md-primary\\\">abbrechen</md-button><span flex></span><md-button ng-click=\\\"$ctrl.saveCrop()\\\" class=\\\"md-accent\\\">anwenden</md-button></div>\");;return buf.join(\"\");\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\n\t * Merge two attribute objects giving precedence\n\t * to values in object `b`. Classes are special-cased\n\t * allowing for arrays and merging/joining appropriately\n\t * resulting in a string.\n\t *\n\t * @param {Object} a\n\t * @param {Object} b\n\t * @return {Object} a\n\t * @api private\n\t */\n\t\n\texports.merge = function merge(a, b) {\n\t  if (arguments.length === 1) {\n\t    var attrs = a[0];\n\t    for (var i = 1; i < a.length; i++) {\n\t      attrs = merge(attrs, a[i]);\n\t    }\n\t    return attrs;\n\t  }\n\t  var ac = a['class'];\n\t  var bc = b['class'];\n\t\n\t  if (ac || bc) {\n\t    ac = ac || [];\n\t    bc = bc || [];\n\t    if (!Array.isArray(ac)) ac = [ac];\n\t    if (!Array.isArray(bc)) bc = [bc];\n\t    a['class'] = ac.concat(bc).filter(nulls);\n\t  }\n\t\n\t  for (var key in b) {\n\t    if (key != 'class') {\n\t      a[key] = b[key];\n\t    }\n\t  }\n\t\n\t  return a;\n\t};\n\t\n\t/**\n\t * Filter null `val`s.\n\t *\n\t * @param {*} val\n\t * @return {Boolean}\n\t * @api private\n\t */\n\t\n\tfunction nulls(val) {\n\t  return val != null && val !== '';\n\t}\n\t\n\t/**\n\t * join array as classes.\n\t *\n\t * @param {*} val\n\t * @return {String}\n\t */\n\texports.joinClasses = joinClasses;\n\tfunction joinClasses(val) {\n\t  return (Array.isArray(val) ? val.map(joinClasses) :\n\t    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n\t    [val]).filter(nulls).join(' ');\n\t}\n\t\n\t/**\n\t * Render the given classes.\n\t *\n\t * @param {Array} classes\n\t * @param {Array.<Boolean>} escaped\n\t * @return {String}\n\t */\n\texports.cls = function cls(classes, escaped) {\n\t  var buf = [];\n\t  for (var i = 0; i < classes.length; i++) {\n\t    if (escaped && escaped[i]) {\n\t      buf.push(exports.escape(joinClasses([classes[i]])));\n\t    } else {\n\t      buf.push(joinClasses(classes[i]));\n\t    }\n\t  }\n\t  var text = joinClasses(buf);\n\t  if (text.length) {\n\t    return ' class=\"' + text + '\"';\n\t  } else {\n\t    return '';\n\t  }\n\t};\n\t\n\t\n\texports.style = function (val) {\n\t  if (val && typeof val === 'object') {\n\t    return Object.keys(val).map(function (style) {\n\t      return style + ':' + val[style];\n\t    }).join(';');\n\t  } else {\n\t    return val;\n\t  }\n\t};\n\t/**\n\t * Render the given attribute.\n\t *\n\t * @param {String} key\n\t * @param {String} val\n\t * @param {Boolean} escaped\n\t * @param {Boolean} terse\n\t * @return {String}\n\t */\n\texports.attr = function attr(key, val, escaped, terse) {\n\t  if (key === 'style') {\n\t    val = exports.style(val);\n\t  }\n\t  if ('boolean' == typeof val || null == val) {\n\t    if (val) {\n\t      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n\t    } else {\n\t      return '';\n\t    }\n\t  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n\t    if (JSON.stringify(val).indexOf('&') !== -1) {\n\t      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n\t                   'will be escaped to `&amp;`');\n\t    };\n\t    if (val && typeof val.toISOString === 'function') {\n\t      console.warn('Jade will eliminate the double quotes around dates in ' +\n\t                   'ISO form after 2.0.0');\n\t    }\n\t    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n\t  } else if (escaped) {\n\t    if (val && typeof val.toISOString === 'function') {\n\t      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n\t    }\n\t    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n\t  } else {\n\t    if (val && typeof val.toISOString === 'function') {\n\t      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n\t    }\n\t    return ' ' + key + '=\"' + val + '\"';\n\t  }\n\t};\n\t\n\t/**\n\t * Render the given attributes object.\n\t *\n\t * @param {Object} obj\n\t * @param {Object} escaped\n\t * @return {String}\n\t */\n\texports.attrs = function attrs(obj, terse){\n\t  var buf = [];\n\t\n\t  var keys = Object.keys(obj);\n\t\n\t  if (keys.length) {\n\t    for (var i = 0; i < keys.length; ++i) {\n\t      var key = keys[i]\n\t        , val = obj[key];\n\t\n\t      if ('class' == key) {\n\t        if (val = joinClasses(val)) {\n\t          buf.push(' ' + key + '=\"' + val + '\"');\n\t        }\n\t      } else {\n\t        buf.push(exports.attr(key, val, false, terse));\n\t      }\n\t    }\n\t  }\n\t\n\t  return buf.join('');\n\t};\n\t\n\t/**\n\t * Escape the given string of `html`.\n\t *\n\t * @param {String} html\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tvar jade_encode_html_rules = {\n\t  '&': '&amp;',\n\t  '<': '&lt;',\n\t  '>': '&gt;',\n\t  '\"': '&quot;'\n\t};\n\tvar jade_match_html = /[&<>\"]/g;\n\t\n\tfunction jade_encode_char(c) {\n\t  return jade_encode_html_rules[c] || c;\n\t}\n\t\n\texports.escape = jade_escape;\n\tfunction jade_escape(html){\n\t  var result = String(html).replace(jade_match_html, jade_encode_char);\n\t  if (result === '' + html) return html;\n\t  else return result;\n\t};\n\t\n\t/**\n\t * Re-throw the given `err` in context to the\n\t * the jade in `filename` at the given `lineno`.\n\t *\n\t * @param {Error} err\n\t * @param {String} filename\n\t * @param {String} lineno\n\t * @api private\n\t */\n\t\n\texports.rethrow = function rethrow(err, filename, lineno, str){\n\t  if (!(err instanceof Error)) throw err;\n\t  if ((typeof window != 'undefined' || !filename) && !str) {\n\t    err.message += ' on line ' + lineno;\n\t    throw err;\n\t  }\n\t  try {\n\t    str = str || __webpack_require__(11).readFileSync(filename, 'utf8')\n\t  } catch (ex) {\n\t    rethrow(err, null, lineno)\n\t  }\n\t  var context = 3\n\t    , lines = str.split('\\n')\n\t    , start = Math.max(lineno - context, 0)\n\t    , end = Math.min(lines.length, lineno + context);\n\t\n\t  // Error context\n\t  var context = lines.slice(start, end).map(function(line, i){\n\t    var curr = i + start + 1;\n\t    return (curr == lineno ? '  > ' : '    ')\n\t      + curr\n\t      + '| '\n\t      + line;\n\t  }).join('\\n');\n\t\n\t  // Alter exception message\n\t  err.path = filename;\n\t  err.message = (filename || 'Jade') + ':' + lineno\n\t    + '\\n' + context + '\\n\\n' + err.message;\n\t  throw err;\n\t};\n\t\n\texports.DebugItem = function DebugItem(lineno, filename) {\n\t  this.lineno = lineno;\n\t  this.filename = filename;\n\t}\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** ngImageCrop.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9dfc2c922159565eb5a6\n **/","import 'croppie/croppie.css';\nlet croppie = require('croppie/croppie.js');\nlet EXIF = require('exif-js');\n\nconst MODULE_NAME = 'ngImageCrop';\n\nexport default MODULE_NAME;\n\nconst module = angular.module(MODULE_NAME, []);\n\nclass ImageCropDirectiveCtrl {\n  constructor($scope, $document, $element, $timeout, $window) {\n    this.$document = $document;\n    this.$element = $element;\n    this.$scope = $scope;\n    this.$timeout = $timeout;\n    this.$window = $window;\n    this.$window.EXIF = EXIF;\n    this.initialized = false;\n    this._initCroppie();\n  }\n\n  set originalImage(value) {\n    this._originalImage = value;\n    if (this.c !== undefined) {\n      this._bindImage();\n    }\n  }\n\n  get originalImage() {\n    return this._originalImage;\n  }\n\n  saveCrop() {\n    // returns a blob of the cropped image\n    this.c.result({\n      type: 'canvas',\n      quality: 1,\n      size: {width: this.options.viewport.width * 2, height: this.options.viewport.height * 2}\n    }).then((img)=> {\n      this.$scope.$apply(()=> {\n        var regex = /^data:[a-z]+\\/[a-z]+;base64,(.+)/;\n        var base64String = regex.exec(img);\n        var croppedImage = this._b64ToBlob(base64String[base64String.length - 1]);\n        // call apply callback\n        this.onApply({image: croppedImage});\n      });\n    });\n  }\n\n  _bindImage() {\n    // binds image to croppie instance\n    let reader = new FileReader();\n\n    reader.onload = ()=> {\n      this.c.bind(reader.result);\n    };\n    reader.readAsDataURL(this._originalImage);\n  }\n\n  _initCroppie() {\n    // initializes a croppie instance\n    this.c = new croppie(this.$element.find('.cropper')[0], this.options);\n    if (this._originalImage) {\n      this._bindImage();\n    }\n  }\n\n  _b64ToBlob(b64Data) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n    const contentType = this._originalImage.type;\n    const sliceSize = 512;\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n      \n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      \n      const byteArray = new Uint8Array(byteNumbers);\n      \n      byteArrays.push(byteArray);\n    }\n    \n    const blob = new Blob(byteArrays, {type: contentType});\n    let width = this.c.options.viewport.width;\n    let height = this.c.options.viewport.height;\n    blob.name = width + '_' + height + '_' + this._originalImage.name;\n    return blob;\n  }\n}\n\nclass ImageCropDirective {\n\n  constructor() {\n    this.restrict = 'E';\n    this.scope = {\n      originalImage: '<',\n      options: '<',\n      onApply: \"&\",\n      onCancel: \"&\"\n    };\n    this.bindToController = true;\n    this.controller = ImageCropDirectiveCtrl;\n    this.controllerAs = '$ctrl';\n    this.template = require('./template.jade')();\n  }\n\n}\n\nmodule.directive('imageCrop', () => new ImageCropDirective());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../css-loader/index.js!./croppie.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../css-loader/index.js!./croppie.css\", function() {\n\t\t\tvar newContent = require(\"!!./../css-loader/index.js!./croppie.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/croppie/croppie.css\n ** module id = 1\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".croppie-container{padding:30px}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 0 899px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:0 auto;margin-top:25px;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'\\\\21BA'}.cr-rotate-r i:before{content:'\\\\21BB'}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/croppie/croppie.css\n ** module id = 2\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 4\n ** module chunks = 0\n **/","/*************************\r\n * Croppie\r\n * Copyright 2016\r\n * Foliotek\r\n * Version: 2.1.1\r\n *************************/\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['exports'], factory);\r\n    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\r\n        // CommonJS\r\n        factory(exports);\r\n    } else {\r\n        // Browser globals\r\n        factory((root.commonJsStrict = {}));\r\n    }\r\n}(this, function (exports) {\r\n\r\n    if (typeof Promise !== 'function') {\r\n        /*! promise-polyfill 3.1.0 */\r\n        !function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k=\"function\"==typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\r\n    }\r\n\r\n    var cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n        emptyStyles = document.createElement('div').style,\r\n        CSS_TRANS_ORG,\r\n        CSS_TRANSFORM,\r\n        CSS_USERSELECT;\r\n\r\n    function vendorPrefix(prop) {\r\n        if (prop in emptyStyles) {\r\n            return prop;\r\n        }\r\n\r\n        var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n            i = cssPrefixes.length;\r\n\r\n        while (i--) {\r\n            prop = cssPrefixes[i] + capProp;\r\n            if (prop in emptyStyles) {\r\n                return prop;\r\n            }\r\n        }\r\n    }\r\n\r\n    CSS_TRANSFORM = vendorPrefix('transform');\r\n    CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n    CSS_USERSELECT = vendorPrefix('userSelect');\r\n\r\n    // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/\r\n    function deepExtend(destination, source) {\r\n        destination = destination || {};\r\n        for (var property in source) {\r\n            if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n                destination[property] = destination[property] || {};\r\n                arguments.callee(destination[property], source[property]);\r\n            } else {\r\n                destination[property] = source[property];\r\n            }\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    function debounce(func, wait, immediate) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            var later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            var callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    function dispatchChange(element) {\r\n        if (\"createEvent\" in document) {\r\n            var evt = document.createEvent(\"HTMLEvents\");\r\n            evt.initEvent(\"change\", false, true);\r\n            element.dispatchEvent(evt);\r\n        }\r\n        else {\r\n            element.fireEvent(\"onchange\");\r\n        }\r\n    }\r\n\r\n    //http://jsperf.com/vanilla-css\r\n    function css(el, styles, val) {\r\n        if (typeof (styles) === 'string') {\r\n            var tmp = styles;\r\n            styles = {};\r\n            styles[tmp] = val;\r\n        }\r\n\r\n        for (var prop in styles) {\r\n            el.style[prop] = styles[prop];\r\n        }\r\n    }\r\n\r\n    function addClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.add(c);\r\n        }\r\n        else {\r\n            el.className += ' ' + c;\r\n        }\r\n    }\r\n\r\n    function removeClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.remove(c);\r\n        }\r\n        else {\r\n            el.className = el.className.replace(c, '');\r\n        }\r\n    }\r\n\r\n    /* Utilities */\r\n    function loadImage(src, imageEl) {\r\n        var img = imageEl || new Image(),\r\n            prom;\r\n\r\n        if (img.src === src) {\r\n            // If image source hasn't changed, return a promise that resolves immediately\r\n            prom = new Promise(function (resolve, reject) {\r\n                resolve(img);\r\n            });\r\n        } else {\r\n            prom = new Promise(function (resolve, reject) {\r\n                if (src.substring(0,4).toLowerCase() === 'http') {\r\n                    img.setAttribute('crossOrigin', 'anonymous');\r\n                }\r\n                img.onload = function () {\r\n                    setTimeout(function () {\r\n                        resolve(img);\r\n                    }, 1);\r\n                };\r\n            });\r\n\r\n            img.src = src;\r\n        }\r\n\r\n        img.style.opacity = 0;\r\n\r\n        return prom;\r\n    }\r\n\r\n    /* CSS Transform Prototype */\r\n    var _TRANSLATE = 'translate3d',\r\n        _TRANSLATE_SUFFIX = ', 0px';\r\n    var Transform = function (x, y, scale) {\r\n        this.x = parseFloat(x);\r\n        this.y = parseFloat(y);\r\n        this.scale = parseFloat(scale);\r\n    };\r\n\r\n    Transform.parse = function (v) {\r\n        if (v.style) {\r\n            return Transform.parse(v.style[CSS_TRANSFORM]);\r\n        }\r\n        else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n            return Transform.fromMatrix(v);\r\n        }\r\n        else {\r\n            return Transform.fromString(v);\r\n        }\r\n    };\r\n\r\n    Transform.fromMatrix = function (v) {\r\n        var vals = v.substring(7).split(',');\r\n        if (!vals.length || v === 'none') {\r\n            vals = [1, 0, 0, 1, 0, 0];\r\n        }\r\n\r\n        return new Transform(parseInt(vals[4], 10), parseInt(vals[5], 10), parseFloat(vals[0]));\r\n    };\r\n\r\n    Transform.fromString = function (v) {\r\n        var values = v.split(') '),\r\n            translate = values[0].substring(_TRANSLATE.length + 1).split(','),\r\n            scale = values.length > 1 ? values[1].substring(6) : 1,\r\n            x = translate.length > 1 ? translate[0] : 0,\r\n            y = translate.length > 1 ? translate[1] : 0;\r\n\r\n        return new Transform(x, y, scale);\r\n    };\r\n\r\n    Transform.prototype.toString = function () {\r\n        return _TRANSLATE + '(' + this.x + 'px, ' + this.y + 'px' + _TRANSLATE_SUFFIX + ') scale(' + this.scale + ')';\r\n    };\r\n\r\n    var TransformOrigin = function (el) {\r\n        if (!el || !el.style[CSS_TRANS_ORG]) {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            return;\r\n        }\r\n        var css = el.style[CSS_TRANS_ORG].split(' ');\r\n        this.x = parseFloat(css[0]);\r\n        this.y = parseFloat(css[1]);\r\n    };\r\n\r\n    TransformOrigin.prototype.toString = function () {\r\n        return this.x + 'px ' + this.y + 'px';\r\n    };\r\n\r\n    function getExifOrientation (img, cb) {\r\n        if (!window.EXIF) {\r\n            cb(0);\r\n        }\r\n\r\n        EXIF.getData(img, function () { \r\n            var orientation = EXIF.getTag(this, 'Orientation');\r\n            cb(orientation);            \r\n        });\r\n    }\r\n\r\n    function drawCanvas(canvas, img, orientation) {\r\n        var width = img.width,\r\n            height = img.height,\r\n            ctx = canvas.getContext('2d');\r\n\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        ctx.save();\r\n        switch (orientation) {\r\n          case 2:\r\n             ctx.translate(width, 0);\r\n             ctx.scale(-1, 1);\r\n             break;\r\n\r\n          case 3:\r\n              ctx.translate(width, height);\r\n              ctx.rotate(180*Math.PI/180);\r\n              break;\r\n\r\n          case 4:\r\n              ctx.translate(0, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 5:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 6:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.translate(0, -height);\r\n              break;\r\n\r\n          case 7:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(-90*Math.PI/180);\r\n              ctx.translate(-width, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 8:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.translate(0, width);\r\n              ctx.rotate(-90*Math.PI/180);\r\n              break;\r\n        }\r\n        ctx.drawImage(img, 0,0, width, height);\r\n        ctx.restore();\r\n    }\r\n\r\n    /* Private Methods */\r\n    function _create() {\r\n        var self = this,\r\n            contClass = 'croppie-container',\r\n            customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,\r\n            boundary, img, viewport, overlay, canvas;\r\n\r\n        self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self);\r\n        // Properties on class\r\n        self.data = {};\r\n        self.elements = {};\r\n\r\n        // Generating Markup\r\n        boundary = self.elements.boundary = document.createElement('div');\r\n        viewport = self.elements.viewport = document.createElement('div');\r\n        img = self.elements.img = document.createElement('img');\r\n        overlay = self.elements.overlay = document.createElement('div');\r\n\r\n        if (self.options.useCanvas) {\r\n            self.elements.canvas = document.createElement('canvas');\r\n            self.elements.preview = self.elements.canvas;\r\n        }\r\n        else {\r\n            self.elements.preview = self.elements.img;\r\n        }\r\n\r\n        addClass(boundary, 'cr-boundary');\r\n        css(boundary, {\r\n            width: self.options.boundary.width + 'px',\r\n            height: self.options.boundary.height + 'px'\r\n        });\r\n\r\n        addClass(viewport, 'cr-viewport');\r\n        if (customViewportClass) {\r\n            addClass(viewport, customViewportClass);\r\n        }\r\n        css(viewport, {\r\n            width: self.options.viewport.width + 'px',\r\n            height: self.options.viewport.height + 'px'\r\n        });\r\n\r\n        addClass(self.elements.preview, 'cr-image');\r\n        addClass(overlay, 'cr-overlay');\r\n\r\n        self.element.appendChild(boundary);\r\n        boundary.appendChild(self.elements.preview);\r\n        boundary.appendChild(viewport);\r\n        boundary.appendChild(overlay);\r\n\r\n        addClass(self.element, contClass);\r\n        if (self.options.customClass) {\r\n            addClass(self.element, self.options.customClass);\r\n        }\r\n\r\n        // Initialize drag & zoom\r\n        _initDraggable.call(this);\r\n\r\n        if (self.options.enableZoom) {\r\n            _initializeZoom.call(self);\r\n        }\r\n\r\n        // if (self.options.enableOrientation) {\r\n        //     _initRotationControls.call(self);\r\n        // }\r\n    }\r\n\r\n    function _initRotationControls () {\r\n        // TODO - Not a fan of these controls\r\n        return;\r\n        var self = this,\r\n            wrap, btnLeft, btnRight, iLeft, iRight;\r\n\r\n        wrap = document.createElement('div');\r\n        self.elements.orientationBtnLeft = btnLeft = document.createElement('button');\r\n        self.elements.orientationBtnRight = btnRight = document.createElement('button');\r\n\r\n        wrap.appendChild(btnLeft);\r\n        wrap.appendChild(btnRight);\r\n\r\n        iLeft = document.createElement('i');\r\n        iRight = document.createElement('i');\r\n        btnLeft.appendChild(iLeft);\r\n        btnRight.appendChild(iRight);\r\n\r\n        addClass(wrap, 'cr-rotate-controls');\r\n        addClass(btnLeft, 'cr-rotate-l');\r\n        addClass(btnRight, 'cr-rotate-r');\r\n\r\n        self.elements.boundary.appendChild(wrap);\r\n\r\n        btnLeft.addEventListener('click', function () {\r\n            self.rotate(-90);\r\n        });\r\n        btnRight.addEventListener('click', function () {\r\n            self.rotate(90);\r\n        });\r\n    }\r\n\r\n    function _hasExif() {\r\n        // todo - remove options.exif after deprecation\r\n        return (this.options.enableExif || this.options.exif) && window.EXIF;\r\n    }\r\n\r\n    function _setZoomerVal(v) {\r\n        if (this.options.enableZoom) {\r\n            this.elements.zoomer.value = fix(v, 4);\r\n        }\r\n    }\r\n\r\n    function _initializeZoom() {\r\n        var self = this,\r\n            wrap = self.elements.zoomerWrap = document.createElement('div'),\r\n            zoomer = self.elements.zoomer = document.createElement('input');\r\n\r\n        addClass(wrap, 'cr-slider-wrap');\r\n        addClass(zoomer, 'cr-slider');\r\n        zoomer.type = 'range';\r\n        zoomer.step = '0.01';\r\n        zoomer.value = 1;\r\n        zoomer.style.display = self.options.showZoomer ? '' : 'none';\r\n\r\n        self.element.appendChild(wrap);\r\n        wrap.appendChild(zoomer);\r\n\r\n        self._currentZoom = 1;\r\n\r\n        function change() {\r\n            _onZoom.call(self, {\r\n                value: parseFloat(zoomer.value),\r\n                origin: new TransformOrigin(self.elements.preview),\r\n                viewportRect: self.elements.viewport.getBoundingClientRect(),\r\n                transform: Transform.parse(self.elements.preview)\r\n            });\r\n        }\r\n\r\n        function scroll(ev) {\r\n            var delta, targetZoom;\r\n\r\n            if (ev.wheelDelta) {\r\n                delta = ev.wheelDelta / 1200; //wheelDelta min: -120 max: 120 // max x 10 x 2\r\n            } else if (ev.deltaY) {\r\n                delta = ev.deltaY / 1060; //deltaY min: -53 max: 53 // max x 10 x 2\r\n            } else if (ev.detail) {\r\n                delta = ev.detail / -60; //delta min: -3 max: 3 // max x 10 x 2\r\n            } else {\r\n                delta = 0;\r\n            }\r\n\r\n            targetZoom = self._currentZoom + delta;\r\n            \r\n            ev.preventDefault();\r\n            _setZoomerVal.call(self, targetZoom);\r\n            change();\r\n        }\r\n\r\n        self.elements.zoomer.addEventListener('input', change);// this is being fired twice on keypress\r\n        self.elements.zoomer.addEventListener('change', change);\r\n\r\n        if (self.options.mouseWheelZoom) {\r\n            self.elements.boundary.addEventListener('mousewheel', scroll);\r\n            self.elements.boundary.addEventListener('DOMMouseScroll', scroll);\r\n        }\r\n    }\r\n\r\n    function _onZoom(ui) {\r\n        var self = this,\r\n            transform = ui ? ui.transform : Transform.parse(self.elements.preview),\r\n            vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),\r\n            origin = ui ? ui.origin : new TransformOrigin(self.elements.preview);\r\n\r\n        self._currentZoom = ui ? ui.value : self._currentZoom;\r\n        transform.scale = self._currentZoom;\r\n\r\n        if (self.options.enforceBoundary) {\r\n            var boundaries = _getVirtualBoundaries.call(self, vpRect),\r\n                transBoundaries = boundaries.translate,\r\n                oBoundaries = boundaries.origin;\r\n\r\n            if (transform.x >= transBoundaries.maxX) {\r\n                origin.x = oBoundaries.minX;\r\n                transform.x = transBoundaries.maxX;\r\n            }\r\n\r\n            if (transform.x <= transBoundaries.minX) {\r\n                origin.x = oBoundaries.maxX;\r\n                transform.x = transBoundaries.minX;\r\n            }\r\n\r\n            if (transform.y >= transBoundaries.maxY) {\r\n                origin.y = oBoundaries.minY;\r\n                transform.y = transBoundaries.maxY;\r\n            }\r\n\r\n            if (transform.y <= transBoundaries.minY) {\r\n                origin.y = oBoundaries.maxY;\r\n                transform.y = transBoundaries.minY;\r\n            }\r\n        }\r\n\r\n        var transCss = {};\r\n        transCss[CSS_TRANSFORM] = transform.toString();\r\n        transCss[CSS_TRANS_ORG] = origin.toString();\r\n        css(self.elements.preview, transCss);\r\n\r\n        _debouncedOverlay.call(self);\r\n        _triggerUpdate.call(self);\r\n    }\r\n\r\n    function _getVirtualBoundaries(viewport) {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            vpWidth = viewport.width,\r\n            vpHeight = viewport.height,\r\n            centerFromBoundaryX = self.options.boundary.width / 2,\r\n            centerFromBoundaryY = self.options.boundary.height / 2,\r\n            imgRect = self.elements.preview.getBoundingClientRect(),\r\n            curImgWidth = imgRect.width,\r\n            curImgHeight = imgRect.height,\r\n            halfWidth = vpWidth / 2,\r\n            halfHeight = vpHeight / 2;\r\n\r\n\r\n        var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1;\r\n        var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)));\r\n\r\n        var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1;\r\n        var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)));\r\n\r\n        var originMinX = (1 / scale) * halfWidth;\r\n        var originMaxX = (curImgWidth * (1 / scale)) - originMinX;\r\n\r\n        var originMinY = (1 / scale) * halfHeight;\r\n        var originMaxY = (curImgHeight * (1 / scale)) - originMinY;\r\n\r\n        return {\r\n            translate: {\r\n                maxX: maxX,\r\n                minX: minX,\r\n                maxY: maxY,\r\n                minY: minY\r\n            },\r\n            origin: {\r\n                maxX: originMaxX,\r\n                minX: originMinX,\r\n                maxY: originMaxY,\r\n                minY: originMinY\r\n            }\r\n        };\r\n    }\r\n\r\n    function _updateCenterPoint() {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            data = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),\r\n            pc = new TransformOrigin(self.elements.preview),\r\n            top = (vpData.top - data.top) + (vpData.height / 2),\r\n            left = (vpData.left - data.left) + (vpData.width / 2),\r\n            center = {},\r\n            adj = {};\r\n\r\n        center.y = top / scale;\r\n        center.x = left / scale;\r\n\r\n        adj.y = (center.y - pc.y) * (1 - scale);\r\n        adj.x = (center.x - pc.x) * (1 - scale);\r\n\r\n        transform.x -= adj.x;\r\n        transform.y -= adj.y;\r\n\r\n        var newCss = {};\r\n        newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px';\r\n        newCss[CSS_TRANSFORM] = transform.toString();\r\n        css(self.elements.preview, newCss);\r\n    }\r\n\r\n    function _initDraggable() {\r\n        var self = this,\r\n            isDragging = false,\r\n            originalX,\r\n            originalY,\r\n            originalDistance,\r\n            vpRect;\r\n\r\n        function mouseDown(ev) {\r\n            ev.preventDefault();\r\n            if (isDragging) return;\r\n            isDragging = true;\r\n            originalX = ev.pageX;\r\n            originalY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                originalX = touches.pageX;\r\n                originalY = touches.pageY;\r\n            }\r\n\r\n            transform = Transform.parse(self.elements.preview);\r\n            window.addEventListener('mousemove', mouseMove);\r\n            window.addEventListener('touchmove', mouseMove);\r\n            window.addEventListener('mouseup', mouseUp);\r\n            window.addEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = 'none';\r\n            vpRect = self.elements.viewport.getBoundingClientRect();\r\n        }\r\n\r\n        function mouseMove(ev) {\r\n            ev.preventDefault();\r\n            var pageX = ev.pageX,\r\n                pageY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                pageX = touches.pageX;\r\n                pageY = touches.pageY;\r\n            }\r\n\r\n            var deltaX = pageX - originalX,\r\n                deltaY = pageY - originalY,\r\n                imgRect = self.elements.preview.getBoundingClientRect(),\r\n                top = transform.y + deltaY,\r\n                left = transform.x + deltaX,\r\n                newCss = {};\r\n\r\n            if (ev.type == 'touchmove') {\r\n                if (ev.touches.length > 1) {\r\n                    var touch1 = ev.touches[0];\r\n                    var touch2 = ev.touches[1];\r\n                    var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY));\r\n\r\n                    if (!originalDistance) {\r\n                        originalDistance = dist / self._currentZoom;\r\n                    }\r\n\r\n                    var scale = dist / originalDistance;\r\n\r\n                    _setZoomerVal.call(self, scale);\r\n                    dispatchChange(self.elements.zoomer);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (self.options.enforceBoundary) {\r\n                if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {\r\n                    transform.y = top;\r\n                }\r\n\r\n                if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {\r\n                    transform.x = left;\r\n                }\r\n            }\r\n            else {\r\n                transform.y = top;\r\n                transform.x = left;\r\n            }\r\n\r\n            newCss[CSS_TRANSFORM] = transform.toString();\r\n            css(self.elements.preview, newCss);\r\n            _updateOverlay.call(self);\r\n            originalY = pageY;\r\n            originalX = pageX;\r\n        }\r\n\r\n        function mouseUp() {\r\n            isDragging = false;\r\n            window.removeEventListener('mousemove', mouseMove);\r\n            window.removeEventListener('touchmove', mouseMove);\r\n            window.removeEventListener('mouseup', mouseUp);\r\n            window.removeEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalDistance = 0;\r\n        }\r\n\r\n        self.elements.overlay.addEventListener('mousedown', mouseDown);\r\n        self.elements.overlay.addEventListener('touchstart', mouseDown);\r\n    }\r\n\r\n    function _updateOverlay() {\r\n        var self = this,\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            imgData = self.elements.preview.getBoundingClientRect();\r\n\r\n        css(self.elements.overlay, {\r\n            width: imgData.width + 'px',\r\n            height: imgData.height + 'px',\r\n            top: (imgData.top - boundRect.top) + 'px',\r\n            left: (imgData.left - boundRect.left) + 'px'\r\n        });\r\n    }\r\n    var _debouncedOverlay = debounce(_updateOverlay, 500);\r\n\r\n    function _triggerUpdate() {\r\n        var self = this;\r\n        if (_isVisible.call(self)) {\r\n            self.options.update.call(self, self.get());\r\n        }\r\n    }\r\n\r\n    function _isVisible() {\r\n        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0;\r\n    }\r\n\r\n    function _updatePropertiesFromImage() {\r\n        var self = this,\r\n            minZoom = 0,\r\n            maxZoom = 1.5,\r\n            initialZoom = 1,\r\n            cssReset = {},\r\n            img = self.elements.preview,\r\n            zoomer = self.elements.zoomer,\r\n            transformReset = new Transform(0, 0, initialZoom),\r\n            originReset = new TransformOrigin(),\r\n            isVisible = _isVisible.call(self),\r\n            imgData,\r\n            vpData,\r\n            boundaryData,\r\n            minW,\r\n            minH;\r\n\r\n        if (!isVisible || self.data.bound) {\r\n            // if the croppie isn't visible or it doesn't need binding\r\n            return;\r\n        }\r\n\r\n        self.data.bound = true;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        cssReset[CSS_TRANS_ORG] = originReset.toString();\r\n        cssReset['opacity'] = 1;\r\n        css(img, cssReset);\r\n\r\n        imgData = img.getBoundingClientRect();\r\n        vpData = self.elements.viewport.getBoundingClientRect();\r\n        boundaryData = self.elements.boundary.getBoundingClientRect();\r\n        self._originalImageWidth = imgData.width;\r\n        self._originalImageHeight = imgData.height;\r\n\r\n        if (self.options.enableZoom) {\r\n            if (self.options.enforceBoundary) {\r\n                minW = vpData.width / imgData.width;\r\n                minH = vpData.height / imgData.height;\r\n                minZoom = Math.max(minW, minH);\r\n            }\r\n\r\n            if (minZoom >= maxZoom) {\r\n                maxZoom = minZoom + 1;\r\n            }\r\n\r\n            zoomer.min = fix(minZoom, 4);\r\n            zoomer.max = fix(maxZoom, 4);\r\n            initialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height));\r\n            _setZoomerVal.call(self, initialZoom);\r\n            dispatchChange(zoomer);\r\n        }\r\n\r\n        self._currentZoom = transformReset.scale = initialZoom;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        css(img, cssReset);\r\n\r\n        if (self.data.points.length) {\r\n            _bindPoints.call(self, self.data.points);\r\n        }\r\n        else {\r\n            _centerImage.call(self);\r\n        }\r\n\r\n        _updateCenterPoint.call(self);\r\n        _updateOverlay.call(self);\r\n    }\r\n\r\n    function _bindPoints(points) {\r\n        if (points.length != 4) {\r\n            throw \"Croppie - Invalid number of points supplied: \" + points;\r\n        }\r\n        var self = this,\r\n            pointsWidth = points[2] - points[0],\r\n            // pointsHeight = points[3] - points[1],\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            vpOffset = {\r\n                left: vpData.left - boundRect.left,\r\n                top: vpData.top - boundRect.top\r\n            },\r\n            scale = vpData.width / pointsWidth,\r\n            originTop = points[1],\r\n            originLeft = points[0],\r\n            transformTop = (-1 * points[1]) + vpOffset.top,\r\n            transformLeft = (-1 * points[0]) + vpOffset.left,\r\n            newCss = {};\r\n\r\n        newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px';\r\n        newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString();\r\n        css(self.elements.preview, newCss);\r\n\r\n        _setZoomerVal.call(self, scale);\r\n        self._currentZoom = scale;\r\n    }\r\n\r\n    function _centerImage() {\r\n        var self = this,\r\n            imgDim = self.elements.preview.getBoundingClientRect(),\r\n            vpDim = self.elements.viewport.getBoundingClientRect(),\r\n            boundDim = self.elements.boundary.getBoundingClientRect(),\r\n            vpLeft = vpDim.left - boundDim.left,\r\n            vpTop = vpDim.top - boundDim.top,\r\n            w = vpLeft - ((imgDim.width - vpDim.width) / 2),\r\n            h = vpTop - ((imgDim.height - vpDim.height) / 2),\r\n            transform = new Transform(w, h, self._currentZoom);\r\n\r\n        css(self.elements.preview, CSS_TRANSFORM, transform.toString());\r\n    }\r\n\r\n    function _transferImageToCanvas(customOrientation) {\r\n        var self = this,\r\n            canvas = self.elements.canvas,\r\n            img = self.elements.img,\r\n            ctx = canvas.getContext('2d'),\r\n            exif = _hasExif.call(self),\r\n            customOrientation = self.options.enableOrientation && customOrientation;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        if (exif) {\r\n            getExifOrientation(img, function (orientation) {\r\n                drawCanvas(canvas, img, parseInt(orientation));\r\n                if (customOrientation) {\r\n                    drawCanvas(canvas, img, customOrientation);\r\n                }\r\n            });\r\n        } else if (customOrientation) {\r\n            drawCanvas(canvas, img, customOrientation);\r\n        }\r\n    }\r\n\r\n    function _getHtmlResult(data) {\r\n        var points = data.points,\r\n            div = document.createElement('div'),\r\n            img = document.createElement('img'),\r\n            width = points[2] - points[0],\r\n            height = points[3] - points[1];\r\n\r\n        addClass(div, 'croppie-result');\r\n        div.appendChild(img);\r\n        css(img, {\r\n            left: (-1 * points[0]) + 'px',\r\n            top: (-1 * points[1]) + 'px'\r\n        });\r\n        img.src = data.url;\r\n        css(div, {\r\n            width: width + 'px',\r\n            height: height + 'px'\r\n        });\r\n\r\n        return div;\r\n    }\r\n\r\n    function _getCanvasResult(img, data) {\r\n        var points = data.points,\r\n            left = points[0],\r\n            top = points[1],\r\n            width = (points[2] - points[0]),\r\n            height = (points[3] - points[1]),\r\n            circle = data.circle,\r\n            canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            outWidth = width,\r\n            outHeight = height;\r\n\r\n        if (data.outputWidth && data.outputHeight) {\r\n            outWidth = data.outputWidth;\r\n            outHeight = data.outputHeight;\r\n        }\r\n\r\n        canvas.width = outWidth;\r\n        canvas.height = outHeight;\r\n\r\n        ctx.drawImage(img, left, top, width, height, 0, 0, outWidth, outHeight);\r\n        if (circle) {\r\n            ctx.fillStyle = '#fff';\r\n            ctx.globalCompositeOperation = 'destination-in';\r\n            ctx.beginPath();\r\n            ctx.arc(outWidth / 2, outHeight / 2, outWidth / 2, 0, Math.PI * 2, true);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n        }\r\n        return canvas.toDataURL(data.format, data.quality);\r\n    }\r\n\r\n    function _bind(options, cb) {\r\n        var self = this,\r\n            url,\r\n            points = [];\r\n\r\n        if (typeof (options) === 'string') {\r\n            url = options;\r\n            options = {};\r\n        }\r\n        else if (Array.isArray(options)) {\r\n            points = options.slice();\r\n        }\r\n        else if (typeof (options) == 'undefined' && self.data.url) { //refreshing\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            return null;\r\n        }\r\n        else {\r\n            url = options.url;\r\n            points = options.points || [];\r\n        }\r\n\r\n        self.data.bound = false;\r\n        self.data.url = url || self.data.url;\r\n        self.data.points = (points || self.data.points).map(function (p) {\r\n            return parseFloat(p);\r\n        });\r\n        var prom = loadImage(url, self.elements.img);\r\n        prom.then(function () {\r\n            if (self.options.useCanvas) {\r\n                self.elements.img.exifdata = null;\r\n                _transferImageToCanvas.call(self, options.orientation || 1);\r\n            }\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            if (cb) {\r\n                cb();\r\n            }\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    function fix(v, decimalPoints) {\r\n        return parseFloat(v).toFixed(decimalPoints || 0);\r\n    }\r\n\r\n    function _get() {\r\n        var self = this,\r\n            imgData = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            x1 = vpData.left - imgData.left,\r\n            y1 = vpData.top - imgData.top,\r\n            x2 = x1 + vpData.width,\r\n            y2 = y1 + vpData.height,\r\n            scale = self._currentZoom;\r\n\r\n        if (scale === Infinity || isNaN(scale)) {\r\n            scale = 1;\r\n        }\r\n\r\n        var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;\r\n        x1 = Math.max(max, x1 / scale);\r\n        y1 = Math.max(max, y1 / scale);\r\n        x2 = Math.max(max, x2 / scale);\r\n        y2 = Math.max(max, y2 / scale);\r\n\r\n        return {\r\n            points: [fix(x1), fix(y1), fix(x2), fix(y2)],\r\n            zoom: scale\r\n        };\r\n    }\r\n\r\n    var RESULT_DEFAULTS = {\r\n            type: 'canvas', \r\n            format: 'png', \r\n            quality: 1\r\n        },\r\n        RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\r\n    function _result(options) {\r\n        var self = this,\r\n            data = _get.call(self),\r\n            opts = deepExtend(RESULT_DEFAULTS, deepExtend({}, options)),\r\n            type = (typeof (options) === 'string' ? options : (opts.type || 'viewport')),\r\n            size = opts.size,\r\n            format = opts.format,\r\n            quality = opts.quality,\r\n            vpRect = self.elements.viewport.getBoundingClientRect(),\r\n            ratio = vpRect.width / vpRect.height,\r\n            prom;\r\n\r\n        if (size === 'viewport') {\r\n            data.outputWidth = vpRect.width;\r\n            data.outputHeight = vpRect.height;\r\n        } else if (typeof size === 'object') {\r\n            if (size.width && size.height) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.height;\r\n            } else if (size.width) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.width / ratio;\r\n            } else if (size.height) {\r\n                data.outputWidth = size.height * ratio;\r\n                data.outputHeight = size.height;\r\n            }\r\n        }\r\n\r\n        if (RESULT_FORMATS.indexOf(format) > -1) {\r\n            data.format = 'image/' + format;\r\n            data.quality = quality;\r\n        }\r\n\r\n        data.circle = self.options.viewport.type === 'circle';\r\n        data.url = self.data.url;\r\n\r\n        prom = new Promise(function (resolve, reject) {\r\n            if (type === 'canvas') {\r\n                resolve(_getCanvasResult.call(self, self.elements.preview, data));\r\n            }\r\n            else {\r\n                resolve(_getHtmlResult.call(self, data));\r\n            }\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    function _refresh() {\r\n        _updatePropertiesFromImage.call(this);\r\n    }\r\n\r\n    function _rotate(deg) {\r\n        if (!this.options.useCanvas) {\r\n            throw 'Croppie: Cannot rotate without enableOrientation';\r\n        }\r\n\r\n        var self = this,\r\n            canvas = self.elements.canvas,\r\n            img = self.elements.img,\r\n            copy = document.createElement('canvas'),\r\n            ornt = 1;\r\n\r\n        copy.width = canvas.width;\r\n        copy.height = canvas.height;\r\n        var ctx = copy.getContext('2d');\r\n        ctx.drawImage(canvas, 0, 0);\r\n\r\n        if (deg === 90 || deg === -270) ornt = 6;\r\n        if (deg === -90 || deg === 270) ornt = 8;\r\n        if (deg === 180 || deg === -180) ornt = 3;\r\n\r\n        drawCanvas(canvas, copy, ornt);\r\n        _onZoom.call(self);\r\n    }\r\n\r\n    function _destroy() {\r\n        var self = this;\r\n        self.element.removeChild(self.elements.boundary);\r\n        removeClass(self.element, 'croppie-container');\r\n        if (self.options.enableZoom) {\r\n            self.element.removeChild(self.elements.zoomerWrap);\r\n        }\r\n        delete self.elements;\r\n    }\r\n\r\n    if (window.jQuery) {\r\n        var $ = window.jQuery;\r\n        $.fn.croppie = function (opts) {\r\n            var ot = typeof opts;\r\n\r\n            if (ot === 'string') {\r\n                var args = Array.prototype.slice.call(arguments, 1);\r\n                var singleInst = $(this).data('croppie');\r\n\r\n                if (opts === 'get') {\r\n                    return singleInst.get();\r\n                }\r\n                else if (opts === 'result') {\r\n                    return singleInst.result.apply(singleInst, args);\r\n                }\r\n\r\n                return this.each(function () {\r\n                    var i = $(this).data('croppie');\r\n                    if (!i) return;\r\n\r\n                    var method = i[opts];\r\n                    if ($.isFunction(method)) {\r\n                        method.apply(i, args);\r\n                        if (opts === 'destroy') {\r\n                            $(this).removeData('croppie');\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw 'Croppie ' + opts + ' method not found';\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                return this.each(function () {\r\n                    var i = new Croppie(this, opts);\r\n                    $(this).data('croppie', i);\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    function Croppie(element, opts) {\r\n        this.element = element;\r\n        this.options = deepExtend(deepExtend({}, Croppie.defaults), opts);\r\n\r\n        _create.call(this);\r\n        if (this.options.url) {\r\n            var bindOpts = {\r\n                url: this.options.url,\r\n                points: this.options.points\r\n            };\r\n            delete this.options['url'];\r\n            delete this.options['points'];\r\n            _bind.call(this, bindOpts);\r\n        }\r\n    }\r\n\r\n    Croppie.defaults = {\r\n        viewport: {\r\n            width: 100,\r\n            height: 100,\r\n            type: 'square'\r\n        },\r\n        boundary: {\r\n            width: 300,\r\n            height: 300\r\n        },\r\n        orientationControls: {\r\n            enabled: true,\r\n            leftClass: '',\r\n            rightClass: ''\r\n        },\r\n        customClass: '',\r\n        showZoomer: true,\r\n        enableZoom: true,\r\n        mouseWheelZoom: true,\r\n        enableExif: false,\r\n        enforceBoundary: true,\r\n        enableOrientation: false,\r\n        update: function () { }\r\n    };\r\n\r\n    deepExtend(Croppie.prototype, {\r\n        bind: function (options, cb) {\r\n            return _bind.call(this, options, cb);\r\n        },\r\n        get: function () {\r\n            return _get.call(this);\r\n        },\r\n        result: function (type) {\r\n            return _result.call(this, type);\r\n        },\r\n        refresh: function () {\r\n            return _refresh.call(this);\r\n        },\r\n        setZoom: function (v) {\r\n            _setZoomerVal.call(this, v);\r\n            dispatchChange(this.elements.zoomer);\r\n        },\r\n        rotate: function (deg) {\r\n            _rotate.call(this, deg);\r\n        },\r\n        destroy: function () {\r\n            return _destroy.call(this);\r\n        }\r\n    });\r\n\r\n    exports.Croppie = window.Croppie = Croppie;\r\n\r\n    if (typeof module === 'object' && !!module.exports) {\r\n        module.exports = Croppie;    \r\n    }\r\n}));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/croppie/croppie.js\n ** module id = 5\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 6\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 7\n ** module chunks = 0\n **/","(function() {\n\n    var debug = false;\n\n    var root = this;\n\n    var EXIF = function(obj) {\n        if (obj instanceof EXIF) return obj;\n        if (!(this instanceof EXIF)) return new EXIF(obj);\n        this.EXIFwrapped = obj;\n    };\n\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = EXIF;\n        }\n        exports.EXIF = EXIF;\n    } else {\n        root.EXIF = EXIF;\n    }\n\n    var ExifTags = EXIF.Tags = {\n\n        // version tags\n        0x9000 : \"ExifVersion\",             // EXIF version\n        0xA000 : \"FlashpixVersion\",         // Flashpix format version\n\n        // colorspace tags\n        0xA001 : \"ColorSpace\",              // Color space information tag\n\n        // image configuration\n        0xA002 : \"PixelXDimension\",         // Valid width of meaningful image\n        0xA003 : \"PixelYDimension\",         // Valid height of meaningful image\n        0x9101 : \"ComponentsConfiguration\", // Information about channels\n        0x9102 : \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\n        // user information\n        0x927C : \"MakerNote\",               // Any desired information written by the manufacturer\n        0x9286 : \"UserComment\",             // Comments by user\n\n        // related file\n        0xA004 : \"RelatedSoundFile\",        // Name of related sound file\n\n        // date and time\n        0x9003 : \"DateTimeOriginal\",        // Date and time when the original image was generated\n        0x9004 : \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n        0x9290 : \"SubsecTime\",              // Fractions of seconds for DateTime\n        0x9291 : \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n        0x9292 : \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\n        // picture-taking conditions\n        0x829A : \"ExposureTime\",            // Exposure time (in seconds)\n        0x829D : \"FNumber\",                 // F number\n        0x8822 : \"ExposureProgram\",         // Exposure program\n        0x8824 : \"SpectralSensitivity\",     // Spectral sensitivity\n        0x8827 : \"ISOSpeedRatings\",         // ISO speed rating\n        0x8828 : \"OECF\",                    // Optoelectric conversion factor\n        0x9201 : \"ShutterSpeedValue\",       // Shutter speed\n        0x9202 : \"ApertureValue\",           // Lens aperture\n        0x9203 : \"BrightnessValue\",         // Value of brightness\n        0x9204 : \"ExposureBias\",            // Exposure bias\n        0x9205 : \"MaxApertureValue\",        // Smallest F number of lens\n        0x9206 : \"SubjectDistance\",         // Distance to subject in meters\n        0x9207 : \"MeteringMode\",            // Metering mode\n        0x9208 : \"LightSource\",             // Kind of light source\n        0x9209 : \"Flash\",                   // Flash status\n        0x9214 : \"SubjectArea\",             // Location and area of main subject\n        0x920A : \"FocalLength\",             // Focal length of the lens in mm\n        0xA20B : \"FlashEnergy\",             // Strobe energy in BCPS\n        0xA20C : \"SpatialFrequencyResponse\",    //\n        0xA20E : \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n        0xA20F : \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n        0xA210 : \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n        0xA214 : \"SubjectLocation\",         // Location of subject in image\n        0xA215 : \"ExposureIndex\",           // Exposure index selected on camera\n        0xA217 : \"SensingMethod\",           // Image sensor type\n        0xA300 : \"FileSource\",              // Image source (3 == DSC)\n        0xA301 : \"SceneType\",               // Scene type (1 == directly photographed)\n        0xA302 : \"CFAPattern\",              // Color filter array geometric pattern\n        0xA401 : \"CustomRendered\",          // Special processing\n        0xA402 : \"ExposureMode\",            // Exposure mode\n        0xA403 : \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n        0xA404 : \"DigitalZoomRation\",       // Digital zoom ratio\n        0xA405 : \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n        0xA406 : \"SceneCaptureType\",        // Type of scene\n        0xA407 : \"GainControl\",             // Degree of overall image gain adjustment\n        0xA408 : \"Contrast\",                // Direction of contrast processing applied by camera\n        0xA409 : \"Saturation\",              // Direction of saturation processing applied by camera\n        0xA40A : \"Sharpness\",               // Direction of sharpness processing applied by camera\n        0xA40B : \"DeviceSettingDescription\",    //\n        0xA40C : \"SubjectDistanceRange\",    // Distance to subject\n\n        // other tags\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0xA420 : \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n    };\n\n    var TiffTags = EXIF.TiffTags = {\n        0x0100 : \"ImageWidth\",\n        0x0101 : \"ImageHeight\",\n        0x8769 : \"ExifIFDPointer\",\n        0x8825 : \"GPSInfoIFDPointer\",\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0x0102 : \"BitsPerSample\",\n        0x0103 : \"Compression\",\n        0x0106 : \"PhotometricInterpretation\",\n        0x0112 : \"Orientation\",\n        0x0115 : \"SamplesPerPixel\",\n        0x011C : \"PlanarConfiguration\",\n        0x0212 : \"YCbCrSubSampling\",\n        0x0213 : \"YCbCrPositioning\",\n        0x011A : \"XResolution\",\n        0x011B : \"YResolution\",\n        0x0128 : \"ResolutionUnit\",\n        0x0111 : \"StripOffsets\",\n        0x0116 : \"RowsPerStrip\",\n        0x0117 : \"StripByteCounts\",\n        0x0201 : \"JPEGInterchangeFormat\",\n        0x0202 : \"JPEGInterchangeFormatLength\",\n        0x012D : \"TransferFunction\",\n        0x013E : \"WhitePoint\",\n        0x013F : \"PrimaryChromaticities\",\n        0x0211 : \"YCbCrCoefficients\",\n        0x0214 : \"ReferenceBlackWhite\",\n        0x0132 : \"DateTime\",\n        0x010E : \"ImageDescription\",\n        0x010F : \"Make\",\n        0x0110 : \"Model\",\n        0x0131 : \"Software\",\n        0x013B : \"Artist\",\n        0x8298 : \"Copyright\"\n    };\n\n    var GPSTags = EXIF.GPSTags = {\n        0x0000 : \"GPSVersionID\",\n        0x0001 : \"GPSLatitudeRef\",\n        0x0002 : \"GPSLatitude\",\n        0x0003 : \"GPSLongitudeRef\",\n        0x0004 : \"GPSLongitude\",\n        0x0005 : \"GPSAltitudeRef\",\n        0x0006 : \"GPSAltitude\",\n        0x0007 : \"GPSTimeStamp\",\n        0x0008 : \"GPSSatellites\",\n        0x0009 : \"GPSStatus\",\n        0x000A : \"GPSMeasureMode\",\n        0x000B : \"GPSDOP\",\n        0x000C : \"GPSSpeedRef\",\n        0x000D : \"GPSSpeed\",\n        0x000E : \"GPSTrackRef\",\n        0x000F : \"GPSTrack\",\n        0x0010 : \"GPSImgDirectionRef\",\n        0x0011 : \"GPSImgDirection\",\n        0x0012 : \"GPSMapDatum\",\n        0x0013 : \"GPSDestLatitudeRef\",\n        0x0014 : \"GPSDestLatitude\",\n        0x0015 : \"GPSDestLongitudeRef\",\n        0x0016 : \"GPSDestLongitude\",\n        0x0017 : \"GPSDestBearingRef\",\n        0x0018 : \"GPSDestBearing\",\n        0x0019 : \"GPSDestDistanceRef\",\n        0x001A : \"GPSDestDistance\",\n        0x001B : \"GPSProcessingMethod\",\n        0x001C : \"GPSAreaInformation\",\n        0x001D : \"GPSDateStamp\",\n        0x001E : \"GPSDifferential\"\n    };\n\n    var StringValues = EXIF.StringValues = {\n        ExposureProgram : {\n            0 : \"Not defined\",\n            1 : \"Manual\",\n            2 : \"Normal program\",\n            3 : \"Aperture priority\",\n            4 : \"Shutter priority\",\n            5 : \"Creative program\",\n            6 : \"Action program\",\n            7 : \"Portrait mode\",\n            8 : \"Landscape mode\"\n        },\n        MeteringMode : {\n            0 : \"Unknown\",\n            1 : \"Average\",\n            2 : \"CenterWeightedAverage\",\n            3 : \"Spot\",\n            4 : \"MultiSpot\",\n            5 : \"Pattern\",\n            6 : \"Partial\",\n            255 : \"Other\"\n        },\n        LightSource : {\n            0 : \"Unknown\",\n            1 : \"Daylight\",\n            2 : \"Fluorescent\",\n            3 : \"Tungsten (incandescent light)\",\n            4 : \"Flash\",\n            9 : \"Fine weather\",\n            10 : \"Cloudy weather\",\n            11 : \"Shade\",\n            12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n            13 : \"Day white fluorescent (N 4600 - 5400K)\",\n            14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n            15 : \"White fluorescent (WW 3200 - 3700K)\",\n            17 : \"Standard light A\",\n            18 : \"Standard light B\",\n            19 : \"Standard light C\",\n            20 : \"D55\",\n            21 : \"D65\",\n            22 : \"D75\",\n            23 : \"D50\",\n            24 : \"ISO studio tungsten\",\n            255 : \"Other\"\n        },\n        Flash : {\n            0x0000 : \"Flash did not fire\",\n            0x0001 : \"Flash fired\",\n            0x0005 : \"Strobe return light not detected\",\n            0x0007 : \"Strobe return light detected\",\n            0x0009 : \"Flash fired, compulsory flash mode\",\n            0x000D : \"Flash fired, compulsory flash mode, return light not detected\",\n            0x000F : \"Flash fired, compulsory flash mode, return light detected\",\n            0x0010 : \"Flash did not fire, compulsory flash mode\",\n            0x0018 : \"Flash did not fire, auto mode\",\n            0x0019 : \"Flash fired, auto mode\",\n            0x001D : \"Flash fired, auto mode, return light not detected\",\n            0x001F : \"Flash fired, auto mode, return light detected\",\n            0x0020 : \"No flash function\",\n            0x0041 : \"Flash fired, red-eye reduction mode\",\n            0x0045 : \"Flash fired, red-eye reduction mode, return light not detected\",\n            0x0047 : \"Flash fired, red-eye reduction mode, return light detected\",\n            0x0049 : \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n            0x004D : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n            0x004F : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n            0x0059 : \"Flash fired, auto mode, red-eye reduction mode\",\n            0x005D : \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n            0x005F : \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n        },\n        SensingMethod : {\n            1 : \"Not defined\",\n            2 : \"One-chip color area sensor\",\n            3 : \"Two-chip color area sensor\",\n            4 : \"Three-chip color area sensor\",\n            5 : \"Color sequential area sensor\",\n            7 : \"Trilinear sensor\",\n            8 : \"Color sequential linear sensor\"\n        },\n        SceneCaptureType : {\n            0 : \"Standard\",\n            1 : \"Landscape\",\n            2 : \"Portrait\",\n            3 : \"Night scene\"\n        },\n        SceneType : {\n            1 : \"Directly photographed\"\n        },\n        CustomRendered : {\n            0 : \"Normal process\",\n            1 : \"Custom process\"\n        },\n        WhiteBalance : {\n            0 : \"Auto white balance\",\n            1 : \"Manual white balance\"\n        },\n        GainControl : {\n            0 : \"None\",\n            1 : \"Low gain up\",\n            2 : \"High gain up\",\n            3 : \"Low gain down\",\n            4 : \"High gain down\"\n        },\n        Contrast : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        Saturation : {\n            0 : \"Normal\",\n            1 : \"Low saturation\",\n            2 : \"High saturation\"\n        },\n        Sharpness : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        SubjectDistanceRange : {\n            0 : \"Unknown\",\n            1 : \"Macro\",\n            2 : \"Close view\",\n            3 : \"Distant view\"\n        },\n        FileSource : {\n            3 : \"DSC\"\n        },\n\n        Components : {\n            0 : \"\",\n            1 : \"Y\",\n            2 : \"Cb\",\n            3 : \"Cr\",\n            4 : \"R\",\n            5 : \"G\",\n            6 : \"B\"\n        }\n    };\n\n    function addEvent(element, event, handler) {\n        if (element.addEventListener) {\n            element.addEventListener(event, handler, false);\n        } else if (element.attachEvent) {\n            element.attachEvent(\"on\" + event, handler);\n        }\n    }\n\n    function imageHasData(img) {\n        return !!(img.exifdata);\n    }\n\n\n    function base64ToArrayBuffer(base64, contentType) {\n        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n        base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n        var binary = atob(base64);\n        var len = binary.length;\n        var buffer = new ArrayBuffer(len);\n        var view = new Uint8Array(buffer);\n        for (var i = 0; i < len; i++) {\n            view[i] = binary.charCodeAt(i);\n        }\n        return buffer;\n    }\n\n    function objectURLToBlob(url, callback) {\n        var http = new XMLHttpRequest();\n        http.open(\"GET\", url, true);\n        http.responseType = \"blob\";\n        http.onload = function(e) {\n            if (this.status == 200 || this.status === 0) {\n                callback(this.response);\n            }\n        };\n        http.send();\n    }\n\n    function getImageData(img, callback) {\n        function handleBinaryFile(binFile) {\n            var data = findEXIFinJPEG(binFile);\n            var iptcdata = findIPTCinJPEG(binFile);\n            img.exifdata = data || {};\n            img.iptcdata = iptcdata || {};\n            if (callback) {\n                callback.call(img);\n            }\n        }\n\n        if (img.src) {\n            if (/^data\\:/i.test(img.src)) { // Data URI\n                var arrayBuffer = base64ToArrayBuffer(img.src);\n                handleBinaryFile(arrayBuffer);\n\n            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n                var fileReader = new FileReader();\n                fileReader.onload = function(e) {\n                    handleBinaryFile(e.target.result);\n                };\n                objectURLToBlob(img.src, function (blob) {\n                    fileReader.readAsArrayBuffer(blob);\n                });\n            } else {\n                var http = new XMLHttpRequest();\n                http.onload = function() {\n                    if (this.status == 200 || this.status === 0) {\n                        handleBinaryFile(http.response);\n                    } else {\n                        throw \"Could not load image\";\n                    }\n                    http = null;\n                };\n                http.open(\"GET\", img.src, true);\n                http.responseType = \"arraybuffer\";\n                http.send(null);\n            }\n        } else if (window.FileReader && (img instanceof window.Blob || img instanceof window.File)) {\n            var fileReader = new FileReader();\n            fileReader.onload = function(e) {\n                if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n                handleBinaryFile(e.target.result);\n            };\n\n            fileReader.readAsArrayBuffer(img);\n        }\n    }\n\n    function findEXIFinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            marker;\n\n        while (offset < length) {\n            if (dataView.getUint8(offset) != 0xFF) {\n                if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n                return false; // not a valid marker, something is wrong\n            }\n\n            marker = dataView.getUint8(offset + 1);\n            if (debug) console.log(marker);\n\n            // we could implement handling for other markers here,\n            // but we're only looking for 0xFFE1 for EXIF data\n\n            if (marker == 225) {\n                if (debug) console.log(\"Found 0xFFE1 marker\");\n\n                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n                // offset += 2 + file.getShortAt(offset+2, true);\n\n            } else {\n                offset += 2 + dataView.getUint16(offset+2);\n            }\n\n        }\n\n    }\n\n    function findIPTCinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength;\n\n\n        var isFieldSegmentStart = function(dataView, offset){\n            return (\n                dataView.getUint8(offset) === 0x38 &&\n                dataView.getUint8(offset+1) === 0x42 &&\n                dataView.getUint8(offset+2) === 0x49 &&\n                dataView.getUint8(offset+3) === 0x4D &&\n                dataView.getUint8(offset+4) === 0x04 &&\n                dataView.getUint8(offset+5) === 0x04\n            );\n        };\n\n        while (offset < length) {\n\n            if ( isFieldSegmentStart(dataView, offset )){\n\n                // Get the length of the name header (which is padded to an even number of bytes)\n                var nameHeaderLength = dataView.getUint8(offset+7);\n                if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n                // Check for pre photoshop 6 format\n                if(nameHeaderLength === 0) {\n                    // Always 4\n                    nameHeaderLength = 4;\n                }\n\n                var startOffset = offset + 8 + nameHeaderLength;\n                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n                return readIPTCData(file, startOffset, sectionLength);\n\n                break;\n\n            }\n\n\n            // Not the marker, continue searching\n            offset++;\n\n        }\n\n    }\n    var IptcFieldMap = {\n        0x78 : 'caption',\n        0x6E : 'credit',\n        0x19 : 'keywords',\n        0x37 : 'dateCreated',\n        0x50 : 'byline',\n        0x55 : 'bylineTitle',\n        0x7A : 'captionWriter',\n        0x69 : 'headline',\n        0x74 : 'copyright',\n        0x0F : 'category'\n    };\n    function readIPTCData(file, startOffset, sectionLength){\n        var dataView = new DataView(file);\n        var data = {};\n        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n        var segmentStartPos = startOffset;\n        while(segmentStartPos < startOffset+sectionLength) {\n            if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n                segmentType = dataView.getUint8(segmentStartPos+2);\n                if(segmentType in IptcFieldMap) {\n                    dataSize = dataView.getInt16(segmentStartPos+3);\n                    segmentSize = dataSize + 5;\n                    fieldName = IptcFieldMap[segmentType];\n                    fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n                    // Check if we already stored a value with this name\n                    if(data.hasOwnProperty(fieldName)) {\n                        // Value already stored with this name, create multivalue field\n                        if(data[fieldName] instanceof Array) {\n                            data[fieldName].push(fieldValue);\n                        }\n                        else {\n                            data[fieldName] = [data[fieldName], fieldValue];\n                        }\n                    }\n                    else {\n                        data[fieldName] = fieldValue;\n                    }\n                }\n\n            }\n            segmentStartPos++;\n        }\n        return data;\n    }\n\n\n\n    function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n        var entries = file.getUint16(dirStart, !bigEnd),\n            tags = {},\n            entryOffset, tag,\n            i;\n\n        for (i=0;i<entries;i++) {\n            entryOffset = dirStart + i*12 + 2;\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n        }\n        return tags;\n    }\n\n\n    function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n        var type = file.getUint16(entryOffset+2, !bigEnd),\n            numValues = file.getUint32(entryOffset+4, !bigEnd),\n            valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n            offset,\n            vals, val, n,\n            numerator, denominator;\n\n        switch (type) {\n            case 1: // byte, 8-bit unsigned int\n            case 7: // undefined, 8-bit byte, value depending on field\n                if (numValues == 1) {\n                    return file.getUint8(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint8(offset + n);\n                    }\n                    return vals;\n                }\n\n            case 2: // ascii, 8-bit byte\n                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                return getStringFromDB(file, offset, numValues-1);\n\n            case 3: // short, 16 bit int\n                if (numValues == 1) {\n                    return file.getUint16(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 4: // long, 32 bit int\n                if (numValues == 1) {\n                    return file.getUint32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 5:    // rational = two long values, first is numerator, second is denominator\n                if (numValues == 1) {\n                    numerator = file.getUint32(valueOffset, !bigEnd);\n                    denominator = file.getUint32(valueOffset+4, !bigEnd);\n                    val = new Number(numerator / denominator);\n                    val.numerator = numerator;\n                    val.denominator = denominator;\n                    return val;\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n                        denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n                        vals[n] = new Number(numerator / denominator);\n                        vals[n].numerator = numerator;\n                        vals[n].denominator = denominator;\n                    }\n                    return vals;\n                }\n\n            case 9: // slong, 32 bit signed int\n                if (numValues == 1) {\n                    return file.getInt32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 10: // signed rational, two slongs, first is numerator, second is denominator\n                if (numValues == 1) {\n                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n                    }\n                    return vals;\n                }\n        }\n    }\n\n    function getStringFromDB(buffer, start, length) {\n        var outstr = \"\";\n        for (n = start; n < start+length; n++) {\n            outstr += String.fromCharCode(buffer.getUint8(n));\n        }\n        return outstr;\n    }\n\n    function readEXIFData(file, start) {\n        if (getStringFromDB(file, start, 4) != \"Exif\") {\n            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n            return false;\n        }\n\n        var bigEnd,\n            tags, tag,\n            exifData, gpsData,\n            tiffOffset = start + 6;\n\n        // test for TIFF validity and endianness\n        if (file.getUint16(tiffOffset) == 0x4949) {\n            bigEnd = false;\n        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n            bigEnd = true;\n        } else {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n            return false;\n        }\n\n        if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n            return false;\n        }\n\n        var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\n        if (firstIFDOffset < 0x00000008) {\n            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset+4, !bigEnd));\n            return false;\n        }\n\n        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n        if (tags.ExifIFDPointer) {\n            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n            for (tag in exifData) {\n                switch (tag) {\n                    case \"LightSource\" :\n                    case \"Flash\" :\n                    case \"MeteringMode\" :\n                    case \"ExposureProgram\" :\n                    case \"SensingMethod\" :\n                    case \"SceneCaptureType\" :\n                    case \"SceneType\" :\n                    case \"CustomRendered\" :\n                    case \"WhiteBalance\" :\n                    case \"GainControl\" :\n                    case \"Contrast\" :\n                    case \"Saturation\" :\n                    case \"Sharpness\" :\n                    case \"SubjectDistanceRange\" :\n                    case \"FileSource\" :\n                        exifData[tag] = StringValues[tag][exifData[tag]];\n                        break;\n\n                    case \"ExifVersion\" :\n                    case \"FlashpixVersion\" :\n                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                        break;\n\n                    case \"ComponentsConfiguration\" :\n                        exifData[tag] =\n                            StringValues.Components[exifData[tag][0]] +\n                            StringValues.Components[exifData[tag][1]] +\n                            StringValues.Components[exifData[tag][2]] +\n                            StringValues.Components[exifData[tag][3]];\n                        break;\n                }\n                tags[tag] = exifData[tag];\n            }\n        }\n\n        if (tags.GPSInfoIFDPointer) {\n            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n            for (tag in gpsData) {\n                switch (tag) {\n                    case \"GPSVersionID\" :\n                        gpsData[tag] = gpsData[tag][0] +\n                            \".\" + gpsData[tag][1] +\n                            \".\" + gpsData[tag][2] +\n                            \".\" + gpsData[tag][3];\n                        break;\n                }\n                tags[tag] = gpsData[tag];\n            }\n        }\n\n        return tags;\n    }\n\n    EXIF.getData = function(img, callback) {\n        if ((img instanceof Image || img instanceof HTMLImageElement) && !img.complete) return false;\n\n        if (!imageHasData(img)) {\n            getImageData(img, callback);\n        } else {\n            if (callback) {\n                callback.call(img);\n            }\n        }\n        return true;\n    }\n\n    EXIF.getTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.exifdata[tag];\n    }\n\n    EXIF.getAllTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.exifdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n\n    EXIF.pretty = function(img) {\n        if (!imageHasData(img)) return \"\";\n        var a,\n            data = img.exifdata,\n            strPretty = \"\";\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                if (typeof data[a] == \"object\") {\n                    if (data[a] instanceof Number) {\n                        strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n                    } else {\n                        strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n                    }\n                } else {\n                    strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n                }\n            }\n        }\n        return strPretty;\n    }\n\n    EXIF.readFromBinaryFile = function(file) {\n        return findEXIFinJPEG(file);\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        define('exif-js', [], function() {\n            return EXIF;\n        });\n    }\n}.call(this));\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/exif-js/exif.js\n ** module id = 8\n ** module chunks = 0\n **/","var jade = require(\"/Users/creimers/Projekte/ng-image-crop/node_modules/jade/lib/runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"cropper\\\"></div><div layout=\\\"row\\\" layout-align=\\\"end\\\"><md-button ng-click=\\\"$ctrl.onCancel()\\\" class=\\\"md-primary\\\">abbrechen</md-button><span flex></span><md-button ng-click=\\\"$ctrl.saveCrop()\\\" class=\\\"md-accent\\\">anwenden</md-button></div>\");;return buf.join(\"\");\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/template.jade\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/jade/lib/runtime.js\n ** module id = 10\n ** module chunks = 0\n **/"],"sourceRoot":""}