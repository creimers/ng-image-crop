!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ngImageCrop",[],t):"object"==typeof exports?exports.ngImageCrop=t():e.ngImageCrop=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(1);var r=n(5),a=n(8),s="ngImageCrop";t["default"]=s;var l=angular.module(s,[]),c=function(){function e(t,n,i,r,s){o(this,e),this.$document=n,this.$element=i,this.$scope=t,this.$timeout=r,this.$window=s,this.$window.EXIF=a,this.initialized=!1,this._initCroppie()}return i(e,[{key:"saveCrop",value:function(){var e=this;this.c.result({type:"canvas",quality:this.options.result.quality,size:{width:this.options.result.width},format:this.options.result.format}).then(function(t){e.$scope.$apply(function(){var n=/^data:[a-z]+\/[a-z]+;base64,(.+)/,o=n.exec(t),i=e._b64ToBlob(o[o.length-1]);e.onApply({image:i})})})}},{key:"_bindImage",value:function(){var e=this,t=new FileReader;t.onload=function(){e.c.bind(t.result)},t.readAsDataURL(this._originalImage)}},{key:"_initCroppie",value:function(){this.c=new r(this.$element.find(".cropper")[0],this.options.croppie),this._originalImage&&this._bindImage()}},{key:"_b64ToBlob",value:function(e){for(var t=atob(e),n=[],o=this._originalImage.type,i=512,r=0;r<t.length;r+=i){for(var a=t.slice(r,r+i),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var c=new Uint8Array(s);n.push(c)}var u=new Blob(n,{type:o}),d=this.options.result.width,p=this.options.result.height,f=this.options.result.quality;return u.name=d+"_"+p+"_"+f+"_"+this._originalImage.name,u}},{key:"originalImage",set:function(e){this._originalImage=e,void 0!==this.c&&this._bindImage()},get:function(){return this._originalImage}}]),e}();c.$inject=["$scope","$document","$element","$timeout","$window"];var u=function d(){o(this,d),this.restrict="E",this.scope={originalImage:"<",options:"<",onApply:"&",onCancel:"&"},this.bindToController=!0,this.controller=c,this.controllerAs="$ctrl",this.template=n(!function(){var e=new Error('Cannot find module "./template.jade"');throw e.code="MODULE_NOT_FOUND",e}())()};l.directive("imageCrop",function(){return new u}),l.exports=t["default"]},function(e,t,n){var o=n(2);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".croppie-container{width:100%;height:100%}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1;width:100%;height:100%}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 2000px 2000px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-original-image{display:none}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:15px auto;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.croppie-container .cr-image,.croppie-container .cr-overlay,.croppie-container .cr-viewport{-webkit-transform:translateZ(0);transform:translateZ(0)}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:1px}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'\\21BA'}.cr-rotate-r i:before{content:'\\21BB'}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=f[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(c(o.parts[r],t))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(c(o.parts[r],t));f[o.id]={id:o.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],a=i[1],s=i[2],l=i[3],c={css:a,media:s,sourceMap:l};n[r]?n[r].parts.push(c):t.push(n[r]={id:r,parts:[c]})}return t}function r(e,t){var n=g(),o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function c(e,t){var n,o,i;if(t.singleton){var r=w++;n=v||(v=s(t)),o=u.bind(null,n,r,!1),i=u.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),o=p.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),o=d.bind(null,n),i=function(){a(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function u(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function d(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,w=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return o(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var s=n[a],l=f[s.id];l.refs--,r.push(l)}if(e){var c=i(e);o(c,t)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var o,i,r;(function(n,a){!function(n,a){i=[t],o=a,r="function"==typeof o?o.apply(t,i):o,!(void 0!==r&&(e.exports=r))}(this,function(t){function o(e){if(e in Y)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=X.length;n--;)if(e=X[n]+t,e in Y)return e}function i(e,t){e=e||{};for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},i(e[n],t[n])):e[n]=t[n];return e}function r(e,t,n){var o;return function(){var i=this,r=arguments,a=function(){o=null,n||e.apply(i,r)},s=n&&!o;clearTimeout(o),o=setTimeout(a,t),s&&e.apply(i,r)}}function s(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function l(e,t,n){if("string"==typeof t){var o=t;t={},t[o]=n}for(var i in t)e.style[i]=t[i]}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function d(e){return parseInt(e,10)}function p(e,t,n){var o,i=t||new Image;return i.src===e?o=new Promise(function(e,t){e(i)}):(o=new Promise(function(t,o){n&&"http"===e.substring(0,4).toLowerCase()&&i.setAttribute("crossOrigin","anonymous"),i.onload=function(){setTimeout(function(){t(i)},1)}}),i.src=e),i.style.opacity=0,o}function f(e,t){a||t(0),EXIF.getData(e,function(){var e=EXIF.getTag(this,"Orientation");t(e)})}function h(e,t,n){var o=t.width,i=t.height,r=e.getContext("2d");switch(e.width=t.width,e.height=t.height,r.save(),n){case 2:r.translate(o,0),r.scale(-1,1);break;case 3:r.translate(o,i),r.rotate(180*Math.PI/180);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:e.width=i,e.height=o,r.rotate(90*Math.PI/180),r.scale(1,-1);break;case 6:e.width=i,e.height=o,r.rotate(90*Math.PI/180),r.translate(0,-i);break;case 7:e.width=i,e.height=o,r.rotate(-90*Math.PI/180),r.translate(-o,i),r.scale(1,-1);break;case 8:e.width=i,e.height=o,r.translate(0,o),r.rotate(-90*Math.PI/180)}r.drawImage(t,0,0,o,i),r.restore()}function m(){var e,t,n,o,i,r,a=this,s="croppie-container",u=a.options.viewport.type?"cr-vp-"+a.options.viewport.type:null;a.options.useCanvas=a.options.enableOrientation||g.call(a),a.data={},a.elements={},e=a.elements.boundary=document.createElement("div"),n=a.elements.viewport=document.createElement("div"),t=a.elements.img=document.createElement("img"),o=a.elements.overlay=document.createElement("div"),a.options.useCanvas?(a.elements.canvas=document.createElement("canvas"),a.elements.preview=a.elements.canvas):a.elements.preview=a.elements.img,c(e,"cr-boundary"),i=a.options.boundary.width,r=a.options.boundary.height,l(e,{width:i+(isNaN(i)?"":"px"),height:r+(isNaN(r)?"":"px")}),c(n,"cr-viewport"),u&&c(n,u),l(n,{width:a.options.viewport.width+"px",height:a.options.viewport.height+"px"}),n.setAttribute("tabindex",0),c(a.elements.preview,"cr-image"),c(o,"cr-overlay"),a.element.appendChild(e),e.appendChild(a.elements.preview),e.appendChild(n),e.appendChild(o),c(a.element,s),a.options.customClass&&c(a.element,a.options.customClass),C.call(this),a.options.enableZoom&&w.call(a)}function g(){return this.options.enableExif&&a}function v(e){if(this.options.enableZoom){var t=this.elements.zoomer,n=B(e,4);t.value=Math.max(t.min,Math.min(t.max,n))}}function w(){function e(){y.call(n,{value:parseFloat(i.value),origin:new V(n.elements.preview),viewportRect:n.elements.viewport.getBoundingClientRect(),transform:q.parse(n.elements.preview)})}function t(t){var o,i;o=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,i=n._currentZoom+o*n._currentZoom,t.preventDefault(),v.call(n,i),e.call(n)}var n=this,o=n.elements.zoomerWrap=document.createElement("div"),i=n.elements.zoomer=document.createElement("input");c(o,"cr-slider-wrap"),c(i,"cr-slider"),i.type="range",i.step="0.0001",i.value=1,i.style.display=n.options.showZoomer?"":"none",n.element.appendChild(o),o.appendChild(i),n._currentZoom=1,n.elements.zoomer.addEventListener("input",e),n.elements.zoomer.addEventListener("change",e),n.options.mouseWheelZoom&&(n.elements.boundary.addEventListener("mousewheel",t),n.elements.boundary.addEventListener("DOMMouseScroll",t))}function y(e){function t(){var e={};e[Z]=o.toString(),e[z]=r.toString(),l(n.elements.preview,e)}var n=this,o=e?e.transform:q.parse(n.elements.preview),i=e?e.viewportRect:n.elements.viewport.getBoundingClientRect(),r=e?e.origin:new V(n.elements.preview);if(n._currentZoom=e?e.value:n._currentZoom,o.scale=n._currentZoom,t(),n.options.enforceBoundary){var a=b.call(n,i),s=a.translate,c=a.origin;o.x>=s.maxX&&(r.x=c.minX,o.x=s.maxX),o.x<=s.minX&&(r.x=c.maxX,o.x=s.minX),o.y>=s.maxY&&(r.y=c.minY,o.y=s.maxY),o.y<=s.minY&&(r.y=c.maxY,o.y=s.minY)}t(),J.call(n),I.call(n)}function b(e){var t=this,n=t._currentZoom,o=e.width,i=e.height,r=t.elements.boundary.clientWidth/2,a=t.elements.boundary.clientHeight/2,s=t.elements.preview.getBoundingClientRect(),l=s.width,c=s.height,u=o/2,d=i/2,p=(u/n-r)*-1,f=p-(l*(1/n)-o*(1/n)),h=(d/n-a)*-1,m=h-(c*(1/n)-i*(1/n)),g=1/n*u,v=l*(1/n)-g,w=1/n*d,y=c*(1/n)-w;return{translate:{maxX:p,minX:f,maxY:h,minY:m},origin:{maxX:v,minX:g,maxY:y,minY:w}}}function x(){var e=this,t=e._currentZoom,n=e.elements.preview.getBoundingClientRect(),o=e.elements.viewport.getBoundingClientRect(),i=q.parse(e.elements.preview.style[Z]),r=new V(e.elements.preview),a=o.top-n.top+o.height/2,s=o.left-n.left+o.width/2,c={},u={};c.y=a/t,c.x=s/t,u.y=(c.y-r.y)*(1-t),u.x=(c.x-r.x)*(1-t),i.x-=u.x,i.y-=u.y;var d={};d[z]=c.x+"px "+c.y+"px",d[Z]=i.toString(),l(e.elements.preview,d)}function C(){function e(e,t){var n=f.elements.preview.getBoundingClientRect(),o=p.y+t,i=p.x+e;f.options.enforceBoundary?(d.top>n.top+t&&d.bottom<n.bottom+t&&(p.y=o),d.left>n.left+e&&d.right<n.right+e&&(p.x=i)):(p.y=o,p.x=i)}function t(e){function t(e){switch(e){case o:return[1,0];case i:return[0,1];case r:return[-1,0];case a:return[0,-1]}}var o=37,i=38,r=39,a=40;if(!e.shiftKey||e.keyCode!=i&&e.keyCode!=a){if(e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var s=t(e.keyCode);p=q.parse(f.elements.preview),document.body.style[W]="none",d=f.elements.viewport.getBoundingClientRect(),n(s)}}else{var l=0;l=e.keyCode==i?parseFloat(f.elements.zoomer.value,10)+parseFloat(f.elements.zoomer.step,10):parseFloat(f.elements.zoomer.value,10)-parseFloat(f.elements.zoomer.step,10),f.setZoom(l)}}function n(t){var n=t[0],o=t[1],i={};e(n,o),i[Z]=p.toString(),l(f.elements.preview,i),S.call(f),document.body.style[W]="",x.call(f),I.call(f),u=0}function o(e){if(e.preventDefault(),!h){if(h=!0,a=e.pageX,c=e.pageY,e.touches){var t=e.touches[0];a=t.pageX,c=t.pageY}p=q.parse(f.elements.preview),window.addEventListener("mousemove",i),window.addEventListener("touchmove",i),window.addEventListener("mouseup",r),window.addEventListener("touchend",r),document.body.style[W]="none",d=f.elements.viewport.getBoundingClientRect()}}function i(t){t.preventDefault();var n=t.pageX,o=t.pageY;if(t.touches){var i=t.touches[0];n=i.pageX,o=i.pageY}var r=n-a,d=o-c,h={};if("touchmove"==t.type&&t.touches.length>1){var m=t.touches[0],g=t.touches[1],w=Math.sqrt((m.pageX-g.pageX)*(m.pageX-g.pageX)+(m.pageY-g.pageY)*(m.pageY-g.pageY));u||(u=w/f._currentZoom);var y=w/u;return v.call(f,y),void s(f.elements.zoomer)}e(r,d),h[Z]=p.toString(),l(f.elements.preview,h),S.call(f),c=o,a=n}function r(){h=!1,window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),document.body.style[W]="",x.call(f),I.call(f),u=0}var a,c,u,d,p,f=this,h=!1;f.elements.overlay.addEventListener("mousedown",o),f.elements.viewport.addEventListener("keydown",t),f.elements.overlay.addEventListener("touchstart",o)}function S(){var e=this,t=e.elements.boundary.getBoundingClientRect(),n=e.elements.preview.getBoundingClientRect();l(e.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}function I(){var e,t=this,n=t.get();if(F.call(t))if(t.options.update.call(t,n),t.$)t.$(t.element).trigger("update",n);else{var e;window.CustomEvent?e=new CustomEvent("update",{detail:n}):(e=document.createEvent("CustomEvent"),e.initCustomEvent("update",!0,!0,n)),t.element.dispatchEvent(e)}}function F(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function E(){var e,t,n,o,i,r=this,a=0,c=1.5,u=1,d={},p=r.elements.preview,f=r.elements.zoomer,h=new q(0,0,u),m=new V,g=F.call(r);if(g&&!r.data.bound){if(r.data.bound=!0,d[Z]=h.toString(),d[z]=m.toString(),d.opacity=1,l(p,d),e=p.getBoundingClientRect(),t=r.elements.viewport.getBoundingClientRect(),n=r.elements.boundary.getBoundingClientRect(),r._originalImageWidth=e.width,r._originalImageHeight=e.height,r.options.enableZoom){r.options.enforceBoundary&&(o=t.width/e.width,i=t.height/e.height,a=Math.max(o,i)),a>=c&&(c=a+1),f.min=B(a,4),f.max=B(c,4);var w=Math.max(n.width/e.width,n.height/e.height);u=null!==r.data.boundZoom?r.data.boundZoom:w,v.call(r,u),s(f)}else r._currentZoom=u;h.scale=r._currentZoom,d[Z]=h.toString(),l(p,d),r.data.points.length?P.call(r,r.data.points):T.call(r),x.call(r),S.call(r)}}function P(e){if(4!=e.length)throw"Croppie - Invalid number of points supplied: "+e;var t=this,n=e[2]-e[0],o=t.elements.viewport.getBoundingClientRect(),i=t.elements.boundary.getBoundingClientRect(),r={left:o.left-i.left,top:o.top-i.top},a=o.width/n,s=e[1],c=e[0],u=-1*e[1]+r.top,d=-1*e[0]+r.left,p={};p[z]=c+"px "+s+"px",p[Z]=new q(d,u,a).toString(),l(t.elements.preview,p),v.call(t,a),t._currentZoom=a}function T(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),o=e.elements.boundary.getBoundingClientRect(),i=n.left-o.left,r=n.top-o.top,a=i-(t.width-n.width)/2,s=r-(t.height-n.height)/2,c=new q(a,s,e._currentZoom);l(e.elements.preview,Z,c.toString())}function R(e){var t=this,n=t.elements.canvas,o=t.elements.img,i=n.getContext("2d"),r=g.call(t),e=t.options.enableOrientation&&e;i.clearRect(0,0,n.width,n.height),n.width=o.width,n.height=o.height,r?f(o,function(t){h(n,o,d(t,10)),e&&h(n,o,e)}):e&&h(n,o,e)}function D(e){var t=this,n=e.points,o=d(n[0]),i=d(n[1]),r=n[2]-n[0],a=n[3]-n[1],s=e.circle,l=document.createElement("canvas"),c=l.getContext("2d"),u=r,p=a,f=0,h=0;return e.outputWidth&&e.outputHeight&&(u=e.outputWidth,p=e.outputHeight),l.width=u,l.height=p,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,u,p)),o<0&&(f=Math.abs(o),o=0),i<0&&(h=Math.abs(i),i=0),o+r>t._originalImageWidth&&(r=t._originalImageWidth-o,u=r),i+a>t._originalImageHeight&&(a=t._originalImageHeight-i,p=a),c.drawImage(this.elements.preview,o,i,r,a,f,h,u,p),s&&(c.fillStyle="#fff",c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(u/2,p/2,u/2,0,2*Math.PI,!0),c.closePath(),c.fill()),l}function L(e){var t=e.points,n=document.createElement("div"),o=document.createElement("img"),i=t[2]-t[0],r=t[3]-t[1];return c(n,"croppie-result"),n.appendChild(o),l(o,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),o.src=e.url,l(n,{width:i+"px",height:r+"px"}),n}function U(e){return D.call(this,e).toDataURL(e.format,e.quality)}function _(e){var t=this;return new Promise(function(n,o){D.call(t,e).toBlob(function(e){n(e)},e.format,e.quality)})}function k(e,t){var n,o=this,i=[],r=null;if("string"==typeof e)n=e,e={};else if(Array.isArray(e))i=e.slice();else{if("undefined"==typeof e&&o.data.url)return E.call(o),I.call(o),null;n=e.url,i=e.points||[],r="undefined"==typeof e.zoom?null:e.zoom}o.data.bound=!1,o.data.url=n||o.data.url,o.data.points=(i||o.data.points).map(function(e){return parseFloat(e)}),o.data.boundZoom=r;var a=p(n,o.elements.img,o.options.useCanvas);return a.then(function(){o.options.useCanvas&&(o.elements.img.exifdata=null,R.call(o,e.orientation||1)),E.call(o),I.call(o),t&&t()}),a}function B(e,t){return parseFloat(e).toFixed(t||0)}function M(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),o=n.left-t.left,i=n.top-t.top,r=(n.width-e.elements.viewport.offsetWidth)/2,a=(n.height-e.elements.viewport.offsetHeight)/2,s=o+e.elements.viewport.offsetWidth+r,l=i+e.elements.viewport.offsetHeight+a,c=e._currentZoom;(c===1/0||isNaN(c))&&(c=1);var u=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return o=Math.max(u,o/c),i=Math.max(u,i/c),s=Math.max(u,s/c),l=Math.max(u,l/c),{points:[B(o),B(i),B(s),B(l)],zoom:c}}function A(e){var t,n=this,o=M.call(n),r=i(K,i({},e)),a="string"==typeof e?e:r.type||"base64",s=r.size,l=r.format,c=r.quality,u=r.backgroundColor,d="boolean"==typeof r.circle?r.circle:"circle"===n.options.viewport.type,p=n.elements.viewport.getBoundingClientRect(),f=p.width/p.height;return"viewport"===s?(o.outputWidth=p.width,o.outputHeight=p.height):"object"==typeof s&&(s.width&&s.height?(o.outputWidth=s.width,o.outputHeight=s.height):s.width?(o.outputWidth=s.width,o.outputHeight=s.width/f):s.height&&(o.outputWidth=s.height*f,o.outputHeight=s.height)),Q.indexOf(l)>-1&&(o.format="image/"+l,o.quality=c),o.circle=d,o.url=n.data.url,o.backgroundColor=u,t=new Promise(function(e,t){switch(a.toLowerCase()){case"rawcanvas":e(D.call(n,o));break;case"canvas":case"base64":e(U.call(n,o));break;case"blob":_.call(n,o).then(e);break;default:e(L.call(n,o))}})}function G(){E.call(this)}function N(e){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var t=this,n=t.elements.canvas,o=(t.elements.img,document.createElement("canvas")),i=1;o.width=n.width,o.height=n.height;var r=o.getContext("2d");r.drawImage(n,0,0),90!==e&&e!==-270||(i=6),e!==-90&&270!==e||(i=8),180!==e&&e!==-180||(i=3),h(n,o,i),y.call(t)}function j(){var e=this;e.element.removeChild(e.elements.boundary),u(e.element,"croppie-container"),e.options.enableZoom&&e.element.removeChild(e.elements.zoomerWrap),delete e.elements}function O(e,t){if(this.element=e,this.options=i(i({},O.defaults),t),"img"===this.element.tagName.toLowerCase()){var n=this.element;c(n,"cr-original-image");var o=document.createElement("div");this.element.parentNode.appendChild(o),o.appendChild(n),this.element=o,this.options.url=this.options.url||n.src}if(m.call(this),this.options.url){var r={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,k.call(this,r)}}"function"!=typeof Promise&&/*! promise-polyfill 3.1.0 */
!function(t){function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,o(a,this),o(s,this))}function r(e){var t=this;return null===this._state?void this._deferreds.push(e):void p(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var o;try{o=n(t._value)}catch(i){return void e.reject(i)}e.resolve(o)})}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void u(o(t,e),o(a,this),o(s,this))}this._state=!0,this._value=e,l.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;t>e;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=o}function u(e,t,n){var o=!1;try{e(function(e){o||(o=!0,t(e))},function(e){o||(o=!0,n(e))})}catch(i){if(o)return;o=!0,n(i)}}var d=setTimeout,p="function"==typeof n&&n||function(e){d(e,1)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i(function(o,i){r.call(n,new c(e,t,o,i))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(t,n){function o(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(r,e)},n)}e[r]=a,0===--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var o=0,i=e.length;i>o;o++)e[o].then(t,n)})},i._setImmediateFn=function(e){p=e},"undefined"!=typeof e&&e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this),"function"!=typeof window.CustomEvent&&!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var o=atob(this.toDataURL(t,n).split(",")[1]),i=o.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=o.charCodeAt(a);e(new Blob([r],{type:t||"image/png"}))}});var z,Z,W,X=["Webkit","Moz","ms"],Y=document.createElement("div").style;Z=o("transform"),z=o("transformOrigin"),W=o("userSelect");var H="translate3d",$=", 0px",q=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};q.parse=function(e){return e.style?q.parse(e.style[Z]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?q.fromMatrix(e):q.fromString(e)},q.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new q(d(t[4]),d(t[5]),parseFloat(t[0]))},q.fromString=function(e){var t=e.split(") "),n=t[0].substring(H.length+1).split(","),o=t.length>1?t[1].substring(6):1,i=n.length>1?n[0]:0,r=n.length>1?n[1]:0;return new q(i,r,o)},q.prototype.toString=function(){return H+"("+this.x+"px, "+this.y+"px"+$+") scale("+this.scale+")"};var V=function(e){if(!e||!e.style[z])return this.x=0,void(this.y=0);var t=e.style[z].split(" ");this.x=parseFloat(t[0]),this.y=parseFloat(t[1])};V.prototype.toString=function(){return this.x+"px "+this.y+"px"};var J=r(S,500),K={type:"canvas",format:"png",quality:1},Q=["jpeg","webp","png"];if(window.jQuery){var ee=window.jQuery;ee.fn.croppie=function(e){var t=typeof e;if("string"===t){var n=Array.prototype.slice.call(arguments,1),o=ee(this).data("croppie");return"get"===e?o.get():"result"===e?o.result.apply(o,n):"bind"===e?o.bind.apply(o,n):this.each(function(){var t=ee(this).data("croppie");if(t){var o=t[e];if(!ee.isFunction(o))throw"Croppie "+e+" method not found";o.apply(t,n),"destroy"===e&&ee(this).removeData("croppie")}})}return this.each(function(){var t=new O(this,e);t.$=ee,ee(this).data("croppie",t)})}}O.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}},i(O.prototype,{bind:function(e,t){return k.call(this,e,t)},get:function(){return M.call(this)},result:function(e){return A.call(this,e)},refresh:function(){return G.call(this)},setZoom:function(e){v.call(this,e),s(this.elements.zoomer)},rotate:function(e){N.call(this,e)},destroy:function(){return j.call(this)}}),t.Croppie=window.Croppie=O,"object"==typeof e&&e.exports&&(e.exports=O)})}).call(t,n(6).setImmediate,n(8))},function(e,t,n){(function(e,o){function i(e,t){this._id=e,this._clearFn=t}var r=n(7).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,o=!(arguments.length<2)&&s.call(arguments,1);return l[n]=!0,r(function(){l[n]&&(o?e.apply(null,o):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof o?o:function(e){delete l[e]}}).call(t,n(6).setImmediate,n(6).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?h=f.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(f=h,h=[];++g<t;)f&&f[g].run();g=-1,t=h.length}f=null,m=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var f,h=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,o){var i,r;(function(){function o(e){return!!e.exifdata}function a(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),o=n.length,i=new ArrayBuffer(o),r=new Uint8Array(i),a=0;a<o;a++)r[a]=n.charCodeAt(a);return i}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function l(e,t){function n(n){var o=c(n),i=u(n);e.exifdata=o||{},e.iptcdata=i||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var o=a(e.src);n(o)}else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){n(e.target.result)},s(e.src,function(e){i.readAsArrayBuffer(e)})}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var i=new FileReader;i.onload=function(e){g&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},i.readAsArrayBuffer(e)}}function c(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var n,o=2,i=e.byteLength;o<i;){if(255!=t.getUint8(o))return g&&console.log("Not a valid marker at offset "+o+", found: "+t.getUint8(o)),!1;if(n=t.getUint8(o+1),g&&console.log(n),225==n)return g&&console.log("Found 0xFFE1 marker"),m(t,o+4,t.getUint16(o+2)-2);o+=2+t.getUint16(o+2)}}function u(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var n=2,o=e.byteLength,i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};n<o;){if(i(t,n)){var r=t.getUint8(n+7);r%2!==0&&(r+=1),0===r&&(r=4);var a=n+8+r,s=t.getUint16(n+6+r);return d(e,a,s)}n++}}function d(e,t,n){for(var o,i,r,a,s,l=new DataView(e),c={},u=t;u<t+n;)28===l.getUint8(u)&&2===l.getUint8(u+1)&&(a=l.getUint8(u+2),a in C&&(r=l.getInt16(u+3),s=r+5,i=C[a],o=h(l,u+5,r),c.hasOwnProperty(i)?c[i]instanceof Array?c[i].push(o):c[i]=[c[i],o]:c[i]=o)),u++;return c}function p(e,t,n,o,i){var r,a,s,l=e.getUint16(n,!i),c={};for(s=0;s<l;s++)r=n+12*s+2,a=o[e.getUint16(r,!i)],!a&&g&&console.log("Unknown tag: "+e.getUint16(r,!i)),c[a]=f(e,r,t,n,i);return c}function f(e,t,n,o,i){var r,a,s,l,c,u,d=e.getUint16(t+2,!i),p=e.getUint32(t+4,!i),f=e.getUint32(t+8,!i)+n;switch(d){case 1:case 7:if(1==p)return e.getUint8(t+8,!i);for(r=p>4?f:t+8,a=[],l=0;l<p;l++)a[l]=e.getUint8(r+l);return a;case 2:return r=p>4?f:t+8,h(e,r,p-1);case 3:if(1==p)return e.getUint16(t+8,!i);for(r=p>2?f:t+8,a=[],l=0;l<p;l++)a[l]=e.getUint16(r+2*l,!i);return a;case 4:if(1==p)return e.getUint32(t+8,!i);for(a=[],l=0;l<p;l++)a[l]=e.getUint32(f+4*l,!i);return a;case 5:if(1==p)return c=e.getUint32(f,!i),u=e.getUint32(f+4,!i),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(a=[],l=0;l<p;l++)c=e.getUint32(f+8*l,!i),u=e.getUint32(f+4+8*l,!i),a[l]=new Number(c/u),a[l].numerator=c,a[l].denominator=u;return a;case 9:if(1==p)return e.getInt32(t+8,!i);for(a=[],l=0;l<p;l++)a[l]=e.getInt32(f+4*l,!i);return a;case 10:if(1==p)return e.getInt32(f,!i)/e.getInt32(f+4,!i);for(a=[],l=0;l<p;l++)a[l]=e.getInt32(f+8*l,!i)/e.getInt32(f+4+8*l,!i);return a}}function h(e,t,o){var i="";for(n=t;n<t+o;n++)i+=String.fromCharCode(e.getUint8(n));return i}function m(e,t){if("Exif"!=h(e,t,4))return g&&console.log("Not valid EXIF data! "+h(e,t,4)),!1;var n,o,i,r,a,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return g&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return g&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(s+4,!n);if(l<8)return g&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(o=p(e,s,s+l,y,n),o.ExifIFDPointer){r=p(e,s,s+o.ExifIFDPointer,w,n);for(i in r){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":r[i]=x[i][r[i]];break;case"ExifVersion":case"FlashpixVersion":r[i]=String.fromCharCode(r[i][0],r[i][1],r[i][2],r[i][3]);break;case"ComponentsConfiguration":r[i]=x.Components[r[i][0]]+x.Components[r[i][1]]+x.Components[r[i][2]]+x.Components[r[i][3]]}o[i]=r[i]}}if(o.GPSInfoIFDPointer){a=p(e,s,s+o.GPSInfoIFDPointer,b,n);for(i in a){switch(i){case"GPSVersionID":a[i]=a[i][0]+"."+a[i][1]+"."+a[i][2]+"."+a[i][3]}o[i]=a[i]}}return o}var g=!1,v=function(e){return e instanceof v?e:this instanceof v?void(this.EXIFwrapped=e):new v(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=v),t.EXIF=v;var w=v.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},y=v.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},b=v.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},x=v.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},C={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};v.getData=function(e,t){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(o(e)?t&&t.call(e):l(e,t),!0)},v.getTag=function(e,t){if(o(e))return e.exifdata[t]},v.getAllTags=function(e){if(!o(e))return{};var t,n=e.exifdata,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},v.pretty=function(e){if(!o(e))return"";var t,n=e.exifdata,i="";for(t in n)n.hasOwnProperty(t)&&(i+="object"==typeof n[t]?n[t]instanceof Number?t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":t+" : ["+n[t].length+" values]\r\n":t+" : "+n[t]+"\r\n");return i},v.readFromBinaryFile=function(e){return c(e)},i=[],r=function(){return v}.apply(t,i),!(void 0!==r&&(e.exports=r))}).call(this)}])});
//# sourceMappingURL=ngImageCrop.min.js.map