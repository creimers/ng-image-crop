!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ngImageCrop",[],t):"object"==typeof exports?exports.ngImageCrop=t():e.ngImageCrop=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1);var o=n(5),a=n(8),s="ngImageCrop";t["default"]=s;var l=angular.module(s,[]),c=function(){function e(t,n,i,o,s){r(this,e),this.$document=n,this.$element=i,this.$scope=t,this.$timeout=o,this.$window=s,this.$window.EXIF=a,this.initialized=!1,this._initCroppie()}return i(e,[{key:"saveCrop",value:function(){var e=this;this.c.result("canvas").then(function(t){e.$scope.$apply(function(){var n=/^data:[a-z]+\/[a-z]+;base64,(.+)/,r=n.exec(t),i=e._b64ToBlob(r[r.length-1]);e.onApply({image:i})})})}},{key:"_bindImage",value:function(){var e=this,t=new FileReader;t.onload=function(){e.c.bind(t.result)},t.readAsDataURL(this._originalImage)}},{key:"_initCroppie",value:function(){this.c=new o(this.$element.find(".cropper")[0],this.options),this._originalImage&&this._bindImage()}},{key:"_b64ToBlob",value:function(e){for(var t=atob(e),n=[],r=this._originalImage.type,i=512,o=0;o<t.length;o+=i){for(var a=t.slice(o,o+i),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var c=new Uint8Array(s);n.push(c)}var u=new Blob(n,{type:r}),d=this.c.options.viewport.width,p=this.c.options.viewport.height;return u.name=d+"_"+p+"_"+this._originalImage.name,u}},{key:"originalImage",set:function(e){this._originalImage=e,void 0!==this.c&&this._bindImage()},get:function(){return this._originalImage}}]),e}(),u=function d(){r(this,d),this.restrict="E",this.scope={originalImage:"<",options:"<",onApply:"&",onCancel:"&"},this.bindToController=!0,this.controller=c,this.controllerAs="$ctrl",this.template=n(9)()};l.directive("imageCrop",function(){return new u}),l.exports=t["default"]},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.id,r,""]]);n(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".croppie-container{padding:30px}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 0 899px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:0 auto;margin-top:25px;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:none}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.cr-slider::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower,.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd}.cr-slider:focus::-ms-fill-lower,.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:none}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'\\21BA'}.cr-rotate-r i:before{content:'\\21BB'}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],l=i[3],c={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function o(e,t){var n=g(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function c(e,t){var n,r,i;if(t.singleton){var o=w++;n=v||(v=s(t)),r=u.bind(null,n,o,!1),i=u.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=p.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=d.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function u(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,w=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=f[s.id];l.refs--,o.push(l)}if(e){var c=i(e);r(c,t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r,i,o;(function(n,a){!function(n,a){i=[t],r=a,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(this,function(t){function r(e){if(e in Y)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=X.length;n--;)if(e=X[n]+t,e in Y)return e}function i(e,t){e=e||{};for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},arguments.callee(e[n],t[n])):e[n]=t[n];return e}function o(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}function s(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function l(e,t,n){if("string"==typeof t){var r=t;t={},t[r]=n}for(var i in t)e.style[i]=t[i]}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function d(e,t){var n,r=t||new Image;return r.src===e?n=new Promise(function(e,t){e(r)}):(n=new Promise(function(t,n){"http"===e.substring(0,4).toLowerCase()&&r.setAttribute("crossOrigin","anonymous"),r.onload=function(){setTimeout(function(){t(r)},1)}}),r.src=e),r.style.opacity=0,n}function p(e,t){a||t(0),EXIF.getData(e,function(){var e=EXIF.getTag(this,"Orientation");t(e)})}function f(e,t,n){var r=t.width,i=t.height,o=e.getContext("2d");switch(e.width=t.width,e.height=t.height,o.save(),n){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,i),o.rotate(180*Math.PI/180);break;case 4:o.translate(0,i),o.scale(1,-1);break;case 5:e.width=i,e.height=r,o.rotate(90*Math.PI/180),o.scale(1,-1);break;case 6:e.width=i,e.height=r,o.rotate(90*Math.PI/180),o.translate(0,-i);break;case 7:e.width=i,e.height=r,o.rotate(-90*Math.PI/180),o.translate(-r,i),o.scale(1,-1);break;case 8:e.width=i,e.height=r,o.translate(0,r),o.rotate(-90*Math.PI/180)}o.drawImage(t,0,0,r,i),o.restore()}function h(){var e,t,n,r,i=this,o="croppie-container",a=i.options.viewport.type?"cr-vp-"+i.options.viewport.type:null;i.options.useCanvas=i.options.enableOrientation||m.call(i),i.data={},i.elements={},e=i.elements.boundary=document.createElement("div"),n=i.elements.viewport=document.createElement("div"),t=i.elements.img=document.createElement("img"),r=i.elements.overlay=document.createElement("div"),i.options.useCanvas?(i.elements.canvas=document.createElement("canvas"),i.elements.preview=i.elements.canvas):i.elements.preview=i.elements.img,c(e,"cr-boundary"),l(e,{width:i.options.boundary.width+"px",height:i.options.boundary.height+"px"}),c(n,"cr-viewport"),a&&c(n,a),l(n,{width:i.options.viewport.width+"px",height:i.options.viewport.height+"px"}),c(i.elements.preview,"cr-image"),c(r,"cr-overlay"),i.element.appendChild(e),e.appendChild(i.elements.preview),e.appendChild(n),e.appendChild(r),c(i.element,o),i.options.customClass&&c(i.element,i.options.customClass),x.call(this),i.options.enableZoom&&v.call(i)}function m(){return(this.options.enableExif||this.options.exif)&&a}function g(e){this.options.enableZoom&&(this.elements.zoomer.value=L(e,4))}function v(){function e(){w.call(n,{value:parseFloat(i.value),origin:new H(n.elements.preview),viewportRect:n.elements.viewport.getBoundingClientRect(),transform:Z.parse(n.elements.preview)})}function t(t){var r,i;r=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,i=n._currentZoom+r,t.preventDefault(),g.call(n,i),e()}var n=this,r=n.elements.zoomerWrap=document.createElement("div"),i=n.elements.zoomer=document.createElement("input");c(r,"cr-slider-wrap"),c(i,"cr-slider"),i.type="range",i.step="0.01",i.value=1,i.style.display=n.options.showZoomer?"":"none",n.element.appendChild(r),r.appendChild(i),n._currentZoom=1,n.elements.zoomer.addEventListener("input",e),n.elements.zoomer.addEventListener("change",e),n.options.mouseWheelZoom&&(n.elements.boundary.addEventListener("mousewheel",t),n.elements.boundary.addEventListener("DOMMouseScroll",t))}function w(e){var t=this,n=e?e.transform:Z.parse(t.elements.preview),r=e?e.viewportRect:t.elements.viewport.getBoundingClientRect(),i=e?e.origin:new H(t.elements.preview);if(t._currentZoom=e?e.value:t._currentZoom,n.scale=t._currentZoom,t.options.enforceBoundary){var o=y.call(t,r),a=o.translate,s=o.origin;n.x>=a.maxX&&(i.x=s.minX,n.x=a.maxX),n.x<=a.minX&&(i.x=s.maxX,n.x=a.minX),n.y>=a.maxY&&(i.y=s.minY,n.y=a.maxY),n.y<=a.minY&&(i.y=s.maxY,n.y=a.minY)}var c={};c[j]=n.toString(),c[O]=i.toString(),l(t.elements.preview,c),V.call(t),C.call(t)}function y(e){var t=this,n=t._currentZoom,r=e.width,i=e.height,o=t.options.boundary.width/2,a=t.options.boundary.height/2,s=t.elements.preview.getBoundingClientRect(),l=s.width,c=s.height,u=r/2,d=i/2,p=-1*(u/n-o),f=p-(l*(1/n)-r*(1/n)),h=-1*(d/n-a),m=h-(c*(1/n)-i*(1/n)),g=1/n*u,v=l*(1/n)-g,w=1/n*d,y=c*(1/n)-w;return{translate:{maxX:p,minX:f,maxY:h,minY:m},origin:{maxX:v,minX:g,maxY:y,minY:w}}}function b(){var e=this,t=e._currentZoom,n=e.elements.preview.getBoundingClientRect(),r=e.elements.viewport.getBoundingClientRect(),i=Z.parse(e.elements.preview.style[j]),o=new H(e.elements.preview),a=r.top-n.top+r.height/2,s=r.left-n.left+r.width/2,c={},u={};c.y=a/t,c.x=s/t,u.y=(c.y-o.y)*(1-t),u.x=(c.x-o.x)*(1-t),i.x-=u.x,i.y-=u.y;var d={};d[O]=c.x+"px "+c.y+"px",d[j]=i.toString(),l(e.elements.preview,d)}function x(){function e(e){if(e.preventDefault(),!u){if(u=!0,r=e.pageX,i=e.pageY,e.touches){var o=e.touches[0];r=o.pageX,i=o.pageY}transform=Z.parse(c.elements.preview),window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),document.body.style[N]="none",a=c.elements.viewport.getBoundingClientRect()}}function t(e){e.preventDefault();var t=e.pageX,n=e.pageY;if(e.touches){var u=e.touches[0];t=u.pageX,n=u.pageY}var d=t-r,p=n-i,f=c.elements.preview.getBoundingClientRect(),h=transform.y+p,m=transform.x+d,v={};if("touchmove"==e.type&&e.touches.length>1){var w=e.touches[0],y=e.touches[1],b=Math.sqrt((w.pageX-y.pageX)*(w.pageX-y.pageX)+(w.pageY-y.pageY)*(w.pageY-y.pageY));o||(o=b/c._currentZoom);var x=b/o;return g.call(c,x),void s(c.elements.zoomer)}c.options.enforceBoundary?(a.top>f.top+p&&a.bottom<f.bottom+p&&(transform.y=h),a.left>f.left+d&&a.right<f.right+d&&(transform.x=m)):(transform.y=h,transform.x=m),v[j]=transform.toString(),l(c.elements.preview,v),S.call(c),i=n,r=t}function n(){u=!1,window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),document.body.style[N]="",b.call(c),C.call(c),o=0}var r,i,o,a,c=this,u=!1;c.elements.overlay.addEventListener("mousedown",e),c.elements.overlay.addEventListener("touchstart",e)}function S(){var e=this,t=e.elements.boundary.getBoundingClientRect(),n=e.elements.preview.getBoundingClientRect();l(e.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}function C(){var e=this;I.call(e)&&e.options.update.call(e,e.get())}function I(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function F(){var e,t,n,r,i,o=this,a=0,c=1.5,u=1,d={},p=o.elements.preview,f=o.elements.zoomer,h=new Z(0,0,u),m=new H,v=I.call(o);v&&!o.data.bound&&(o.data.bound=!0,d[j]=h.toString(),d[O]=m.toString(),d.opacity=1,l(p,d),e=p.getBoundingClientRect(),t=o.elements.viewport.getBoundingClientRect(),n=o.elements.boundary.getBoundingClientRect(),o._originalImageWidth=e.width,o._originalImageHeight=e.height,o.options.enableZoom&&(o.options.enforceBoundary&&(r=t.width/e.width,i=t.height/e.height,a=Math.max(r,i)),a>=c&&(c=a+1),f.min=L(a,4),f.max=L(c,4),u=Math.max(n.width/e.width,n.height/e.height),g.call(o,u),s(f)),o._currentZoom=h.scale=u,d[j]=h.toString(),l(p,d),o.data.points.length?P.call(o,o.data.points):T.call(o),b.call(o),S.call(o))}function P(e){if(4!=e.length)throw"Croppie - Invalid number of points supplied: "+e;var t=this,n=e[2]-e[0],r=t.elements.viewport.getBoundingClientRect(),i=t.elements.boundary.getBoundingClientRect(),o={left:r.left-i.left,top:r.top-i.top},a=r.width/n,s=e[1],c=e[0],u=-1*e[1]+o.top,d=-1*e[0]+o.left,p={};p[O]=c+"px "+s+"px",p[j]=new Z(d,u,a).toString(),l(t.elements.preview,p),g.call(t,a),t._currentZoom=a}function T(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),r=e.elements.boundary.getBoundingClientRect(),i=n.left-r.left,o=n.top-r.top,a=i-(t.width-n.width)/2,s=o-(t.height-n.height)/2,c=new Z(a,s,e._currentZoom);l(e.elements.preview,j,c.toString())}function E(e){var t=this,n=t.elements.canvas,r=t.elements.img,i=n.getContext("2d"),o=m.call(t),e=t.options.enableOrientation&&e;i.clearRect(0,0,n.width,n.height),n.width=r.width,n.height=r.height,o?p(r,function(t){f(n,r,parseInt(t)),e&&f(n,r,e)}):e&&f(n,r,e)}function R(e){var t=e.points,n=document.createElement("div"),r=document.createElement("img"),i=t[2]-t[0],o=t[3]-t[1];return c(n,"croppie-result"),n.appendChild(r),l(r,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),r.src=e.url,l(n,{width:i+"px",height:o+"px"}),n}function D(e,t){var n=t.points,r=n[0],i=n[1],o=n[2]-n[0],a=n[3]-n[1],s=t.circle,l=document.createElement("canvas"),c=l.getContext("2d"),u=o,d=a;return t.outputWidth&&t.outputHeight&&(u=t.outputWidth,d=t.outputHeight),l.width=u,l.height=d,c.drawImage(e,r,i,o,a,0,0,u,d),s&&(c.fillStyle="#fff",c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(u/2,d/2,u/2,0,2*Math.PI,!0),c.closePath(),c.fill()),l.toDataURL(t.format,t.quality)}function U(e,t){var n,r=this,i=[];if("string"==typeof e)n=e,e={};else if(Array.isArray(e))i=e.slice();else{if("undefined"==typeof e&&r.data.url)return F.call(r),C.call(r),null;n=e.url,i=e.points||[]}r.data.bound=!1,r.data.url=n||r.data.url,r.data.points=(i||r.data.points).map(function(e){return parseFloat(e)});var o=d(n,r.elements.img);return o.then(function(){r.options.useCanvas&&(r.elements.img.exifdata=null,E.call(r,e.orientation||1)),F.call(r),C.call(r),t&&t()}),o}function L(e,t){return parseFloat(e).toFixed(t||0)}function _(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),r=n.left-t.left,i=n.top-t.top,o=r+n.width,a=i+n.height,s=e._currentZoom;(s===1/0||isNaN(s))&&(s=1);var l=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return r=Math.max(l,r/s),i=Math.max(l,i/s),o=Math.max(l,o/s),a=Math.max(l,a/s),{points:[L(r),L(i),L(o),L(a)],zoom:s}}function A(e){var t,n=this,r=_.call(n),o=i(q,i({},e)),a="string"==typeof e?e:o.type||"viewport",s=o.size,l=o.format,c=o.quality,u=n.elements.viewport.getBoundingClientRect(),d=u.width/u.height;return"viewport"===s?(r.outputWidth=u.width,r.outputHeight=u.height):"object"==typeof s&&(s.width&&s.height?(r.outputWidth=s.width,r.outputHeight=s.height):s.width?(r.outputWidth=s.width,r.outputHeight=s.width/d):s.height&&(r.outputWidth=s.height*d,r.outputHeight=s.height)),J.indexOf(l)>-1&&(r.format="image/"+l,r.quality=c),r.circle="circle"===n.options.viewport.type,r.url=n.data.url,t=new Promise(function(e,t){e("canvas"===a?D.call(n,n.elements.preview,r):R.call(n,r))})}function k(){F.call(this)}function B(e){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var t=this,n=t.elements.canvas,r=(t.elements.img,document.createElement("canvas")),i=1;r.width=n.width,r.height=n.height;var o=r.getContext("2d");o.drawImage(n,0,0),90!==e&&-270!==e||(i=6),-90!==e&&270!==e||(i=8),180!==e&&-180!==e||(i=3),f(n,r,i),w.call(t)}function M(){var e=this;e.element.removeChild(e.elements.boundary),u(e.element,"croppie-container"),e.options.enableZoom&&e.element.removeChild(e.elements.zoomerWrap),delete e.elements}function G(e,t){if(this.element=e,this.options=i(i({},G.defaults),t),h.call(this),this.options.url){var n={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,U.call(this,n)}}"function"!=typeof Promise&&!function(t){function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,r(a,this),r(s,this))}function o(e){var t=this;return null===this._state?void this._deferreds.push(e):void p(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)})}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void u(r(t,e),r(a,this),r(s,this))}this._state=!0,this._value=e,l.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;t>e;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}var d=setTimeout,p="function"==typeof n&&n||function(e){d(e,1)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i(function(r,i){o.call(n,new c(e,t,r,i))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0===--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},i._setImmediateFn=function(e){p=e},"undefined"!=typeof e&&e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this);var O,j,N,X=["Webkit","Moz","ms"],Y=document.createElement("div").style;j=r("transform"),O=r("transformOrigin"),N=r("userSelect");var z="translate3d",W=", 0px",Z=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};Z.parse=function(e){return e.style?Z.parse(e.style[j]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?Z.fromMatrix(e):Z.fromString(e)},Z.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new Z(parseInt(t[4],10),parseInt(t[5],10),parseFloat(t[0]))},Z.fromString=function(e){var t=e.split(") "),n=t[0].substring(z.length+1).split(","),r=t.length>1?t[1].substring(6):1,i=n.length>1?n[0]:0,o=n.length>1?n[1]:0;return new Z(i,o,r)},Z.prototype.toString=function(){return z+"("+this.x+"px, "+this.y+"px"+W+") scale("+this.scale+")"};var H=function(e){if(!e||!e.style[O])return this.x=0,void(this.y=0);var t=e.style[O].split(" ");this.x=parseFloat(t[0]),this.y=parseFloat(t[1])};H.prototype.toString=function(){return this.x+"px "+this.y+"px"};var V=o(S,500),q={type:"canvas",format:"png",quality:1},J=["jpeg","webp","png"];if(window.jQuery){var $=window.jQuery;$.fn.croppie=function(e){var t=typeof e;if("string"===t){var n=Array.prototype.slice.call(arguments,1),r=$(this).data("croppie");return"get"===e?r.get():"result"===e?r.result.apply(r,n):this.each(function(){var t=$(this).data("croppie");if(t){var r=t[e];if(!$.isFunction(r))throw"Croppie "+e+" method not found";r.apply(t,n),"destroy"===e&&$(this).removeData("croppie")}})}return this.each(function(){var t=new G(this,e);$(this).data("croppie",t)})}}G.defaults={viewport:{width:100,height:100,type:"square"},boundary:{width:300,height:300},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}},i(G.prototype,{bind:function(e,t){return U.call(this,e,t)},get:function(){return _.call(this)},result:function(e){return A.call(this,e)},refresh:function(){return k.call(this)},setZoom:function(e){g.call(this,e),s(this.elements.zoomer)},rotate:function(e){B.call(this,e)},destroy:function(){return M.call(this)}}),t.Croppie=window.Croppie=G,"object"==typeof e&&e.exports&&(e.exports=G)})}).call(t,n(6).setImmediate,n(8))},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(7).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=arguments.length<2?!1:s.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(t,n(6).setImmediate,n(6).clearImmediate)},function(e,t){function n(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&r())}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},l=[],c=!1,u=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new i(e,t)),1!==l.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){var i,o;(function(){function r(e){return!!e.exifdata}function a(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;r>a;a++)o[a]=n.charCodeAt(a);return i}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function l(e,t){function n(n){var r=c(n),i=u(n);e.exifdata=r||{},e.iptcdata=i||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var r=a(e.src);n(r)}else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){n(e.target.result)},s(e.src,function(e){i.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(o.response),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var i=new FileReader;i.onload=function(e){g&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},i.readAsArrayBuffer(e)}}function c(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var n,r=2,i=e.byteLength;i>r;){if(255!=t.getUint8(r))return g&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),g&&console.log(n),225==n)return g&&console.log("Found 0xFFE1 marker"),m(t,r+4,t.getUint16(r+2)-2);r+=2+t.getUint16(r+2)}}function u(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength,i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};r>n;){if(i(t,n)){var o=t.getUint8(n+7);o%2!==0&&(o+=1),0===o&&(o=4);var a=n+8+o,s=t.getUint16(n+6+o);return d(e,a,s)}n++}}function d(e,t,n){for(var r,i,o,a,s,l=new DataView(e),c={},u=t;t+n>u;)28===l.getUint8(u)&&2===l.getUint8(u+1)&&(a=l.getUint8(u+2),a in S&&(o=l.getInt16(u+3),s=o+5,i=S[a],r=h(l,u+5,o),c.hasOwnProperty(i)?c[i]instanceof Array?c[i].push(r):c[i]=[c[i],r]:c[i]=r)),u++;return c}function p(e,t,n,r,i){var o,a,s,l=e.getUint16(n,!i),c={};for(s=0;l>s;s++)o=n+12*s+2,a=r[e.getUint16(o,!i)],!a&&g&&console.log("Unknown tag: "+e.getUint16(o,!i)),c[a]=f(e,o,t,n,i);return c}function f(e,t,n,r,i){var o,a,s,l,c,u,d=e.getUint16(t+2,!i),p=e.getUint32(t+4,!i),f=e.getUint32(t+8,!i)+n;switch(d){case 1:case 7:if(1==p)return e.getUint8(t+8,!i);for(o=p>4?f:t+8,a=[],l=0;p>l;l++)a[l]=e.getUint8(o+l);return a;case 2:return o=p>4?f:t+8,h(e,o,p-1);case 3:if(1==p)return e.getUint16(t+8,!i);for(o=p>2?f:t+8,a=[],l=0;p>l;l++)a[l]=e.getUint16(o+2*l,!i);return a;case 4:if(1==p)return e.getUint32(t+8,!i);for(a=[],l=0;p>l;l++)a[l]=e.getUint32(f+4*l,!i);return a;case 5:if(1==p)return c=e.getUint32(f,!i),u=e.getUint32(f+4,!i),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(a=[],l=0;p>l;l++)c=e.getUint32(f+8*l,!i),u=e.getUint32(f+4+8*l,!i),a[l]=new Number(c/u),a[l].numerator=c,a[l].denominator=u;return a;case 9:if(1==p)return e.getInt32(t+8,!i);for(a=[],l=0;p>l;l++)a[l]=e.getInt32(f+4*l,!i);return a;case 10:if(1==p)return e.getInt32(f,!i)/e.getInt32(f+4,!i);for(a=[],l=0;p>l;l++)a[l]=e.getInt32(f+8*l,!i)/e.getInt32(f+4+8*l,!i);return a}}function h(e,t,r){var i="";for(n=t;n<t+r;n++)i+=String.fromCharCode(e.getUint8(n));return i}function m(e,t){if("Exif"!=h(e,t,4))return g&&console.log("Not valid EXIF data! "+h(e,t,4)),!1;var n,r,i,o,a,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return g&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return g&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(s+4,!n);if(8>l)return g&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(r=p(e,s,s+l,y,n),r.ExifIFDPointer){o=p(e,s,s+r.ExifIFDPointer,w,n);for(i in o){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[i]=x[i][o[i]];break;case"ExifVersion":case"FlashpixVersion":o[i]=String.fromCharCode(o[i][0],o[i][1],o[i][2],o[i][3]);break;case"ComponentsConfiguration":o[i]=x.Components[o[i][0]]+x.Components[o[i][1]]+x.Components[o[i][2]]+x.Components[o[i][3]]}r[i]=o[i]}}if(r.GPSInfoIFDPointer){a=p(e,s,s+r.GPSInfoIFDPointer,b,n);for(i in a){switch(i){case"GPSVersionID":a[i]=a[i][0]+"."+a[i][1]+"."+a[i][2]+"."+a[i][3]}r[i]=a[i]}}return r}var g=!1,v=function(e){return e instanceof v?e:this instanceof v?void(this.EXIFwrapped=e):new v(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=v),t.EXIF=v;var w=v.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",
40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},y=v.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},b=v.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},x=v.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},S={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};v.getData=function(e,t){return(e instanceof Image||e instanceof HTMLImageElement)&&!e.complete?!1:(r(e)?t&&t.call(e):l(e,t),!0)},v.getTag=function(e,t){return r(e)?e.exifdata[t]:void 0},v.getAllTags=function(e){if(!r(e))return{};var t,n=e.exifdata,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},v.pretty=function(e){if(!r(e))return"";var t,n=e.exifdata,i="";for(t in n)n.hasOwnProperty(t)&&(i+="object"==typeof n[t]?n[t]instanceof Number?t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":t+" : ["+n[t].length+" values]\r\n":t+" : "+n[t]+"\r\n");return i},v.readFromBinaryFile=function(e){return c(e)},i=[],o=function(){return v}.apply(t,i),!(void 0!==o&&(e.exports=o))}).call(this)},function(e,t,n){n(10);e.exports=function(e){var t=[];return t.push('<div class="cropper"></div><div layout="row" layout-align="end"><md-button ng-click="$ctrl.onCancel()" class="md-primary">abbrechen</md-button><span flex></span><md-button ng-click="$ctrl.saveCrop()" class="md-accent">anwenden</md-button></div>'),t.join("")}},function(e,t,n){"use strict";function r(e){return null!=e&&""!==e}function i(e){return(Array.isArray(e)?e.map(i):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(r).join(" ")}function o(e){return s[e]||e}function a(e){var t=String(e).replace(l,o);return t===""+e?e:t}t.merge=function c(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=c(n,e[i]);return n}var o=e["class"],a=t["class"];(o||a)&&(o=o||[],a=a||[],Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]),e["class"]=o.concat(a).filter(r));for(var s in t)"class"!=s&&(e[s]=t[s]);return e},t.joinClasses=i,t.cls=function(e,n){for(var r=[],o=0;o<e.length;o++)n&&n[o]?r.push(t.escape(i([e[o]]))):r.push(i(e[o]));var a=i(r);return a.length?' class="'+a+'"':""},t.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},t.attr=function(e,n,r,i){return"style"===e&&(n=t.style(n)),"boolean"==typeof n||null==n?n?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof n?(-1!==JSON.stringify(n).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),n&&"function"==typeof n.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):r?(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t.escape(n)+'"'):(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n+'"')},t.attrs=function(e,n){var r=[],o=Object.keys(e);if(o.length)for(var a=0;a<o.length;++a){var s=o[a],l=e[s];"class"==s?(l=i(l))&&r.push(" "+s+'="'+l+'"'):r.push(t.attr(s,l,!1,n))}return r.join("")};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},l=/[&<>"]/g;t.escape=a,t.rethrow=function u(e,t,r,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||i))throw e.message+=" on line "+r,e;try{i=i||n(11).readFileSync(t,"utf8")}catch(o){u(e,null,r)}var a=3,s=i.split("\n"),l=Math.max(r-a,0),c=Math.min(s.length,r+a),a=s.slice(l,c).map(function(e,t){var n=t+l+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+r+"\n"+a+"\n\n"+e.message,e},t.DebugItem=function(e,t){this.lineno=e,this.filename=t}},function(e,t){}])});
//# sourceMappingURL=ngImageCrop.min.js.map